<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.StateGraph.Examples.Utilities</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.StateGraph.Examples.Utilities</h1>
</div>
<h1 id="modelica.stategraph.examples.utilities"><a href="Modelica_StateGraph_Examples.html#Modelica.StateGraph.Examples">Modelica.StateGraph.Examples</a>.Utilities</h1>
<p><strong>Utility components for the examples</strong></p>
<h2 id="information">Information</h2>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="64%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.TankControllerS.png" alt="image12" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.TankController">TankController</a></td>
<td align="left">Controller for tank system</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.MakeProductS.png" alt="image13" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.MakeProduct">MakeProduct</a></td>
<td align="left">State machine defining the time instants when to fill or empty a tank</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.inflow1S.png" alt="image14" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.inflow1">inflow1</a></td>
<td align="left">Inflow connector (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.inflow1S.png" alt="image15" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.inflow2">inflow2</a></td>
<td align="left">Inflow connector (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.outflow1S.png" alt="image16" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.outflow1">outflow1</a></td>
<td align="left">Outflow connector (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.outflow1S.png" alt="image17" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.outflow2">outflow2</a></td>
<td align="left">Outflow connector (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.valveS.png" alt="image18" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.valve">valve</a></td>
<td align="left">Simple valve model (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.TankS.png" alt="image19" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.Tank">Tank</a></td>
<td align="left">Simple tank model (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.SourceS.png" alt="image20" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.Source">Source</a></td>
<td align="left">Simple source model (this is a copy from Isolde Dressler's master thesis project)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepS.png" alt="image21" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.CompositeStep">CompositeStep</a></td>
<td align="left">State machine demonstrating a composite step (used in StateGraph.Examples.ShowCompositeStep)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepS.png" alt="image22" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.CompositeStep1">CompositeStep1</a></td>
<td align="left">Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepS.png" alt="image23" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.CompositeStep2">CompositeStep2</a></td>
<td align="left">Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image24-modelica.stategraph.examples.utilities.tankcontroller"><img src="Modelica.StateGraph.Examples.Utilities.TankControllerI.png" alt="image24" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.TankController</h1>
<p><strong>Controller for tank system</strong></p>
<h2 id="information-1">Information</h2>
<p>Extends from <a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStateGraphIcon">StateGraph.Interfaces.PartialStateGraphIcon</a> (Icon for a StateGraph object).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="7%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary.SetRealParameter">SetRealParameter</a></td>
<td align="left">limit</td>
<td align="left">0.98</td>
<td align="left">Limit level of tank 1</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary.SetRealParameter">SetRealParameter</a></td>
<td align="left">waitTime</td>
<td align="left">3</td>
<td align="left">Wait time</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="79%" />
<col width="8%" />
<col width="12%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">start</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">stop</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">shut</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">level1</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">level2</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput">BooleanOutput</a></td>
<td align="left">valve1</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput">BooleanOutput</a></td>
<td align="left">valve2</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput">BooleanOutput</a></td>
<td align="left">valve3</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model TankController &quot;Controller for tank system&quot;
  extends StateGraph.Interfaces.PartialStateGraphIcon;
  parameter Temporary.SetRealParameter limit=0.98 &quot;Limit level of tank 1&quot;;
  parameter Temporary.SetRealParameter waitTime=3 &quot;Wait time&quot;;

  InitialStep s1(nIn=2);
  MakeProduct makeProduct(limit=limit, waitTime=waitTime);
  Transition T1(condition=start);
  Transition T2(condition=level2&lt;0.001);
  Transition T3(condition=stop);
  Step s2(nOut=2);
  Transition T4(condition=start);
  Transition T5(condition=shut);
  Step emptyTanks;
  Transition T6(condition=level1+level2&lt;0.001);
  Modelica.Blocks.Interfaces.BooleanInput start;
  Modelica.Blocks.Interfaces.BooleanInput stop;
  Modelica.Blocks.Interfaces.BooleanInput shut;
  Modelica.Blocks.Interfaces.RealInput level1;
  Modelica.Blocks.Interfaces.RealInput level2;
  Modelica.Blocks.Interfaces.BooleanOutput valve1;
  Modelica.Blocks.Interfaces.BooleanOutput valve2;
  Modelica.Blocks.Interfaces.BooleanOutput valve3;
  Modelica.Blocks.Sources.BooleanExpression setValve1(y=makeProduct.fillTank1.active);
  Modelica.Blocks.Sources.BooleanExpression setValve2(y=makeProduct.fillTank2.active or emptyTanks.active);
  Modelica.Blocks.Sources.BooleanExpression setValve3(y=makeProduct.emptyTank2.active or emptyTanks.active);
equation 

  connect(s1.outPort[1], T1.inPort);
  connect(T1.outPort, makeProduct.inPort);
  connect(makeProduct.outPort, T2.inPort);
  connect(T5.outPort, emptyTanks.inPort[1]);
  connect(emptyTanks.outPort[1], T6.inPort);
  connect(setValve1.y, valve1);
  connect(setValve2.y, valve2);
  connect(setValve3.y, valve3);
  connect(makeProduct.suspend[1], T3.inPort);
  connect(T3.outPort, s2.inPort[1]);
  connect(T4.outPort, makeProduct.resume[1]);
  connect(level1, makeProduct.level1);
  connect(s2.outPort[1], T5.inPort);
  connect(s2.outPort[2], T4.inPort);
  connect(T2.outPort, s1.inPort[1]);
  connect(T6.outPort, s1.inPort[2]);
end TankController;</code></pre>
<hr />
<h1 id="image25-modelica.stategraph.examples.utilities.makeproduct"><img src="Modelica.StateGraph.Examples.Utilities.MakeProductI.png" alt="image25" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.MakeProduct</h1>
<p><strong>State machine defining the time instants when to fill or empty a tank</strong></p>
<h2 id="information-2">Information</h2>
<p>Extends from <a href="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep">StateGraph.PartialCompositeStep</a> (Superclass of a subgraph, i.e., a composite step that has internally a StateGraph).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="7%" />
<col width="17%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary.SetRealParameter">SetRealParameter</a></td>
<td align="left">limit</td>
<td align="left">0.98</td>
<td align="left">Limit level of tank 1</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary.SetRealParameter">SetRealParameter</a></td>
<td align="left">waitTime</td>
<td align="left">3</td>
<td align="left">Wait time</td>
</tr>
<tr class="odd">
<td align="left">Exception connections</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">nSuspend</td>
<td align="left">1</td>
<td align="left">Number of suspend ports</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">nResume</td>
<td align="left">1</td>
<td align="left">Number of resume ports</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="76%" />
<col width="13%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in">Step_in</a></td>
<td align="left">inPort</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out">Step_out</a></td>
<td align="left">outPort</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend">CompositeStep_suspend</a></td>
<td align="left">suspend[nSuspend]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume">CompositeStep_resume</a></td>
<td align="left">resume[nResume]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">level1</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model MakeProduct 
  &quot;State machine defining the time instants when to fill or empty a tank&quot;
  extends StateGraph.PartialCompositeStep;
  parameter StateGraph.Temporary.SetRealParameter limit=0.98 
    &quot;Limit level of tank 1&quot;;
  parameter StateGraph.Temporary.SetRealParameter waitTime=3 &quot;Wait time&quot;;

  Modelica.Blocks.Interfaces.RealInput level1;
  Step fillTank1;
  Transition T1(condition=level1 &gt; limit);
  Step fillTank2;
  Transition T3(condition=level1 &lt; 0.001);
  Step emptyTank2;
  Step wait1;
  Transition T2(enableTimer=true, waitTime=waitTime);
  Step wait2;
  Transition T4(enableTimer=true, waitTime=waitTime);
equation 
  connect(fillTank1.inPort[1], inPort);
  connect(fillTank1.outPort[1], T1.inPort);
  connect(fillTank2.outPort[1], T3.inPort);
  connect(emptyTank2.outPort[1], outPort);
  connect(wait1.outPort[1], T2.inPort);
  connect(T2.outPort, fillTank2.inPort[1]);
  connect(T1.outPort, wait1.inPort[1]);
  connect(wait2.outPort[1], T4.inPort);
  connect(T3.outPort, wait2.inPort[1]);
  connect(T4.outPort,emptyTank2.inPort[1]);
end MakeProduct;</code></pre>
<hr />
<h1 id="image26-modelica.stategraph.examples.utilities.inflow1"><img src="Modelica.StateGraph.Examples.Utilities.inflow1I.png" alt="image26" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.inflow1</h1>
<p><strong>Inflow connector (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="contents">Contents</h2>
<table>
<col width="75%" />
<col width="8%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">Fi</td>
<td align="left">inflow [m3/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>connector inflow1 
  &quot;Inflow connector (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  import Units = Modelica.SIunits;

  input Units.VolumeFlowRate Fi &quot;inflow&quot;;
end inflow1;</code></pre>
<hr />
<h1 id="image27-modelica.stategraph.examples.utilities.inflow2"><img src="Modelica.StateGraph.Examples.Utilities.inflow1I.png" alt="image27" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.inflow2</h1>
<p><strong>Inflow connector (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="contents-1">Contents</h2>
<table>
<col width="75%" />
<col width="8%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">output <a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">Fi</td>
<td align="left">inflow [m3/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>connector inflow2 
  &quot;Inflow connector (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  import Units = Modelica.SIunits;

  output Units.VolumeFlowRate Fi &quot;inflow&quot;;
end inflow2;</code></pre>
<hr />
<h1 id="image28-modelica.stategraph.examples.utilities.outflow1"><img src="Modelica.StateGraph.Examples.Utilities.outflow1I.png" alt="image28" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.outflow1</h1>
<p><strong>Outflow connector (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="contents-2">Contents</h2>
<table>
<col width="75%" />
<col width="7%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">output <a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">Fo</td>
<td align="left">outflow [m3/s]</td>
</tr>
<tr class="even">
<td align="left">input Boolean</td>
<td align="left">open</td>
<td align="left">valve open</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>connector outflow1 
  &quot;Outflow connector (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  import Units = Modelica.SIunits;

  output Units.VolumeFlowRate Fo &quot;outflow&quot;;
  input Boolean open &quot;valve open&quot;;
end outflow1;</code></pre>
<hr />
<h1 id="image29-modelica.stategraph.examples.utilities.outflow2"><img src="Modelica.StateGraph.Examples.Utilities.outflow1I.png" alt="image29" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.outflow2</h1>
<p><strong>Outflow connector (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="contents-3">Contents</h2>
<table>
<col width="75%" />
<col width="8%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">Fo</td>
<td align="left">outflow [m3/s]</td>
</tr>
<tr class="even">
<td align="left">output Boolean</td>
<td align="left">open</td>
<td align="left">valve open</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>connector outflow2 
  &quot;Outflow connector (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  import Units = Modelica.SIunits;

  input Units.VolumeFlowRate Fo &quot;outflow&quot;;
  output Boolean open &quot;valve open&quot;;
end outflow2;</code></pre>
<hr />
<h1 id="image30-modelica.stategraph.examples.utilities.valve"><img src="Modelica.StateGraph.Examples.Utilities.valveI.png" alt="image30" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.valve</h1>
<p><strong>Simple valve model (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="76%" />
<col width="11%" />
<col width="11%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">valveControl</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.inflow2">inflow2</a></td>
<td align="left">inflow1</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.outflow2">outflow2</a></td>
<td align="left">outflow1</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>model valve 
  &quot;Simple valve model (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  Modelica.Blocks.Interfaces.BooleanInput valveControl;
  Modelica.StateGraph.Examples.Utilities.inflow2 inflow1;
  Modelica.StateGraph.Examples.Utilities.outflow2 outflow1;
equation 
  outflow1.Fo = inflow1.Fi;
  outflow1.open = valveControl;
end valve;</code></pre>
<hr />
<h1 id="image31-modelica.stategraph.examples.utilities.tank"><img src="Modelica.StateGraph.Examples.Utilities.TankI.png" alt="image31" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.Tank</h1>
<p><strong>Simple tank model (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="12%" />
<col width="12%" />
<col width="16%" />
<col width="43%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">A</td>
<td align="left">1</td>
<td align="left">Ground area of tank in m^2</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">a</td>
<td align="left">0.2</td>
<td align="left">Area of drain hole in m^2</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">hmax</td>
<td align="left">1</td>
<td align="left">Max height of tank in m</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="77%" />
<col width="11%" />
<col width="11%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">levelSensor</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.inflow1">inflow1</a></td>
<td align="left">inflow1</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.outflow1">outflow1</a></td>
<td align="left">outflow1</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>model Tank 
  &quot;Simple tank model (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  Modelica.Blocks.Interfaces.RealOutput levelSensor;

  Modelica.StateGraph.Examples.Utilities.inflow1 inflow1;
  Modelica.StateGraph.Examples.Utilities.outflow1 outflow1;
  Real level &quot;Tank level in % of max height&quot;;
  parameter Real A=1 &quot;Ground area of tank in m^2&quot;;
  parameter Real a=0.2 &quot;Area of drain hole in m^2&quot;;
  parameter Real hmax=1 &quot;Max height of tank in m&quot;;
  constant Real g=Modelica.Constants.g_n;
equation 
  der(level) = (inflow1.Fi - outflow1.Fo)/(hmax*A);
  if outflow1.open then
    outflow1.Fo = sqrt(max(0,2*g*hmax*level))*a;
  else
    outflow1.Fo = 0;
  end if;
  levelSensor = level;

end Tank;</code></pre>
<hr />
<h1 id="image32-modelica.stategraph.examples.utilities.source"><img src="Modelica.StateGraph.Examples.Utilities.SourceI.png" alt="image32" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.Source</h1>
<p><strong>Simple source model (this is a copy from Isolde Dressler's master thesis project)</strong></p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="12%" />
<col width="16%" />
<col width="16%" />
<col width="43%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">maxflow</td>
<td align="left">1</td>
<td align="left">maximal flow out of source</td>
</tr>
</tbody>
</table>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="79%" />
<col width="9%" />
<col width="11%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities.outflow1">outflow1</a></td>
<td align="left">outflow1</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-8">Modelica definition</h2>
<pre><code>model Source 
  &quot;Simple source model (this is a copy from Isolde Dressler&#39;s master thesis project)&quot;

  Modelica.StateGraph.Examples.Utilities.outflow1 outflow1;
  parameter Real maxflow=1 &quot;maximal flow out of source&quot;;
equation 
  if outflow1.open then
    outflow1.Fo = maxflow;
  else
    outflow1.Fo = 0;
  end if;
end Source;</code></pre>
<hr />
<h1 id="image33-modelica.stategraph.examples.utilities.compositestep"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepI.png" alt="image33" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.CompositeStep</h1>
<p><strong>State machine demonstrating a composite step (used in StateGraph.Examples.ShowCompositeStep)</strong></p>
<h2 id="information-3">Information</h2>
<p>Extends from <a href="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep">StateGraph.PartialCompositeStep</a> (Superclass of a subgraph, i.e., a composite step that has internally a StateGraph).</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="32%" />
<col width="16%" />
<col width="15%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Exception connections</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">nSuspend</td>
<td align="left">1</td>
<td align="left">Number of suspend ports</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">nResume</td>
<td align="left">1</td>
<td align="left">Number of resume ports</td>
</tr>
</tbody>
</table>
<h2 id="connectors-5">Connectors</h2>
<table>
<col width="76%" />
<col width="13%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in">Step_in</a></td>
<td align="left">inPort</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out">Step_out</a></td>
<td align="left">outPort</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend">CompositeStep_suspend</a></td>
<td align="left">suspend[nSuspend]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume">CompositeStep_resume</a></td>
<td align="left">resume[nResume]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-9">Modelica definition</h2>
<pre><code>model CompositeStep 
  &quot;State machine demonstrating a composite step (used in StateGraph.Examples.ShowCompositeStep)&quot;
  extends StateGraph.PartialCompositeStep;
  Transition transition3(enableTimer=true, waitTime=1);
  Transition transition4(enableTimer=true, waitTime=1);
  Step step3;
  Step step4;
  Transition transition5(enableTimer=true, waitTime=2);
  Transition transition6(enableTimer=true, waitTime=2);
  Transition transition4a(enableTimer=true, waitTime=1);
  Step step4a;
  Transition transition6a(enableTimer=true, waitTime=2);
  Step initStep;
  Step exitStep;
  Alternative Alternative1(nBranches=3);
equation 
  connect(transition3.outPort, step3.inPort[1]);
  connect(step3.outPort[1], transition5.inPort);
  connect(transition4.outPort, step4.inPort[1]);
  connect(step4.outPort[1], transition6.inPort);
  connect(transition4a.outPort, step4a.inPort[1]);
  connect(step4a.outPort[1], transition6a.inPort);
  connect(initStep.inPort[1], inPort);
  connect(exitStep.outPort[1], outPort);
  connect(initStep.outPort[1], Alternative1.inPort);
  connect(Alternative1.outPort, exitStep.inPort[1]);
  connect(transition3.inPort, Alternative1.split[1]);
  connect(transition4.inPort, Alternative1.split[2]);
  connect(transition4a.inPort, Alternative1.split[3]);
  connect(transition5.outPort, Alternative1.join[1]);
  connect(transition6.outPort, Alternative1.join[2]);
  connect(transition6a.outPort, Alternative1.join[3]);
end CompositeStep;</code></pre>
<hr />
<h1 id="image34-modelica.stategraph.examples.utilities.compositestep1"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepI.png" alt="image34" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.CompositeStep1</h1>
<p><strong>Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)</strong></p>
<h2 id="information-4">Information</h2>
<p>Extends from <a href="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep">PartialCompositeStep</a> (Superclass of a subgraph, i.e., a composite step that has internally a StateGraph).</p>
<h2 id="parameters-5">Parameters</h2>
<table>
<col width="32%" />
<col width="16%" />
<col width="15%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Exception connections</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">nSuspend</td>
<td align="left">1</td>
<td align="left">Number of suspend ports</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">nResume</td>
<td align="left">1</td>
<td align="left">Number of resume ports</td>
</tr>
</tbody>
</table>
<h2 id="connectors-6">Connectors</h2>
<table>
<col width="76%" />
<col width="13%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in">Step_in</a></td>
<td align="left">inPort</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out">Step_out</a></td>
<td align="left">outPort</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend">CompositeStep_suspend</a></td>
<td align="left">suspend[nSuspend]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume">CompositeStep_resume</a></td>
<td align="left">resume[nResume]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-10">Modelica definition</h2>
<pre><code>model CompositeStep1 
  &quot;Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)&quot;
  extends PartialCompositeStep;
  Transition transition1(
    enableTimer=false,
    waitTime=0,
    condition=time &gt; 8);
  Step initStep;
  Step exitStep;
  CompositeStep2 compositeStep11(waitTime=3);
  CompositeStep2 compositeStep12(waitTime=2);
  Transition transition2(
    condition=time &gt; 4,
    enableTimer=false,
    waitTime=0);
  Transition transition3(enableTimer=false, waitTime=0);
  Transition transition4(enableTimer=false, waitTime=0);
  Alternative Alternative1;
equation 
  connect(exitStep.outPort[1], outPort);
  connect(initStep.inPort[1], inPort);
  connect(transition1.outPort, compositeStep11.inPort);
  connect(transition2.outPort, compositeStep12.inPort);
  connect(compositeStep11.outPort, transition3.inPort);
  connect(compositeStep12.outPort, transition4.inPort);
  connect(initStep.outPort[1], Alternative1.inPort);
  connect(Alternative1.outPort, exitStep.inPort[1]);
  connect(transition1.inPort, Alternative1.split[1]);
  connect(transition2.inPort, Alternative1.split[2]);
  connect(transition3.outPort, Alternative1.join[1]);
  connect(transition4.outPort, Alternative1.join[2]);
end CompositeStep1;</code></pre>
<hr />
<h1 id="image35-modelica.stategraph.examples.utilities.compositestep2"><img src="Modelica.StateGraph.Examples.Utilities.CompositeStepI.png" alt="image35" /> <a href="Modelica_StateGraph_Examples_Utilities.html#Modelica.StateGraph.Examples.Utilities">Modelica.StateGraph.Examples.Utilities</a>.CompositeStep2</h1>
<p><strong>Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)</strong></p>
<h2 id="information-5">Information</h2>
<p>Extends from <a href="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep">PartialCompositeStep</a> (Superclass of a subgraph, i.e., a composite step that has internally a StateGraph).</p>
<h2 id="parameters-6">Parameters</h2>
<table>
<col width="62%" />
<col width="7%" />
<col width="6%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary.SetRealParameter">SetRealParameter</a></td>
<td align="left">waitTime</td>
<td align="left">2</td>
<td align="left">waiting time in this composite step</td>
</tr>
<tr class="even">
<td align="left">Exception connections</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">nSuspend</td>
<td align="left">1</td>
<td align="left">Number of suspend ports</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">nResume</td>
<td align="left">1</td>
<td align="left">Number of resume ports</td>
</tr>
</tbody>
</table>
<h2 id="connectors-7">Connectors</h2>
<table>
<col width="76%" />
<col width="13%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in">Step_in</a></td>
<td align="left">inPort</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out">Step_out</a></td>
<td align="left">outPort</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend">CompositeStep_suspend</a></td>
<td align="left">suspend[nSuspend]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume">CompositeStep_resume</a></td>
<td align="left">resume[nResume]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-11">Modelica definition</h2>
<pre><code>model CompositeStep2 
  &quot;Composite step used to demonstrate exceptions (in StateGraph.Examples.ShowExceptions)&quot;
  extends PartialCompositeStep;
  Transition transition(enableTimer=true, waitTime=waitTime);
  Step initStep;
  Step exitStep;
  parameter Temporary.SetRealParameter waitTime=2 
    &quot;waiting time in this composite step&quot;;
equation 
  connect(exitStep.outPort[1], outPort);
  connect(initStep.inPort[1], inPort);
  connect(initStep.outPort[1], transition.inPort);
  connect(transition.outPort, exitStep.inPort[1]);
end CompositeStep2;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:27:51 2010.</p>
</body>
</html>
