<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Electrical.Machines.Losses.DCMachines</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Electrical.Machines.Losses.DCMachines</h1>
</div>
<h1 id="modelica.electrical.machines.losses.dcmachines"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses">Modelica.Electrical.Machines.Losses</a>.DCMachines</h1>
<p><strong>Loss models for DC machines</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains loss models used for DC machine models.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage">Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="77%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Losses.DCMachines.BrushS.png" alt="image4" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines.Brush">Brush</a></td>
<td align="left">Model considering voltage drop of carbon brushes</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Losses.DCMachines.brushVoltageDropS.png" alt="image5" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines.brushVoltageDrop">brushVoltageDrop</a></td>
<td align="left">Voltage drop of carbon brushes</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Losses.DCMachines.StrayLoadS.png" alt="image6" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines.StrayLoad">StrayLoad</a></td>
<td align="left">Model of stray load losses dependent on current and speed</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Losses.DCMachines.CoreS.png" alt="image7" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines.Core">Core</a></td>
<td align="left">Model of core losses</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image8-modelica.electrical.machines.losses.dcmachines.brush"><img src="Modelica.Electrical.Machines.Losses.DCMachines.BrushI.png" alt="image8" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines">Modelica.Electrical.Machines.Losses.DCMachines</a>.Brush</h1>
<p><strong>Model considering voltage drop of carbon brushes</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Model of voltage drop and losses of carbon brushes. For currents between <code>-ILinear</code> and <code>ILinear</code> the voltage drop shows a linear behavior as depicted in Fig. 1. For positive currents greater or equal than <code>ILinear</code> the voltage drop equals <code>V</code>. For negative currents less or equal than <code>-ILinear</code> the voltage drop equals <code>-V</code>.</p>
<table>
<col width="76%" />
<tbody>
<tr class="odd">
<td align="left"><img src="../Resources/Images/Electrical/Machines/brush.png" alt="image10" /></td>
</tr>
<tr class="even">
<td align="left"><strong>Fig. 1:</strong>Model of voltage drop of carbon brushes</td>
</tr>
</tbody>
</table>
<h3 id="note">Note:</h3>
<p>The voltage drop <code>v</code> is the total voltage drop of all series connected brushes.</p>
<h3 id="see-also">See also</h3>
<p><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.BrushParameters">BrushParameters</a></p>
<p>If it is desired to neglect brush losses, set <code>brushParameters.V = 0</code> (this is the default).</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="67%" />
<col width="11%" />
<col width="6%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.BrushParameters">BrushParameters</a></td>
<td align="left">brushParameters</td>
<td align="left">
</td>
<td align="left">Brush loss parameters</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="59%" />
<col width="6%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort</td>
<td align="left">Heat port of the resistor</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model Brush &quot;Model considering voltage drop of carbon brushes&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter Machines.Losses.BrushParameters brushParameters 
    &quot;Brush loss parameters&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort 
    &quot;Heat port of the resistor&quot;;
equation 
  if (brushParameters.V&lt;=0) then
    v = 0;
  else
    v = smooth(1, if (i&gt;+brushParameters.ILinear) then +brushParameters.V else 
                  if (i&lt;-brushParameters.ILinear) then -brushParameters.V else 
                  brushParameters.V*i/brushParameters.ILinear);
  end if;
  heatPort.Q_flow = -v*i;
end Brush;</code></pre>
<hr />
<h1 id="image11-modelica.electrical.machines.losses.dcmachines.brushvoltagedrop"><img src="Modelica.Electrical.Machines.Losses.DCMachines.brushVoltageDropI.png" alt="image11" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines">Modelica.Electrical.Machines.Losses.DCMachines</a>.brushVoltageDrop</h1>
<p><strong>Voltage drop of carbon brushes</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Calculates the voltage drop of carbon brushes, according to <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines.Brush">Brush</a> losses, e.g., used for initial equations.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).</p>
<h2 id="inputs">Inputs</h2>
<table>
<col width="67%" />
<col width="11%" />
<col width="6%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.BrushParameters">BrushParameters</a></td>
<td align="left">brushParameters</td>
<td align="left">
</td>
<td align="left">Brush loss parameters</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">i</td>
<td align="left">
</td>
<td align="left">Actual current [A]</td>
</tr>
</tbody>
</table>
<h2 id="outputs">Outputs</h2>
<table>
<col width="68%" />
<col width="9%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">v</td>
<td align="left">Voltage drop [V]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>function brushVoltageDrop &quot;Voltage drop of carbon brushes&quot;
  extends Modelica.Icons.Function;
  input Machines.Losses.BrushParameters
    brushParameters &quot;Brush loss parameters&quot;;
  input Modelica.SIunits.Current i &quot;Actual current&quot;;
  output Modelica.SIunits.Voltage v &quot;Voltage drop&quot;;
algorithm 
  if (brushParameters.V&lt;=0) then
    v := 0;
  else
    v :=if (i &gt; +brushParameters.ILinear) then +brushParameters.V else 
        if (i &lt; -brushParameters.ILinear) then -brushParameters.V else 
                 brushParameters.V*i/brushParameters.ILinear;
  end if;
end brushVoltageDrop;</code></pre>
<hr />
<h1 id="image12-modelica.electrical.machines.losses.dcmachines.strayload"><img src="Modelica.Electrical.Machines.Losses.DCMachines.StrayLoadI.png" alt="image12" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines">Modelica.Electrical.Machines.Losses.DCMachines</a>.StrayLoad</h1>
<p><strong>Model of stray load losses dependent on current and speed</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>The stray load loss torque is</p>
<pre><code>tau = PRef/wRef * (i/IRef)^2 * (w/wRef)^power_w</code></pre>
<p>where <code>i</code> is the current of the machine and <code>w</code> is the actual angular velocity. The dependency of the stray load torque on the angular velocity is modeled by the exponent <code>power_w</code>.</p>
<p>The stray load losses are modeled such way that they do not cause a voltage drop in the electric circuit. Instead, the dissipated losses are considered through an equivalent braking torque at the shaft.</p>
<h3 id="see-also-1">See also</h3>
<p><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.StrayLoadParameters">StrayLoad parameters</a></p>
<p>If it is desired to neglect stray load losses, set <code>strayLoadParameters.PRef = 0</code> (this is the default).</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n), <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.FlangeSupport">Machines.Interfaces.FlangeSupport</a> (Shaft and support).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="65%" />
<col width="12%" />
<col width="6%" />
<col width="16%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.StrayLoadParameters">StrayLoadParameters</a></td>
<td align="left">strayLoadParameters</td>
<td align="left">
</td>
<td align="left">Stray load loss parameters</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="59%" />
<col width="6%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">flange</td>
<td align="left">Shaft end</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">support</td>
<td align="left">Housing and support</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort</td>
<td align="left">Heat port for modeling the heat flow</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model StrayLoad 
  &quot;Model of stray load losses dependent on current and speed&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  extends Machines.Interfaces.FlangeSupport;
  parameter Machines.Losses.StrayLoadParameters strayLoadParameters 
    &quot;Stray load loss parameters&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort 
    &quot;Heat port for modeling the heat flow&quot;;
equation 
  v = 0;
  if (strayLoadParameters.PRef&lt;=0) then
    tau = 0;
  else
    tau = -strayLoadParameters.tauRef*(i/strayLoadParameters.IRef)^2*
           smooth(1,if w &gt;= 0 then +(+w/strayLoadParameters.wRef)^strayLoadParameters.power_w else 
                                   -(-w/strayLoadParameters.wRef)^strayLoadParameters.power_w);
  end if;
  heatPort.Q_flow = tau*w;
end StrayLoad;</code></pre>
<hr />
<h1 id="image13-modelica.electrical.machines.losses.dcmachines.core"><img src="Modelica.Electrical.Machines.Losses.DCMachines.CoreI.png" alt="image13" /> <a href="Modelica_Electrical_Machines_Losses_DCMachines.html#Modelica.Electrical.Machines.Losses.DCMachines">Modelica.Electrical.Machines.Losses.DCMachines</a>.Core</h1>
<p><strong>Model of core losses</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>Core losses can be separated into <em>eddy current</em> and <em>hysteresis</em> losses. The total core losses can thus be expressed as</p>
<pre><code>p = PRef * (ratioHysteresis * (wRef / w) + 1 - ratioHysteresis) * (v / VRef)^2</code></pre>
<p>where <code>w</code> is the actual angular velocity and <code>v</code> is the actual voltage. The term <code>ratioHysteresis</code> is the ratio of the hysteresis losses with respect to the total core losses for reference inner voltage and reference angular velocity.</p>
<p>For the voltage and angular velocity range with respect to Fig. 1, the dependency of total core losses on the parameter <code>ratioHysteresis</code> is depicted in Fig. 2.</p>
<table>
<col width="65%" />
<tbody>
<tr class="odd">
<td align="left"><img src="../Resources/Images/Electrical/Machines/corelossesVw.png" alt="image15" /></td>
</tr>
<tr class="even">
<td align="left"><strong>Fig. 1:</strong>Voltage versus angular velocity</td>
</tr>
</tbody>
</table>
<table>
<col width="100%" />
<tbody>
<tr class="odd">
<td align="left"><img src="../Resources/Images/Electrical/Machines/corelossesPcw.png" alt="image17" /></td>
</tr>
<tr class="even">
<td align="left"><strong>Fig. 2:</strong>Core losses versus angular velocity with parameter <code>ratioHysteresis</code></td>
</tr>
</tbody>
</table>
<h3 id="note-1">Note</h3>
<p>In the current implementation it is assumed that <code>ratioHysteresis = 0</code>. This parameter cannot be changed due to compatibility reasons.</p>
<h3 id="see-also-2">See also</h3>
<p><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.CoreParameters">Core loss parameters</a></p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="60%" />
<col width="9%" />
<col width="6%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.CoreParameters">CoreParameters</a></td>
<td align="left">coreParameters</td>
<td align="left">
</td>
<td align="left">Armature core losses</td>
</tr>
<tr class="even">
<td align="left">Losses</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity">AngularVelocity</a></td>
<td align="left">w</td>
<td align="left">
</td>
<td align="left">Remagnetization angular velocity [rad/s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="59%" />
<col width="6%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort</td>
<td align="left">Heat port for modeling the heat flow</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>model Core &quot;Model of core losses&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter Machines.Losses.CoreParameters coreParameters(final m=1) 
    &quot;Armature core losses&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort 
    &quot;Heat port for modeling the heat flow&quot;;
  input Modelica.SIunits.AngularVelocity w &quot;Remagnetization angular velocity&quot;;
  Modelica.SIunits.Conductance Gc &quot;Variable core loss conductance&quot;;
protected 
  Modelica.SIunits.AngularVelocity wLimit = noEvent(max(noEvent(abs(w)),coreParameters.wMin)) 
    &quot;Limited angular velocity&quot;;
equation 
  if (coreParameters.PRef&lt;=0) then
    Gc = 0;
    i = 0;
  else
    Gc = coreParameters.GcRef;
    // * (coreParameters.wRef/wLimit*coreParameters.ratioHysteresis + 1 - coreParameters.ratioHysteresis);
    i = Gc*v;
  end if;
  heatPort.Q_flow = -v*i;
end Core;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:29:04 2010.</p>
</body>
</html>
