<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Mechanics.MultiBody.Visualizers.Internal</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Mechanics.MultiBody.Visualizers.Internal</h1>
</div>
<h1 id="modelica.mechanics.multibody.visualizers.internal"><a href="Modelica_Mechanics_MultiBody_Visualizers.html#Modelica.Mechanics.MultiBody.Visualizers">Modelica.Mechanics.MultiBody.Visualizers</a>.Internal</h1>
<p><strong>Visualizers that will be replaced by improved versions in the future (don't use them)</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains components to construct 3-dim. fonts with &quot;cylinder&quot; elements for the animation window. This is just a temporary hack until 3-dim. fonts are supported in Modelica tools. The components are used to construct the &quot;x&quot;, &quot;y&quot;, &quot;z&quot; labels of coordinates systems in the animation.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="62%" />
<col width="37%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Mechanics.MultiBody.Visualizers.Internal.FixedLinesS.png" alt="image2" /> <a href="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal.FixedLines">FixedLines</a></td>
<td align="left">Visualizing a set of lines as cylinders (e.g., used to display characters)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Mechanics.MultiBody.Visualizers.Internal.LinesS.png" alt="image3" /> <a href="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal.Lines">Lines</a></td>
<td align="left">Visualizing a set of lines as cylinders with variable size, e.g., used to display characters (no Frame connector)</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image4-modelica.mechanics.multibody.visualizers.internal.fixedlines"><img src="Modelica.Mechanics.MultiBody.Visualizers.Internal.FixedLinesI.png" alt="image4" /> <a href="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal">Modelica.Mechanics.MultiBody.Visualizers.Internal</a>.FixedLines</h1>
<p><strong>Visualizing a set of lines as cylinders (e.g., used to display characters)</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>With model <strong>FixedLines</strong> a set of lines is defined that are located relatively to frame_a. Every line is represented by a cylinder. This allows to define simple shaped 3-dimensional characters. An example is shown in the following figure:</p>
<p>the following data for parameter <strong>lines</strong></p>
<pre><code>lines = {[0, 0; 1, 1],[0, 1; 1, 0],[1.5, -0.5; 2.5, 1],[1.5, 1; 2, 0.25]}</code></pre>
<p>Via parameter vectors <strong>n_x</strong> and <strong>n_y</strong> a two-dimensional coordinate system is defined. The points defined with parameter <strong>lines</strong> are with respect to this coordinate system. For example &quot;[0, 0; 1, 1]&quot; defines a line that starts at {0,0} and ends at {1,1}. The diameter and color of all line cylinders are identical.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer">Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer</a> (Base model for visualizers (has a frame_a on the left side + outer world + assert to guarantee that the component is connected)).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="42%" />
<col width="8%" />
<col width="12%" />
<col width="36%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">animation</td>
<td align="left">true</td>
<td align="left">= true, if animation shall be enabled</td>
</tr>
<tr class="even">
<td align="left">if animation = true</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">scale</td>
<td align="left">1</td>
<td align="left">The 'lines' are visualized 'scale' times bigger</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Position">Position</a></td>
<td align="left">lines[:, 2, 2]</td>
<td align="left">{[0, 0; 1, 1],[0, 1; 1, 0]}</td>
<td align="left">List of start and end points of cylinders resolved along n_x and n_y [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Distance">Distance</a></td>
<td align="left">diameter</td>
<td align="left">0.05</td>
<td align="left">Diameter of the cylinders defined by lines [m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Position">Position</a></td>
<td align="left">r_lines[3]</td>
<td align="left">{0,0,0}</td>
<td align="left">Position vector from origin of frame_a to the origin of the 'lines' frame, resolved in frame_a [m]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">n_x[3]</td>
<td align="left">{1,0,0}</td>
<td align="left">Vector in direction of x-axis of 'lines' frame, resolved in frame_a. [1]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">n_y[3]</td>
<td align="left">{0,1,0}</td>
<td align="left">Vector in direction of y-axis of 'lines' frame, resolved in frame_a. [1]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color">Color</a></td>
<td align="left">color</td>
<td align="left">{0,128,255}</td>
<td align="left">Color of cylinders</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient">SpecularCoefficient</a></td>
<td align="left">specularCoefficient</td>
<td align="left">world.defaultSpecularCoeffic...</td>
<td align="left">Reflection of ambient light (= 0: light is completely absorbed)</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="59%" />
<col width="6%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Interfaces.html#Modelica.Mechanics.MultiBody.Interfaces.Frame_a">Frame_a</a></td>
<td align="left">frame_a</td>
<td align="left">Coordinate system in which visualization data is resolved</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model FixedLines 
  &quot;Visualizing a set of lines as cylinders (e.g., used to display characters)&quot;

  import SI = Modelica.SIunits;
  import Modelica.Mechanics.MultiBody;
  import Modelica.Mechanics.MultiBody.Types;
  extends Modelica.Mechanics.MultiBody.Interfaces.PartialVisualizer;

  parameter Boolean animation=true &quot;= true, if animation shall be enabled&quot;;
  input Real scale(min=0) = 1 &quot;The &#39;lines&#39; are visualized &#39;scale&#39; times bigger&quot;;
  input SI.Position lines[:,2,2]={[0,0; 1,1],[0,1; 1,0]} 
    &quot;List of start and end points of cylinders resolved along n_x and n_y&quot;;
  input SI.Distance diameter(min=0) = 0.05 
    &quot;Diameter of the cylinders defined by lines&quot;;
  input SI.Position r_lines[3]={0,0,0} 
    &quot;Position vector from origin of frame_a to the origin of the &#39;lines&#39; frame, resolved in frame_a&quot;;
  input Real n_x[3](each final unit=&quot;1&quot;)={1,0,0} 
    &quot;Vector in direction of x-axis of &#39;lines&#39; frame, resolved in frame_a.&quot;;
  input Real n_y[3](each final unit=&quot;1&quot;)={0,1,0} 
    &quot;Vector in direction of y-axis of &#39;lines&#39; frame, resolved in frame_a.&quot;;
  input MultiBody.Types.Color color={0,128,255} &quot; Color of cylinders&quot;;
  input Types.SpecularCoefficient specularCoefficient = world.defaultSpecularCoefficient 
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;;

protected 
  Lines x_label(
    lines=scale*lines,
    diameter=scale*diameter,
    color=color,
    specularCoefficient = specularCoefficient,
    r_lines=r_lines,
    n_x=n_x,
    n_y=n_y,
    r=frame_a.r_0,
    R=frame_a.R) if world.enableAnimation and animation;
equation 
  frame_a.f = zeros(3);
  frame_a.t = zeros(3);
end FixedLines;</code></pre>
<hr />
<h1 id="image5-modelica.mechanics.multibody.visualizers.internal.lines"><img src="Modelica.Mechanics.MultiBody.Visualizers.Internal.LinesI.png" alt="image5" /> <a href="Modelica_Mechanics_MultiBody_Visualizers_Internal.html#Modelica.Mechanics.MultiBody.Visualizers.Internal">Modelica.Mechanics.MultiBody.Visualizers.Internal</a>.Lines</h1>
<p><strong>Visualizing a set of lines as cylinders with variable size, e.g., used to display characters (no Frame connector)</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>With model <strong>Lines</strong> a set of dynamic lines is defined that are located relatively to frame_a. Every line is represented by a cylinder. This allows, e.g., to define simple shaped 3-dimensional characters. Note, if the lines are fixed relatively to frame_a, it is more convenient to use model <strong>Visualizers.FixedLines</strong>. An example for dynamic lines is shown in the following figure:</p>
<p>the following data for input variable <strong>lines</strong></p>
<pre><code>lines = {[0, 0; 1, 1],[0, 1; 1, 0],[1.5, -0.5; 2.5, 1],[1.5, 1; 2, 0.25]}</code></pre>
<p>Via vectors <strong>n_x</strong> and <strong>n_y</strong> a two-dimensional coordinate system is defined. The points defined with variable <strong>lines</strong> are with respect to this coordinate system. For example &quot;[0, 0; 1, 1]&quot; defines a line that starts at {0,0} and ends at {1,1}. The diameter and color of all line cylinders are identical and are defined by parameters.</p>
<p>::</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="39%" />
<col width="7%" />
<col width="8%" />
<col width="44%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Frames.html#Modelica.Mechanics.MultiBody.Frames.Orientation">Orientation</a></td>
<td align="left">R</td>
<td align="left">Frames.nullRotation()</td>
<td align="left">Orientation object to rotate the world frame into the object frame</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Position">Position</a></td>
<td align="left">r[3]</td>
<td align="left">{0,0,0}</td>
<td align="left">Position vector from origin of world frame to origin of object frame, resolved in world frame [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Position">Position</a></td>
<td align="left">r_lines[3]</td>
<td align="left">{0,0,0}</td>
<td align="left">Position vector from origin of object frame to the origin of 'lines' frame, resolved in object frame [m]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">n_x[3]</td>
<td align="left">{1,0,0}</td>
<td align="left">Vector in direction of x-axis of 'lines' frame, resolved in object frame [1]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">n_y[3]</td>
<td align="left">{0,1,0}</td>
<td align="left">Vector in direction of y-axis of 'lines' frame, resolved in object frame [1]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Position">Position</a></td>
<td align="left">lines[:, 2, 2]</td>
<td align="left">zeros(0, 2, 2)</td>
<td align="left">List of start and end points of cylinders resolved in an x-y frame defined by n_x, n_y, e.g., {[0,0;1,1], [0,1;1,0], [2,0; 3,1]} [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">diameter</td>
<td align="left">0.05</td>
<td align="left">Diameter of the cylinders defined by lines [m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.Color">Color</a></td>
<td align="left">color</td>
<td align="left">{0,128,255}</td>
<td align="left">Color of cylinders</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_MultiBody_Types.html#Modelica.Mechanics.MultiBody.Types.SpecularCoefficient">SpecularCoefficient</a></td>
<td align="left">specularCoefficient</td>
<td align="left">0.7</td>
<td align="left">Reflection of ambient light (= 0: light is completely absorbed)</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model Lines 
  &quot;Visualizing a set of lines as cylinders with variable size, e.g., used to display characters (no Frame connector)&quot;

  import SI = Modelica.SIunits;
  import Modelica.Mechanics.MultiBody;
  import Modelica.Mechanics.MultiBody.Types;
  import Modelica.Mechanics.MultiBody.Frames;
  import T = Modelica.Mechanics.MultiBody.Frames.TransformationMatrices;
  input Modelica.Mechanics.MultiBody.Frames.Orientation R=Frames.nullRotation() 
    &quot;Orientation object to rotate the world frame into the object frame&quot;;
  input SI.Position r[3]={0,0,0} 
    &quot;Position vector from origin of world frame to origin of object frame, resolved in world frame&quot;;
  input SI.Position r_lines[3]={0,0,0} 
    &quot;Position vector from origin of object frame to the origin of &#39;lines&#39; frame, resolved in object frame&quot;;
  input Real n_x[3](each final unit=&quot;1&quot;)={1,0,0} 
    &quot;Vector in direction of x-axis of &#39;lines&#39; frame, resolved in object frame&quot;;
  input Real n_y[3](each final unit=&quot;1&quot;)={0,1,0} 
    &quot;Vector in direction of y-axis of &#39;lines&#39; frame, resolved in object frame&quot;;
  input SI.Position lines[:, 2, 2]=zeros(0, 2, 2) 
    &quot;List of start and end points of cylinders resolved in an x-y frame defined by n_x, n_y, e.g., {[0,0;1,1], [0,1;1,0], [2,0; 3,1]}&quot;;
  input SI.Length diameter(min=0) = 0.05 
    &quot;Diameter of the cylinders defined by lines&quot;;
  input Modelica.Mechanics.MultiBody.Types.Color color={0,128,255} 
    &quot;Color of cylinders&quot;;
  input Types.SpecularCoefficient specularCoefficient = 0.7 
    &quot;Reflection of ambient light (= 0: light is completely absorbed)&quot;;
protected 
  parameter Integer n=size(lines, 1) &quot;Number of cylinders&quot;;
  T.Orientation R_rel=T.from_nxy(n_x, n_y);
  T.Orientation R_lines=T.absoluteRotation(R.T, R_rel);
  Modelica.SIunits.Position r_abs[3]=r + T.resolve1(R.T, r_lines);
  Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape cylinders[n](
    each shapeType=&quot;cylinder&quot;,
    lengthDirection={T.resolve1(R_rel, vector([lines[i, 2, :] - lines[i, 1,
         :]; 0])) for i in 1:n},
    length={Modelica.Math.Vectors.length(
                                    lines[i, 2, :] - lines[i, 1, :]) for i in 
            1:n},
    r={r_abs + T.resolve1(R_lines, vector([lines[i, 1, :]; 0])) for i in 1:
        n},
    each width=diameter,
    each height=diameter,
    each widthDirection={0,1,0},
    each color=color,
    each R=R,
    each specularCoefficient=specularCoefficient);

end Lines;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:30:40 2010.</p>
</body>
</html>
