<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Fluid.Dissipation.PressureLoss.Bend</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Fluid.Dissipation.PressureLoss.Bend</h1>
</div>
<h1 id="modelica.fluid.dissipation.pressureloss.bend"><a href="Modelica_Fluid_Dissipation_PressureLoss.html#Modelica.Fluid.Dissipation.PressureLoss">Modelica.Fluid.Dissipation.PressureLoss</a>.Bend</h1>
<p><strong>Package for pressure loss calculation of bends</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<h3 id="bend">Bend</h3>
<h4 id="curved-bend-overall-flow">Curved bend overall flow</h4>
<p>Calculation of pressure loss in curved bends at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_curvedOverall">See more information</a>.</p>
<h4 id="edged-bend-overall-flow">Edged bend overall flow</h4>
<p>Calculation of pressure loss in edged bends with sharp corners at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_edgedOverall">See more information</a> .</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage">Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="68%" />
<col width="31%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DPS.png" alt="image8" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DP">dp_curvedOverall_DP</a></td>
<td align="left">Pressure loss of curved bend | calculate pressure loss | overall flow regime | surface roughness</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DPS.png" alt="image9" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_MFLOW">dp_curvedOverall_MFLOW</a></td>
<td align="left">Pressure loss of curved bend | calculate mass flow rate | overall flow regime | surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_conS.png" alt="image10" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_con">dp_curvedOverall_IN_con</a></td>
<td align="left">Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_conS.png" alt="image11" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_var">dp_curvedOverall_IN_var</a></td>
<td align="left">Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DPS.png" alt="image12" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DP">dp_edgedOverall_DP</a></td>
<td align="left">Pressure loss of edged bend | calculate pressure loss | overall flow regime | surface roughness</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DPS.png" alt="image13" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_MFLOW">dp_edgedOverall_MFLOW</a></td>
<td align="left">Pressure loss of edged bend | calculate mass flow rate | overall flow regime | surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_conS.png" alt="image14" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_con">dp_edgedOverall_IN_con</a></td>
<td align="left">Input record for function dp_edgedOverall_DP and dp_edgedOverall_MFLOW</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_conS.png" alt="image15" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_var">dp_edgedOverall_IN_var</a></td>
<td align="left">Input record for function dp_edgedOverall_DP and dp_edgedOverall_MFLOW</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.bend.dp_curvedoverall_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_curvedOverall_DP</h1>
<p><strong>Pressure loss of curved bend | calculate pressure loss | overall flow regime | surface roughness</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in curved bends at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_MFLOW">dp_curvedOverall_MFLOW</a> is numerically best used for the <strong>compressible case</strong>if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_curvedOverall">See more information</a>.</p>
<p>::</p>
<h2 id="inputs">Inputs</h2>
<table>
<col width="67%" />
<col width="5%" />
<col width="5%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_con">dp_curvedOverall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_curvedOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_var">dp_curvedOverall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_curvedOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs">Outputs</h2>
<table>
<col width="52%" />
<col width="7%" />
<col width="40%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Output for function dp_curvedOverall_DP [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>function dp_curvedOverall_DP 
  &quot;Pressure loss of curved bend | calculate pressure loss | overall flow regime | surface roughness&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002, Section Lac 6 (Verification)
  //Notation of equations according to SOURCES

  import FD = Modelica.Fluid.Dissipation.PressureLoss.Bend;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_con
    IN_con &quot;Input record for function dp_curvedOverall_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_var
    IN_var &quot;Input record for function dp_curvedOverall_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Output for function dp_curvedOverall_DP&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real frac_RD=max(MIN, IN_con.R_0/d_hyd) &quot;Relative curvature radius&quot;;
  Real k=max(MIN, abs(IN_con.K)/d_hyd) &quot;Relative roughness&quot;;
  Real delta=IN_con.delta*180/PI &quot;Angle of turning&quot;;
  SI.Length L=IN_con.delta*IN_con.R_0 &quot;Length of flow path&quot;;

  //SOURCE_1: p.336, sec.15: definition of flow regime boundaries
  SI.ReynoldsNumber Re_min=1 &quot;Minium Reynolds number&quot;;
  SI.ReynoldsNumber Re_lam_max=6.5e3 
    &quot;Maximum Reynolds number for laminar regime (6.5e3)&quot;;
  SI.ReynoldsNumber Re_turb_min=4e4 
    &quot;Minimum Reynolds number for turbulent regime (4e4)&quot;;
  SI.ReynoldsNumber Re_turb_max=3e5 
    &quot;Maximum Reynolds number for turbulent regime (3e5)&quot;;
  SI.ReynoldsNumber Re_turb_const=1e6 
    &quot;Reynolds number for independence on pressure loss coefficient (1e6)&quot;;

  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(1e2, 754*Modelica.Math.exp(
      if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //SOURCE_1: p.357, diag. 6-1: coefficients for local resistance coefficient [zeta_LOC]:
  //IN_con.R_0/IN_con.d_hyd &lt;= 3
  Real A1=if delta &lt;= 70 then 0.9*sin(delta*PI/180) else if delta &gt;= 100 then 
      0.7 + 0.35*delta/90 else 1.0 
    &quot;Coefficient considering effect for angle of turning on zeta_LOC&quot;;
  Real A2=if frac_RD &gt; 2.0 then 6e2 else if frac_RD &lt;= 2.0 and frac_RD &gt;= 0.7 then 
            (if frac_RD &gt; 1.0 then 1e3 else if frac_RD &lt;= 1.0 and frac_RD &gt; 0.7 then 
            3e3 else 6e3) else 4e3 
    &quot;Coefficient considering laminar regime on zeta_LOC&quot;;
  Real B1=if frac_RD &gt;= 1.0 then 0.21*(frac_RD)^(-0.5) else 0.21*(frac_RD)^(-2.5) 
    &quot;Coefficient considering relative curvature radius (R_0/d_hyd) on zeta_LOC&quot;;
  Real C1=1.0 
    &quot;Considering relative elongation of cross sectional area on zeta_LOC (here: circular cross sectional area)&quot;;
  TYP.LocalResistanceCoefficient zeta_LOC_sharp_turb=max(MIN, A1*B1*C1) 
    &quot;Local resistance coefficient for turbulent regime (Re &gt; Re_turb_max)&quot;;

  SI.ReynoldsNumber Re=max(Re_min, 4*abs(m_flow)/(PI*IN_con.d_hyd*IN_var.eta)) 
    &quot;Reynolds number&quot;;

  //mass flow rate boundaries for w.r.t flow regimes
  SI.MassFlowRate m_flow_smooth=Re_min*PI*IN_con.d_hyd*IN_var.eta/4;

  //SOURCE_1: p.357, diag. 6-1, sec. 2 / p.336, sec. 15 (turbulent regime + hydraulically rough):
  //IN_con.R_0/IN_con.d_hyd &lt; 3
  Real C_Re=if frac_RD &gt; 0.7 then 11.5/Re^0.19 else if frac_RD &lt;= 0.7 and 
      frac_RD &gt;= 0.55 then 5.45/Re^0.131 else 1 + 4400/Re 
    &quot;Correction factor for hydraulically rough turbulent regime (Re_turb_min &lt; Re &lt; Re_turb_max)&quot;;

  //SOURCE_1: p.357, diag. 6-1
  //IN_con.R_0/IN_con.d_hyd &lt; 3
  TYP.LocalResistanceCoefficient zeta_LOC_sharp=if Re &lt; Re_lam_leave then A2/Re
       + zeta_LOC_sharp_turb else if Re &lt; Re_turb_min then SMOOTH(
      Re_lam_leave,
      Re_turb_min,
      Re)*(A2/max(Re_lam_leave, Re) + zeta_LOC_sharp_turb) + SMOOTH(
      Re_turb_min,
      Re_lam_leave,
      Re)*(C_Re*zeta_LOC_sharp_turb) else if Re &lt; Re_turb_max then SMOOTH(
      Re_turb_min,
      Re_turb_max,
      Re)*(C_Re*zeta_LOC_sharp_turb) + SMOOTH(
      Re_turb_max,
      Re_turb_min,
      Re)*zeta_LOC_sharp_turb else zeta_LOC_sharp_turb 
    &quot;Local resistance coefficient for R_0/d_hyd &lt; 3&quot;;

  TYP.LocalResistanceCoefficient zeta_LOC=zeta_LOC_sharp 
    &quot;Local resistance coefficient&quot;;

  //SOURCE_2: p.191, eq. 8.4: considering surface roughness
  //restriction of lambda_FRI at maximum Reynolds number Re=1e6 (SOURCE_2: p.207, sec. 9.2.4)
  TYP.DarcyFrictionFactor lambda_FRI_rough=0.25/(Modelica.Math.log10(k/(3.7*
      IN_con.d_hyd) + 5.74/min(1e6, max(Re_lam_leave, Re))^0.9))^2 
    &quot;Darcy friction factor considering surface roughness&quot;;

  //SOURCE_2: p.207, sec. 9.2.4: correction factors CF w.r.t.surface roughness
  Real CF_fri=1+SMOOTH(
      Re_lam_max,
      Re_lam_leave,
      Re)*min(1.4, (lambda_FRI_rough*L/d_hyd/zeta_LOC)) + SMOOTH(
      Re_lam_leave,
      Re_lam_max,
      Re) &quot;Correction factor for surface roughness&quot;;

  TYP.PressureLossCoefficient zeta_TOT=max(1, CF_fri)*zeta_LOC 
    &quot;Pressure loss coefficient&quot;;

  //Documentation

algorithm 
  DP := zeta_TOT*(IN_var.rho/2)*
    Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(
    m_flow,
    m_flow_smooth,
    2)/max(MIN, (IN_var.rho*A_cross)^2);
end dp_curvedOverall_DP;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.bend.dp_curvedoverall_mflow"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_curvedOverall_MFLOW</h1>
<p><strong>Pressure loss of curved bend | calculate mass flow rate | overall flow regime | surface roughness</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in curved bends at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DP">dp_curvedOverall_DP</a> is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_curvedOverall">See more information</a> .</p>
<p>::</p>
<h2 id="inputs-1">Inputs</h2>
<table>
<col width="66%" />
<col width="5%" />
<col width="5%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_con">dp_curvedOverall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_curvedOverall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_var">dp_curvedOverall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_curvedOverall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp</td>
<td align="left">
</td>
<td align="left">Pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-1">Outputs</h2>
<table>
<col width="52%" />
<col width="8%" />
<col width="39%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">M_FLOW</td>
<td align="left">Output for function dp_curvedOverall_MFLOW [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>function dp_curvedOverall_MFLOW 
  &quot;Pressure loss of curved bend | calculate mass flow rate | overall flow regime | surface roughness&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002, Section Lac 6 (Verification)
  //Notation of equations according to SOURCES

  import FD = Modelica.Fluid.Dissipation.PressureLoss.Bend;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_con
    IN_con &quot;Input record for function dp_curvedOverall_MFLOW&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_var
    IN_var &quot;Input record for function dp_curvedOverall_MFLOW&quot;;
  input SI.Pressure dp &quot;Pressure loss&quot;;

  //output variables
  output SI.MassFlowRate M_FLOW &quot;Output for function dp_curvedOverall_MFLOW&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real frac_RD=max(MIN, IN_con.R_0/d_hyd) &quot;Relative curvature radius&quot;;
  Real k=max(MIN, abs(IN_con.K)/d_hyd) &quot;Relative roughness&quot;;
  Real delta=IN_con.delta*180/PI &quot;Angle of turning&quot;;
  SI.Length L=IN_con.delta*IN_con.R_0 &quot;Length of flow path&quot;;

  //SOURCE_1: p.336, sec.15: definition of flow regime boundaries
  SI.ReynoldsNumber Re_min=1 &quot;Minium Reynolds number&quot;;
  SI.ReynoldsNumber Re_lam_max=6.5e3 
    &quot;Maximum Reynolds number for laminar regime (6.5e3)&quot;;
  SI.ReynoldsNumber Re_turb_min=4e4 
    &quot;Minimum Reynolds number for turbulent regime (4e4)&quot;;
  SI.ReynoldsNumber Re_turb_max=3e5 
    &quot;Maximum Reynolds number for turbulent regime (3e5)&quot;;
  SI.ReynoldsNumber Re_turb_const=1e6 
    &quot;Reynolds number for independence on pressure loss coefficient (1e6)&quot;;

  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(1e2, 754*Modelica.Math.exp(
      if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //SOURCE_1: p.357, diag. 6-1: coefficients for local resistance coefficient [zeta_LOC]:
  //IN_con.R_0/IN_con.d_hyd &lt;= 3
  Real A1=if delta &lt;= 70 then 0.9*sin(delta/180*PI) else if delta &gt;= 100 then 
      0.7 + 0.35*delta/90 else 1.0 
    &quot;Coefficient considering effect for angle of turning on zeta_LOC&quot;;
  Real A2=if frac_RD &gt; 2.0 then 6e2 else if frac_RD &lt;= 2.0 and frac_RD &gt;= 0.7 then 
            (if frac_RD &gt; 1.0 then 1e3 else if frac_RD &lt;= 1.0 and frac_RD &gt; 0.7 then 
            3e3 else 6e3) else 4e3 
    &quot;Coefficient considering laminar regime on zeta_LOC&quot;;
  Real B1=if frac_RD &gt;= 1.0 then 0.21*(frac_RD)^(-0.5) else 0.21*(frac_RD)^(-2.5) 
    &quot;Coefficient considering relative curvature radius (R_0/d_hyd) on zeta_LOC&quot;;
  Real C1=1.0 
    &quot;Considering relative elongation of cross sectional area on zeta_LOC (here: circular cross sectional area)&quot;;
  TYP.LocalResistanceCoefficient zeta_LOC_sharp_turb=max(MIN, A1*B1*C1) 
    &quot;Local resistance coefficient for turbulent regime (Re &gt; Re_turb_max)&quot;;

  //SOURCE_1: p.357, diag. 6-1: pressure loss boundaries for w.r.t flow regimes
  //IN_con.R_0/d_hyd &lt;=3
  SI.AbsolutePressure dp_lam_max=(zeta_LOC_sharp_turb + A2/Re_lam_leave)*IN_var.rho
      /2*(Re_lam_leave*IN_var.eta/(IN_var.rho*d_hyd))^2 
    &quot;Maximum pressure loss for laminar regime&quot;;
  SI.AbsolutePressure dp_turb_min=zeta_LOC_sharp_turb*(if frac_RD &gt; 0.7 then 
      11.5/Re_turb_min^0.19 else if frac_RD &lt;= 0.7 and frac_RD &gt;= 0.55 then 
      5.45/Re_turb_min^0.131 else 1 + 4400/Re_turb_min)*IN_var.rho/2*(
      Re_turb_min*IN_var.eta/(IN_var.rho*d_hyd))^2 
    &quot;Minimum pressure loss for turbulent regime&quot;;
  SI.AbsolutePressure dp_turb_max=zeta_LOC_sharp_turb*(if frac_RD &gt; 0.7 then 
      11.5/Re_turb_max^0.19 else if frac_RD &lt;= 0.7 and frac_RD &gt;= 0.55 then 
      5.45/Re_turb_max^0.131 else 1 + 4400/Re_turb_max)*IN_var.rho/2*(
      Re_turb_max*IN_var.eta/(IN_var.rho*d_hyd))^2 
    &quot;Maximum pressure loss for turbulent regime&quot;;
  SI.AbsolutePressure dp_turb_const=zeta_LOC_sharp_turb*IN_var.rho/2*(
      Re_turb_const*IN_var.eta/(IN_var.rho*d_hyd))^2 
    &quot;Pressure loss for independence of Reynolds number on pressure loss coefficient&quot;;

  //SOURCE_1: p.357, diag. 6-1: mean velocities for assumed flow regime
  //IN_con.R_0/d_hyd &lt;=3
  SI.Velocity v_lam=(-A2/2*IN_var.eta + 0.5*sqrt(max(MIN, (A2*IN_var.eta)^2 + 8
      *zeta_LOC_sharp_turb*abs(dp)*IN_var.rho*d_hyd^2)))/zeta_LOC_sharp_turb/
      IN_var.rho/d_hyd &quot;Mean velocity in laminar regime (Re &lt; Re_lam_leave)&quot;;
  SI.Velocity v_tra=(-A2/2*IN_var.eta + 0.5*sqrt(max(MIN, (A2*IN_var.eta)^2 + 8
      *zeta_LOC_sharp_turb*abs(dp_lam_max)*IN_var.rho*d_hyd^2)))/
      zeta_LOC_sharp_turb/IN_var.rho/d_hyd 
    &quot;Mean velocity in transition regime (Re_lam_leave &lt; Re_turb_min)&quot;;
  SI.Velocity v_turb=if frac_RD &gt; 0.7 then (max(MIN, abs(dp))/(IN_var.rho/2*
      11.5*zeta_LOC_sharp_turb)*(IN_var.rho*IN_con.d_hyd/max(MIN, IN_var.eta))^
      0.19)^(1/(2 - 0.19)) else if frac_RD &gt; 0.55 and frac_RD &lt; 0.7 then (max(
      MIN, abs(dp))/(IN_var.rho/2*5.45*zeta_LOC_sharp_turb)*(IN_var.rho*IN_con.d_hyd
      /max(MIN, IN_var.eta))^0.131)^(1/(2 - 0.131)) else -2200/(IN_var.rho*
      IN_con.d_hyd/IN_var.eta) + ((-2200/(IN_var.rho*IN_con.d_hyd/max(MIN,
      IN_var.eta)))^2 + 2*abs(max(MIN, dp))/max(MIN, IN_var.rho))^0.5 
    &quot;Mean velocity in turbulent regime with dependence on pressure loss coefficient (Re_turb_min &lt; Re &lt; Re_turb_max)&quot;;
  SI.Velocity v_turb_const=sqrt(max(MIN, 2*abs(dp)/(IN_var.rho*
      zeta_LOC_sharp_turb))) 
    &quot;Mean velocity in turbulent regime with independence on pressure loss coefficient (Re &gt; Re_turb_max)&quot;;

  //mean velocity under smooth conditions w.r.t flow regime
  SI.Velocity v_smooth=if dp &lt; dp_lam_max then v_lam else if dp &lt; dp_turb_min then 
            SMOOTH(
      dp_lam_max,
      dp_turb_min,
      dp)*v_lam + SMOOTH(
      dp_turb_min,
      dp_lam_max,
      dp)*v_turb else if dp &lt; dp_turb_max then v_turb else SMOOTH(
      dp_turb_max,
      dp_turb_const,
      dp)*v_turb + SMOOTH(
      dp_turb_const,
      dp_turb_max,
      dp)*v_turb_const 
    &quot;Mean velocity under smooth conditions for R_0/d_hyd &lt; 3&quot;;

  SI.ReynoldsNumber Re_smooth=max(Re_min, IN_var.rho*v_smooth*d_hyd/IN_var.eta) 
    &quot;Reynolds number under smooth conditions&quot;;

  //SOURCE_2: p.191, eq. 8.4: considering surface roughness
  //restriction of lambda_FRI at maximum Reynolds number Re=1e6 (SOURCE_2: p.207, sec. 9.2.4)
  TYP.DarcyFrictionFactor lambda_FRI_rough=0.25/(Modelica.Math.log10(k/(3.7*
      IN_con.d_hyd) + 5.74/min(1e6, max(Re_lam_leave, Re_smooth))^0.9))^2 
    &quot;Darcy friction factor considering surface roughness&quot;;
  TYP.DarcyFrictionFactor lambda_FRI_smooth=0.25/(Modelica.Math.log10(5.74/max(
      Re_lam_leave, Re_smooth)^0.9))^2 
    &quot;Darcy friction factor neglecting surface roughness&quot;;

  //SOURCE_2: p.207, sec. 9.2.4: correction factors CF w.r.t.surface roughness
  Real CF_3=1+SMOOTH(
      6e3,
      1e3,
      Re_smooth)*min(1.4, (lambda_FRI_rough*L/d_hyd/zeta_LOC_sharp_turb)) + SMOOTH(
      1e3,
      6e3,
      Re_smooth) &quot;Correction factor for surface roughness&quot;;

  SI.Velocity velocity=v_smooth/max(1, CF_3)^(0.5) 
    &quot;Corrected velocity considering surface roughness&quot;;

  //Documentation

algorithm 
  M_FLOW := sign(dp)*IN_var.rho*A_cross*abs(velocity);

end dp_curvedOverall_MFLOW;</code></pre>
<hr />
<h1 id="image16-modelica.fluid.dissipation.pressureloss.bend.dp_curvedoverall_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_conI.png" alt="image16" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_curvedOverall_IN_con</h1>
<p><strong>Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DP">dp_curvedOverall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_MFLOW">dp_curvedOverall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.Bend">Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.Bend</a> (Input for bend).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="41%" />
<col width="6%" />
<col width="10%" />
<col width="41%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Bend</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Diameter">Diameter</a></td>
<td align="left">d_hyd</td>
<td align="left">0.1</td>
<td align="left">Hydraulic diameter [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Angle">Angle</a></td>
<td align="left">delta</td>
<td align="left">90*PI/180</td>
<td align="left">Angle of turning [rad]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">K</td>
<td align="left">0</td>
<td align="left">Roughness (absolute average height of surface asperities) [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Radius">Radius</a></td>
<td align="left">R_0</td>
<td align="left">0.5*d_hyd</td>
<td align="left">Curvature radius [m]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>record dp_curvedOverall_IN_con 
  &quot;Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW&quot;

  //bend variables
  extends Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.Bend;

end dp_curvedOverall_IN_con;</code></pre>
<hr />
<h1 id="image17-modelica.fluid.dissipation.pressureloss.bend.dp_curvedoverall_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_IN_conI.png" alt="image17" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_curvedOverall_IN_var</h1>
<p><strong>Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_DP">dp_curvedOverall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_curvedOverall_MFLOW">dp_curvedOverall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_General.html#Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss">Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss</a> (Base record for fluid properties for pressure loss).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="58%" />
<col width="6%" />
<col width="8%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of fluid [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Density of fluid [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>record dp_curvedOverall_IN_var 
  &quot;Input record for function dp_curvedOverall_DP and dp_curvedOverall_MFLOW&quot;

  //fluid property variables
  extends Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss;

end dp_curvedOverall_IN_var;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.bend.dp_edgedoverall_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_edgedOverall_DP</h1>
<p><strong>Pressure loss of edged bend | calculate pressure loss | overall flow regime | surface roughness</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in edged bends with sharp corners at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness.</p>
<p>There are larger pressure losses in an edged bend compared to a curved bend under the same conditions. The effect of a sharp corner in an edged bend on the pressure loss is much larger than the influence of surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_MFLOW">dp_edgedOverall_MFLOW</a> is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_edgedOverall">See more information</a> .</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d</a> (Geometry figure of edged bend).</p>
<h2 id="inputs-2">Inputs</h2>
<table>
<col width="67%" />
<col width="5%" />
<col width="5%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_con">dp_edgedOverall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_edgedOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_var">dp_edgedOverall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_edgedOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-2">Outputs</h2>
<table>
<col width="52%" />
<col width="7%" />
<col width="40%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Output for function dp_edgedOverall_DP [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>function dp_edgedOverall_DP 
  &quot;Pressure loss of edged bend | calculate pressure loss | overall flow regime | surface roughness&quot;

  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002, Section Lac 6 (Verification)
  //Notation of equations according to SOURCES

  import FD = Modelica.Fluid.Dissipation.PressureLoss.Bend;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_con
    IN_con &quot;Input record for function dp_edgedOverall_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_var
    IN_var &quot;Input record for function dp_edgedOverall_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Output for function dp_edgedOverall_DP&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;
  Real delta=IN_con.delta*180/PI &quot;Angle of turning&quot;;

  //definition of flow regime boundaries
  //SOURCE_2: p.207, sec. 9.2.4
  //SOURCE_3: p.Lac 6, fig. 16
  SI.ReynoldsNumber Re_min=1 &quot;Minium Reynolds number&quot;;
  SI.ReynoldsNumber Re_lam_min=1e3 
    &quot;Minimum Reynolds number for laminar regime (1e2)&quot;;
  SI.ReynoldsNumber Re_lam_max=4e4 
    &quot;Maximum Reynolds number for laminar regime (1e3)&quot;;
  SI.ReynoldsNumber Re_turb_min=1e5 
    &quot;Minimum Reynolds number for turbulent regime (1e5)&quot;;
  SI.ReynoldsNumber Re_turb_max=3e5 
    &quot;Maximum Reynolds number for turbulent regime (2e5)&quot;;
  SI.ReynoldsNumber Re_turb_const=1e6 
    &quot;Reynolds number for independence on pressure loss coefficient (1e6)&quot;;

  //SOURCE_1: p. 81, sec. 2-2-21: start of transition regime
  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //SOURCE_1: p.366, diag. 6-7
  Real A=0.95 + 33.5/max(MIN, delta) 
    &quot;Coefficient considering effect of angle of turning on zeta_LOC&quot;;
  Real C1=1 
    &quot;Considering relative elongation of cross sectional area on zeta_LOC (here: circular cross sectional area)&quot;;

  //SOURCE_1: p.366, diag. 6-7
  TYP.LocalResistanceCoefficient zeta_LOC=max(MIN, 0.95*sin(PI/180*delta/2)^2
       + 2.05*sin(PI/180*delta/2)^4) &quot;Local resistance coefficient&quot;;

  //SOURCE_1: p.344, sec. 39/29: Correction w.r.t. effect of Reynolds number in laminar regime
  Real B=0.0292*(delta)^2 + 1.1995*delta 
    &quot;Coefficient considering effect of Reynolds number in laminar regime&quot;;
  Real exp=1 &quot;Exponent for Reynolds number correction in laminar regime&quot;;

  Real v_min=Re_min*IN_var.eta/(IN_var.rho*d_hyd) 
    &quot;Minimum mean velocity for linear interpolation&quot;;

  SI.Velocity velocity=m_flow/(IN_var.rho*A_cross) &quot;Mean velocity&quot;;
  SI.ReynoldsNumber Re=max(Re_min, IN_var.rho*abs(velocity)*d_hyd/IN_var.eta) 
    &quot;Reynolds number&quot;;

  //SOURCE_2: p.191, eq. 8.4: considering surface roughness
  //restriction of lambda_FRI at maximum Reynolds number Re=1e6 (SOURCE_2: p.207, sec. 9.2.4)
  TYP.DarcyFrictionFactor lambda_FRI_rough=0.25/(Modelica.Math.log10(k/(3.7*
      IN_con.d_hyd) + 5.74/min(Re_turb_const, max(Re_lam_leave, Re))^0.9))^2 
    &quot;Darcy friction factor considering surface roughness&quot;;
  TYP.DarcyFrictionFactor lambda_FRI_smooth=0.25/(Modelica.Math.log10(5.74/min(
      Re_turb_const, max(Re_lam_leave, Re))^0.9))^2 
    &quot;Darcy friction factor neglecting surface roughness&quot;;

  //SOURCE_2: p.207, sec. 9.2.4: correction factors CF w.r.t.surface roughness
  //SOURCE_2: p.214, sec. 9.4.2: no correction w.r.t. surface roughness for angle of turning &gt;= 45°
  Real CF_fri=if delta &lt;= 45 then max(1, min(1.4, (lambda_FRI_rough/
      lambda_FRI_smooth))) else 1 &quot;Correction factor for surface roughness&quot;;

  //SOURCE_2: p.208, diag. 9.3: Correction w.r.t. effect of Reynolds number
  Real CF_Re=SMOOTH(
      Re_min,
      Re_lam_leave,
      Re)*B/Re^exp + SMOOTH(
      Re_lam_leave,
      Re_min,
      Re) &quot;Correction factor for Reynolds number&quot;;

  TYP.PressureLossCoefficient zeta_TOT=A*C1*zeta_LOC*CF_fri*CF_Re 
    &quot;Pressure loss coefficient&quot;;

  //Documentation

algorithm 
  DP := zeta_TOT*(IN_var.rho/2)*
    Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(
          velocity,
          v_min,
          2);
end dp_edgedOverall_DP;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.bend.dp_edgedoverall_mflow"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_edgedOverall_MFLOW</h1>
<p><strong>Pressure loss of edged bend | calculate mass flow rate | overall flow regime | surface roughness</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in edged bends with sharp corners at overall flow regime for incompressible and single-phase fluid flow through circular cross sectional area considering surface roughness.</p>
<p>There are larger pressure losses in an edged bend compared to a curved bend under the same conditions. The effect of a sharp corner in an edged bend on the pressure loss is much larger than the influence of surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DP">dp_edgedOverall_DP</a> is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.Bend.dp_edgedOverall">See more information</a> .</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d</a> (Geometry figure of edged bend).</p>
<h2 id="inputs-3">Inputs</h2>
<table>
<col width="66%" />
<col width="5%" />
<col width="5%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_con">dp_edgedOverall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_edgedOverall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_var">dp_edgedOverall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_edgedOverall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp</td>
<td align="left">
</td>
<td align="left">Pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-3">Outputs</h2>
<table>
<col width="52%" />
<col width="8%" />
<col width="39%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">M_FLOW</td>
<td align="left">Output for function dp_edgedOverall_MFLOW [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>function dp_edgedOverall_MFLOW 
  &quot;Pressure loss of edged bend | calculate mass flow rate | overall flow regime | surface roughness&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002, Section Lac 6 (Verification)
  //Notation of equations according to SOURCES

  import FD = Modelica.Fluid.Dissipation.PressureLoss.Bend;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.BendEdged_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_con
    IN_con &quot;Input record for function dp_edgedOverall_MFLOW&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_var
    IN_var &quot;Input record for function dp_edgedOverall_MFLOW&quot;;
  input SI.Pressure dp &quot;Pressure loss&quot;;

  //output variables
  output SI.MassFlowRate M_FLOW &quot;Output for function dp_edgedOverall_MFLOW&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=IN_con.d_hyd &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;
  Real delta=IN_con.delta*180/PI &quot;Angle of turning&quot;;

  //definition of flow regime boundaries
  //SOURCE_2: p.207, sec. 9.2.4
  //SOURCE_3: p.Lac 6, fig. 16
  SI.ReynoldsNumber Re_min=1 &quot;Minium Reynolds number&quot;;
  SI.ReynoldsNumber Re_lam_min=1e3 
    &quot;Minimum Reynolds number for laminar regime (1e2)&quot;;
  SI.ReynoldsNumber Re_lam_max=4e4 
    &quot;Maximum Reynolds number for laminar regime (1e3)&quot;;
  SI.ReynoldsNumber Re_turb_min=1e5 
    &quot;Minimum Reynolds number for turbulent regime (1e5)&quot;;
  SI.ReynoldsNumber Re_turb_max=3e5 
    &quot;Maximum Reynolds number for turbulent regime (2e5)&quot;;
  SI.ReynoldsNumber Re_turb_const=1e6 
    &quot;Reynolds number for independence on pressure loss coefficient (1e6)&quot;;

  //SOURCE_1: p. 81, sec. 2-2-21: start of transition regime
  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //SOURCE_1: p.366, diag. 6-7
  Real A=0.95 + 33.5/max(MIN, delta) 
    &quot;Coefficient considering effect of angle of turning on zeta_LOC&quot;;
  Real C1=1 
    &quot;Considering relative elongation of cross sectional area on zeta_LOC (here: circular cross sectional area)&quot;;

  //SOURCE_1: p.366, diag. 6-7
  TYP.LocalResistanceCoefficient zeta_LOC=max(MIN, 0.95*sin(PI/180*delta/2)^2
       + 2.05*sin(PI/180*delta/2)^4) &quot;Local resistance coefficient&quot;;

  //SOURCE_1: p.344, sec. 39/29: Correction w.r.t. effect of Reynolds number in laminar regime
  Real B=0.0292*(delta)^2 + 1.1995*delta 
    &quot;Coefficient considering effect of Reynolds number on zeta_TOT&quot;;
  Real exp=1 &quot;Exponent for Reynolds number correction in laminar regime&quot;;
  Real pow=(2 - exp) &quot;pressure loss = f(mass flow rate^pow)&quot;;

  SI.Pressure dp_min=1 
    &quot;Linear smoothing of mass flow rate for decreasing pressure loss&quot;;
  SI.Velocity v_lam=Re_lam_leave*IN_var.eta/(IN_var.rho*d_hyd) 
    &quot;Maximum mean velocity in laminar regime (Re &lt; Re_lam_leave)&quot;;
  Real dp_lam=A*C1*zeta_LOC*(B/2)*(d_hyd/IN_var.eta)^(-exp)*IN_var.rho^(1 - exp)
      *v_lam^(pow) 
    &quot;Maximum pressure loss in laminar regime (Re &lt; Re_lam_leave)&quot;;

  //mean velocity under smooth conditions w.r.t. flow regime
  SI.Velocity v_smooth=if abs(dp) &gt; dp_lam then (2*abs(dp))^0.5*(A*C1*zeta_LOC*
      IN_var.rho)^(-0.5) else (2*(d_hyd/IN_var.eta)^exp/(A*C1*zeta_LOC*B*(
      IN_var.rho)^(1 - exp)))^(1/pow)*
      Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(
      abs(dp),
      dp_min,
      1/pow) &quot;Mean velocity under smooth conditions&quot;;

  SI.ReynoldsNumber Re_smooth=max(Re_min, IN_var.rho*v_smooth*d_hyd/IN_var.eta) 
    &quot;Reynolds number under smooth conditions&quot;;

  //SOURCE_2: p.191, eq. 8.4: considering surface roughness
  //restriction of lambda_FRI at maximum Reynolds number Re=1e6 (SOURCE_2: p.207, sec. 9.2.4)
  TYP.DarcyFrictionFactor lambda_FRI_rough=0.25/(Modelica.Math.log10(k/(3.7*
      IN_con.d_hyd) + 5.74/min(Re_turb_const, max(Re_lam_leave, Re_smooth))^0.9))
      ^2 &quot;Darcy friction factor considering surface roughness&quot;;
  TYP.DarcyFrictionFactor lambda_FRI_smooth=0.25/(Modelica.Math.log10(5.74/min(
      Re_turb_const, max(Re_lam_leave, Re_smooth))^0.9))^2 
    &quot;Darcy friction factor neglecting surface roughness&quot;;

  //SOURCE_2: p.207, sec. 9.2.4: correction factors CF w.r.t.surface roughness
  //SOURCE_2: p.214, sec. 9.4.2: no correction w.r.t. surface roughness for angle of turning &gt;= 45°
  Real CF_fri=if delta &lt;= 45 then max(1, min(1.4, (lambda_FRI_rough/
      lambda_FRI_smooth))) else 1 &quot;Correction factor for surface roughness&quot;;

  SI.Velocity velocity=v_smooth/max(1, CF_fri)^(0.5) 
    &quot;Corrected velocity considering surface roughness&quot;;

  //Documentation

algorithm 
  M_FLOW := sign(dp)*IN_var.rho*A_cross*velocity;

end dp_edgedOverall_MFLOW;</code></pre>
<hr />
<h1 id="image18-modelica.fluid.dissipation.pressureloss.bend.dp_edgedoverall_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_conI.png" alt="image18" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_edgedOverall_IN_con</h1>
<p><strong>Input record for function dp_edgedOverall_DP and dp_edgedOverall_MFLOW</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DP">dp_edgedOverall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_MFLOW">dp_edgedOverall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.EdgedBend">Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.EdgedBend</a> (Input for bend).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="41%" />
<col width="6%" />
<col width="9%" />
<col width="41%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Bend</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Diameter">Diameter</a></td>
<td align="left">d_hyd</td>
<td align="left">0.1</td>
<td align="left">Hydraulic diameter [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Angle">Angle</a></td>
<td align="left">delta</td>
<td align="left">90*PI/180</td>
<td align="left">Angle of turning [rad]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">K</td>
<td align="left">0</td>
<td align="left">Roughness (absolute average height of surface asperities) [m]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>record dp_edgedOverall_IN_con 
  &quot;Input record for function dp_edgedOverall_DP and dp_edgedOverall_MFLOW&quot;

  //edged bend variables
  extends Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.EdgedBend;

end dp_edgedOverall_IN_con;</code></pre>
<hr />
<h1 id="image19-modelica.fluid.dissipation.pressureloss.bend.dp_edgedoverall_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_IN_conI.png" alt="image19" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend">Modelica.Fluid.Dissipation.PressureLoss.Bend</a>.dp_edgedOverall_IN_var</h1>
<p><strong>Input record for function dp_edgedOverall_DP and dp_edgedOverall_MFLOW</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_DP">dp_edgedOverall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_Bend.html#Modelica.Fluid.Dissipation.PressureLoss.Bend.dp_edgedOverall_MFLOW">dp_edgedOverall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_General.html#Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss">Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss</a> (Base record for fluid properties for pressure loss).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="58%" />
<col width="6%" />
<col width="8%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of fluid [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Density of fluid [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>record dp_edgedOverall_IN_var 
  &quot;Input record for function dp_edgedOverall_DP and  dp_edgedOverall_MFLOW&quot;

  //fluid property variables
  extends Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss;
end dp_edgedOverall_IN_var;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:21 2010.</p>
</body>
</html>
