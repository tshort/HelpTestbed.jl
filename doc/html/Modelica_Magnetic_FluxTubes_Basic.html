<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Magnetic.FluxTubes.Basic</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Magnetic.FluxTubes.Basic</h1>
</div>
<h1 id="modelica.magnetic.fluxtubes.basic"><a href="Modelica_Magnetic_FluxTubes.html#Modelica.Magnetic.FluxTubes">Modelica.Magnetic.FluxTubes</a>.Basic</h1>
<p><strong>Basic elements of magnetic network models</strong></p>
<h2 id="information">Information</h2>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="62%" />
<col width="37%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Magnetic.FluxTubes.Basic.GroundS.png" alt="image5" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic.Ground">Ground</a></td>
<td align="left">Zero magnetic potential</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Magnetic.FluxTubes.Basic.ElectroMagneticConverterS.png" alt="image6" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic.ElectroMagneticConverter">ElectroMagneticConverter</a></td>
<td align="left">Electro-magnetic energy conversion</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Magnetic.FluxTubes.Basic.ConstantReluctanceS.png" alt="image7" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic.ConstantReluctance">ConstantReluctance</a></td>
<td align="left">Constant reluctance</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Magnetic.FluxTubes.Basic.ConstantReluctanceS.png" alt="image8" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic.LeakageWithCoefficient">LeakageWithCoefficient</a></td>
<td align="left">Leakage reluctance with respect to the reluctance of a useful flux path (not for dynamic simulation of actuators)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Magnetic.FluxTubes.Basic.EddyCurrentS.png" alt="image9" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic.EddyCurrent">EddyCurrent</a></td>
<td align="left">For modelling of eddy current in a conductive magnetic flux tube</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image10-modelica.magnetic.fluxtubes.basic.ground"><img src="Modelica.Magnetic.FluxTubes.Basic.GroundI.png" alt="image10" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic">Modelica.Magnetic.FluxTubes.Basic</a>.Ground</h1>
<p><strong>Zero magnetic potential</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>The magnetic potential at the magnetic ground node is zero. Every magnetic network model must contain at least one magnetic ground object.</p>
<p>::</p>
<h2 id="connectors">Connectors</h2>
<table>
<col width="84%" />
<col width="5%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort">PositiveMagneticPort</a></td>
<td align="left">port</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model Ground &quot;Zero magnetic potential&quot;

  Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort port;
equation 
  port.V_m = 0;
end Ground;</code></pre>
<hr />
<h1 id="image11-modelica.magnetic.fluxtubes.basic.electromagneticconverter"><img src="Modelica.Magnetic.FluxTubes.Basic.ElectroMagneticConverterI.png" alt="image11" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic">Modelica.Magnetic.FluxTubes.Basic</a>.ElectroMagneticConverter</h1>
<p><strong>Electro-magnetic energy conversion</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>The electro-magnetic energy conversion is given by <em>Ampere</em>'s law and <em>Faraday</em>'s law respectively:</p>
<pre><code>V_m = i * N
N * dΦ/dt = -v</code></pre>
<p>V_m is the magnetomotive force that is supplied to the connected magnetic circuit, Φ is the magnetic flux through the associated branch of this magnetic circuit. The negative sign of the induced voltage v is due to <em>Lenz</em>'s law.</p>
<p>The flux linkage Ψ and the static inductance L_stat = |Ψ/i| are calculated for information only. Note that L_stat is set to |Ψ/eps| if |i| &lt; eps (= 100*Modelica.Constants.eps).</p>
<p>::</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="12%" />
<col width="12%" />
<col width="16%" />
<col width="27%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">N</td>
<td align="left">
</td>
<td align="left">Number of turns</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="77%" />
<col width="6%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort">PositiveMagneticPort</a></td>
<td align="left">port_p</td>
<td align="left">Positive magnetic port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.NegativeMagneticPort">NegativeMagneticPort</a></td>
<td align="left">port_n</td>
<td align="left">Negative magnetic port</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive electric pin</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative electric pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model ElectroMagneticConverter &quot;Electro-magnetic energy conversion&quot;

  Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort port_p 
    &quot;Positive magnetic port&quot;;
  Modelica.Magnetic.FluxTubes.Interfaces.NegativeMagneticPort port_n 
    &quot;Negative magnetic port&quot;;
  Modelica.Electrical.Analog.Interfaces.PositivePin p &quot;Positive electric pin&quot;;
  Modelica.Electrical.Analog.Interfaces.NegativePin n &quot;Negative electric pin&quot;;
  SI.Voltage v &quot;Voltage&quot;;
  SI.Current i(start = 0, stateSelect=StateSelect.prefer) &quot;Current&quot;;
  SI.MagneticPotentialDifference V_m &quot;Magnetic potential difference&quot;;
  SI.MagneticFlux Phi &quot;Magnetic flux coupled into magnetic circuit&quot;;

  parameter Real N(start = 1) &quot;Number of turns&quot;;

  //for information only:
  SI.MagneticFlux Psi &quot;Flux linkage for information only&quot;;
  SI.Inductance L_stat &quot;Static inductance abs(Psi/i) for information only&quot;;

protected 
  Real eps = 100*Modelica.Constants.eps;
equation 
  v = p.v - n.v;
  0 = p.i + n.i;
  i = p.i;

  V_m = port_p.V_m - port_n.V_m;
  0 = port_p.Phi + port_n.Phi;
  Phi = port_p.Phi;

  //converter equations:
  V_m = i * N;   // Ampere&#39;s law
  N * der(Phi) = -v;   // Faraday&#39;s law

  //for information only:
  Psi = N * Phi;
  //use of abs() for positive results; due to Modelica sign conventions for flow into connectors:
  L_stat = noEvent(if abs(i) &gt; eps then abs(Psi/i) else abs(Psi/eps));

end ElectroMagneticConverter;</code></pre>
<hr />
<h1 id="image12-modelica.magnetic.fluxtubes.basic.constantreluctance"><img src="Modelica.Magnetic.FluxTubes.Basic.ConstantReluctanceI.png" alt="image12" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic">Modelica.Magnetic.FluxTubes.Basic</a>.ConstantReluctance</h1>
<p><strong>Constant reluctance</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>This constant reluctance is provided for test purposes and simple magnetic network models. The reluctance is not calculated from geometry and permeability of a flux tube, but is provided as a parameter.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts">Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts</a> (Partial component with magnetic potential difference between two magnetic ports p and n and magnetic flux Phi from p to n).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="57%" />
<col width="7%" />
<col width="9%" />
<col width="24%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Reluctance">Reluctance</a></td>
<td align="left">R_m</td>
<td align="left">
</td>
<td align="left">Magnetic reluctance [H-1]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="77%" />
<col width="6%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort">PositiveMagneticPort</a></td>
<td align="left">port_p</td>
<td align="left">Positive magnetic port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.NegativeMagneticPort">NegativeMagneticPort</a></td>
<td align="left">port_n</td>
<td align="left">Negative magnetic port</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model ConstantReluctance &quot;Constant reluctance&quot;

  extends Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts;

  parameter SI.Reluctance R_m(start = 1) &quot;Magnetic reluctance&quot;;

equation 
  V_m = Phi * R_m;

end ConstantReluctance;</code></pre>
<hr />
<h1 id="image13-modelica.magnetic.fluxtubes.basic.leakagewithcoefficient"><img src="Modelica.Magnetic.FluxTubes.Basic.ConstantReluctanceI.png" alt="image13" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic">Modelica.Magnetic.FluxTubes.Basic</a>.LeakageWithCoefficient</h1>
<p><strong>Leakage reluctance with respect to the reluctance of a useful flux path (not for dynamic simulation of actuators)</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>Differently from the flux tube elements of package <a href="Modelica_Magnetic_FluxTubes_Shapes_Leakage.html#Modelica.Magnetic.FluxTubes.Shapes.Leakage">Shapes.Leakage</a> that are calculated from their geometry, this leakage reluctance is calculated with reference to the total reluctance of a useful flux path. Please refer to the <strong>Parameters</strong> section for an illustration of the resulting magnetic network. Exploiting <em>Kirchhoff</em>'s generalized current law, the leakage reluctance is calculated by means of a coupling coefficient c_usefulFlux.</p>
<h3 id="attention">Attention:</h3>
<p>This element must <strong>not</strong> be used <strong>for dynamic simulation of</strong> electro-magneto-mechanical <strong>actuators</strong>, where the shape of at least one flux tube element with reluctance force generation in the useful flux path changes with armature motion (e.g., air gap). This change results in a non-zero derivative dG_m/dx of those elements permeance G_m with respect to armature position x, which in turn will lead to a non-zero derivative of the leakage permeance with respect to armature position. This would generate a reluctance force in the leakage element that is not accounted for properly. <a href="Modelica_Magnetic_FluxTubes_Shapes_Force.html#Modelica.Magnetic.FluxTubes.Shapes.Force.LeakageAroundPoles">Shapes.Force.LeakageAroundPoles</a> provides a simple leakage reluctance with force generation.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PartialLeakage">Modelica.Magnetic.FluxTubes.Interfaces.PartialLeakage</a> (Base class for leakage flux tubes with position-independent permeance and hence no force generation; mu_r=1).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="44%" />
<col width="9%" />
<col width="6%" />
<col width="40%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.CouplingCoefficient">CouplingCoefficient</a></td>
<td align="left">c_usefulFlux</td>
<td align="left">
</td>
<td align="left">Ratio useful flux/(leakage flux + useful flux) = useful flux/total flux [1]</td>
</tr>
<tr class="even">
<td align="left">Reference reluctance</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Reluctance">Reluctance</a></td>
<td align="left">R_mUsefulTot</td>
<td align="left">
</td>
<td align="left">Total reluctance of useful flux path as reference [H-1]</td>
</tr>
<tr class="even">
<td align="left"><img src="../Magnetic/modelica://Modelica/Resources/Images/Magnetic/FluxTubes/Basic/LeakageWithCoefficient.png" alt="image15" /></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="77%" />
<col width="6%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort">PositiveMagneticPort</a></td>
<td align="left">port_p</td>
<td align="left">Positive magnetic port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.NegativeMagneticPort">NegativeMagneticPort</a></td>
<td align="left">port_n</td>
<td align="left">Negative magnetic port</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>model LeakageWithCoefficient 
  &quot;Leakage reluctance with respect to the reluctance of a useful flux path (not for dynamic simulation of actuators)&quot;

  extends Modelica.Magnetic.FluxTubes.Interfaces.PartialLeakage;

  parameter SI.CouplingCoefficient c_usefulFlux( start = 0.7) 
    &quot;Ratio useful flux/(leakage flux + useful flux) = useful flux/total flux&quot;;

  input SI.Reluctance R_mUsefulTot 
    &quot;Total reluctance of useful flux path as reference&quot;;
equation 
  (1 - c_usefulFlux) * R_m = c_usefulFlux * R_mUsefulTot;   // Generalized Kirchhoff&#39;s current law

end LeakageWithCoefficient;</code></pre>
<hr />
<h1 id="image16-modelica.magnetic.fluxtubes.basic.eddycurrent"><img src="Modelica.Magnetic.FluxTubes.Basic.EddyCurrentI.png" alt="image16" /> <a href="Modelica_Magnetic_FluxTubes_Basic.html#Modelica.Magnetic.FluxTubes.Basic">Modelica.Magnetic.FluxTubes.Basic</a>.EddyCurrent</h1>
<p><strong>For modelling of eddy current in a conductive magnetic flux tube</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>Eddy currents are induced in a conductive magnetic flux tube when the flux changes with time. This causes a magnetic voltage drop in addition to the voltage drop that is due to the reluctance of this flux tube. The eddy current component can be thought of as a short-circuited secundary winding of a transformer with only one turn. Its resistance is calculated from the geometry and resistivity of the eddy current path.</p>
<p>Partitioning of a solid conductive cylinder or prism into several hollow cylinders or separate nested prisms and modelling of each of these flux tubes connected in parallel with a series connection of a reluctance element and an eddy current component can model the delayed buildup of the magnetic field in the complete flux tube from the outer to the inner sections. Please refer to <a href="Modelica_Magnetic_FluxTubes_UsersGuide.html#Modelica.Magnetic.FluxTubes.UsersGuide.Literature">[Ka08]</a> for an illustration.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts">Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts</a> (Partial component with magnetic potential difference between two magnetic ports p and n and magnetic flux Phi from p to n), <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort">Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="41%" />
<col width="9%" />
<col width="6%" />
<col width="41%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">useHeatPort</td>
<td align="left">false</td>
<td align="left">=true, if HeatPort is enabled</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T</td>
<td align="left">273.15</td>
<td align="left">Fixed device temperature if useHeatPort = false [K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistivity">Resistivity</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Resistivity of flux tube material (default: Iron at 20degC) [Ohm.m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">l</td>
<td align="left">
</td>
<td align="left">Average length of eddy current path [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Area">Area</a></td>
<td align="left">A</td>
<td align="left">
</td>
<td align="left">Cross sectional area of eddy current path [m2]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="77%" />
<col width="7%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.PositiveMagneticPort">PositiveMagneticPort</a></td>
<td align="left">port_p</td>
<td align="left">Positive magnetic port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Magnetic_FluxTubes_Interfaces.html#Modelica.Magnetic.FluxTubes.Interfaces.NegativeMagneticPort">NegativeMagneticPort</a></td>
<td align="left">port_n</td>
<td align="left">Negative magnetic port</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>model EddyCurrent 
  &quot;For modelling of eddy current in a conductive magnetic flux tube&quot;

  extends Modelica.Magnetic.FluxTubes.Interfaces.PartialTwoPorts;
  extends Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort(final T = 273.15);

  parameter SI.Resistivity rho( start = 0.098e-6) 
    &quot;Resistivity of flux tube material (default: Iron at 20degC)&quot;;
  parameter SI.Length l(start = 1) &quot;Average length of eddy current path&quot;;
  parameter SI.Area A(start = 1) &quot;Cross sectional area of eddy current path&quot;;

  final parameter SI.Resistance R = rho * l /A 
    &quot;Electrical resistance of eddy current path&quot;;

equation 
  LossPower = V_m*der(Phi);
  V_m = 1/R * der(Phi); //Magnetic voltage drop in magnetic network due to eddy current
end EddyCurrent;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:29:51 2010.</p>
</body>
</html>
