<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</h1>
</div>
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe"><a href="Modelica_Fluid_Dissipation_PressureLoss.html#Modelica.Fluid.Dissipation.PressureLoss">Modelica.Fluid.Dissipation.PressureLoss</a>.StraightPipe</h1>
<p><strong>Package for pressure loss calculation of straight pipes</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<h3 id="straight-pipe">Straight Pipe</h3>
<h4 id="laminar-flow">Laminar flow</h4>
<p>Calculation of pressure loss in a straight pipe for <strong>laminar</strong> flow regime of single-phase fluid flow only. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_laminar">See more information</a>.</p>
<h4 id="turbulent-flow">Turbulent flow</h4>
<p>Calculation of pressure loss in a straight pipe for <strong>turbulent</strong> flow regime of single-phase fluid flow only considering surface roughness. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_turbulent">See more information</a>.</p>
<h4 id="overall-flow">Overall flow</h4>
<p>Calculation of pressure loss in a straight pipe for <strong>laminar or turbulent</strong> flow regime of single-phase fluid flow only considering surface roughness. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_overall">See more information</a>.</p>
<h4 id="two-phase-overall-flow">Two phase overall flow</h4>
<p>Calculation of pressure loss for <strong>two phase flow</strong> in a horizontal <strong>or</strong> vertical straight pipe for an overall flow regime considering frictional, momentum and geodetic pressure loss. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_twoPhaseOverall">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage">Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="69%" />
<col width="30%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DPS.png" alt="image15" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DP">dp_laminar_DP</a></td>
<td align="left">Pressure loss of straight pipe | calculate pressure loss| laminar flow regime (Hagen-Poiseuille)</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DPS.png" alt="image16" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_MFLOW">dp_laminar_MFLOW</a></td>
<td align="left">Pressure loss of straight pipe | calculate mass flow rate | laminar flow regime (Hagen-Poiseuille)</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_conS.png" alt="image17" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_con">dp_laminar_IN_con</a></td>
<td align="left">Input record for function dp_laminar_DP and dp_laminar_MFLOW</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_conS.png" alt="image18" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_var">dp_laminar_IN_var</a></td>
<td align="left">Input record for function dp_laminar_DP and dp_laminar_MFLOW</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DPS.png" alt="image19" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DP">dp_overall_DP</a></td>
<td align="left">Pressure loss of straight pipe | calculate pressure loss | overall flow regime | surface roughness</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DPS.png" alt="image20" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_MFLOW">dp_overall_MFLOW</a></td>
<td align="left">Pressure loss of straight pipe | calculate mass flow rate | overall flow regime | surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_conS.png" alt="image21" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_con">dp_overall_IN_con</a></td>
<td align="left">Input record for function dp_overall_DP and dp_overall_MFLOW</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_conS.png" alt="image22" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var">dp_overall_IN_var</a></td>
<td align="left">Input record for function dp_overall_DP and dp_overall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DPS.png" alt="image23" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DP">dp_turbulent_DP</a></td>
<td align="left">Pressure loss of straight pipe | calculate pressure loss | turbulent flow regime | surface roughness</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DPS.png" alt="image24" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_MFLOW">dp_turbulent_MFLOW</a></td>
<td align="left">Pressure loss of straight pipe | calculate mass flow rate | turbulent flow regime | surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_conS.png" alt="image25" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con">dp_turbulent_IN_con</a></td>
<td align="left">Input record for function dp_turbulent_DP and dp_turbulent_MFLOW</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_conS.png" alt="image26" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_var">dp_turbulent_IN_var</a></td>
<td align="left">Input record for function dp_turbulent_DP and dp_turbulent_MFLOW</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_DPS.png" alt="image27" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_DP">dp_twoPhaseOverall_DP</a></td>
<td align="left">Pressure loss of straight pipe for two phase flow | calculate (frictional, momentum, geodetic) pressure loss</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_conS.png" alt="image28" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_con">dp_twoPhaseOverall_IN_con</a></td>
<td align="left">Input record for function dp_twoPhaseOverall_DP</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_conS.png" alt="image29" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_var">dp_twoPhaseOverall_IN_var</a></td>
<td align="left">Input record for function dp_twoPhaseOverall_DP</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_laminar_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_laminar_DP</h1>
<p><strong>Pressure loss of straight pipe | calculate pressure loss| laminar flow regime (Hagen-Poiseuille)</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>laminar</strong> flow regime of an incompressible and single-phase fluid flow only.</p>
<p>Generally this function is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_MFLOW">dp_laminar_MFLOW</a> is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_laminar">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs">Inputs</h2>
<table>
<col width="69%" />
<col width="5%" />
<col width="5%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_con">dp_laminar_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_laminar_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_var">dp_laminar_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_laminar_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs">Outputs</h2>
<table>
<col width="55%" />
<col width="7%" />
<col width="37%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Output for function dp_laminar_DP [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>function dp_laminar_DP 
  &quot;Pressure loss of straight pipe | calculate pressure loss| laminar flow regime (Hagen-Poiseuille)&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.

  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_con
    IN_con &quot;Input record for function dp_laminar_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_var
    IN_var &quot;Input record for function dp_laminar_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Output for function dp_laminar_DP&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=IN_con.d_hyd &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;

  SI.Velocity velocity=m_flow/max(MIN, IN_var.rho*A_cross) &quot;Mean velocity&quot;;

  //Documentation

algorithm 
  DP := 32*IN_var.eta*velocity*IN_con.L/d_hyd^2;
end dp_laminar_DP;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_laminar_mflow"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_laminar_MFLOW</h1>
<p><strong>Pressure loss of straight pipe | calculate mass flow rate | laminar flow regime (Hagen-Poiseuille)</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>laminar</strong> flow regime of an incompressible and single-phase fluid flow only.</p>
<p>Generally this function is numerically best used for the <strong>compressible case</strong>, where the pressure loss (dp) is known (out of pressures as state variable) in the used model and the corresponding mass flow rate (M_FLOW) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DP">dp_laminar_DP</a> is numerically best used for the <strong>incompressible case</strong> if the mass flow rate (m_flow) is known (as state variable) and the pressure loss (DP) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_laminar">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-1">Inputs</h2>
<table>
<col width="68%" />
<col width="5%" />
<col width="5%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_con">dp_laminar_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_laminar_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_var">dp_laminar_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_laminar_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp</td>
<td align="left">
</td>
<td align="left">Pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-1">Outputs</h2>
<table>
<col width="54%" />
<col width="8%" />
<col width="36%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">M_FLOW</td>
<td align="left">Output for function dp_laminar_MFLOW [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>function dp_laminar_MFLOW 
  &quot;Pressure loss of straight pipe | calculate mass flow rate | laminar flow regime (Hagen-Poiseuille)&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.

  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_con
    IN_con &quot;Input record for function dp_laminar_MFLOW&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_var
    IN_var &quot;Input record for function dp_laminar_MFLOW&quot;;
  input SI.Pressure dp &quot;Pressure loss&quot;;

  //output variables
  output SI.MassFlowRate M_FLOW &quot;Output for function dp_laminar_MFLOW&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;

  //Documentation

algorithm 
  M_FLOW := IN_var.rho*A_cross*(dp*d_hyd^2/(32*IN_var.eta*IN_con.L));
end dp_laminar_MFLOW;</code></pre>
<hr />
<h1 id="image30-modelica.fluid.dissipation.pressureloss.straightpipe.dp_laminar_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_conI.png" alt="image30" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_laminar_IN_con</h1>
<p><strong>Input record for function dp_laminar_DP and dp_laminar_MFLOW</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DP">dp_laminar_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_MFLOW">dp_laminar_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.StraightPipe">Utilities.Records.PressureLoss.StraightPipe</a> (Input for straight pipe).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="56%" />
<col width="9%" />
<col width="10%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Straight pipe</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Diameter">Diameter</a></td>
<td align="left">d_hyd</td>
<td align="left">0.1</td>
<td align="left">Hydraulic diameter [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">L</td>
<td align="left">1</td>
<td align="left">Length [m]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>record dp_laminar_IN_con 
  &quot;Input record for function dp_laminar_DP and dp_laminar_MFLOW&quot;
  extends Utilities.Records.PressureLoss.StraightPipe;


end dp_laminar_IN_con;</code></pre>
<hr />
<h1 id="image31-modelica.fluid.dissipation.pressureloss.straightpipe.dp_laminar_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_IN_conI.png" alt="image31" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_laminar_IN_var</h1>
<p><strong>Input record for function dp_laminar_DP and dp_laminar_MFLOW</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_DP">dp_laminar_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_laminar_MFLOW">dp_laminar_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var</a> (Input record for function dp_overall_DP and dp_overall_MFLOW).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="58%" />
<col width="6%" />
<col width="8%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of fluid [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Density of fluid [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>record dp_laminar_IN_var 
  &quot;Input record for function dp_laminar_DP and dp_laminar_MFLOW&quot;

  extends Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var;


end dp_laminar_IN_var;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_overall_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_overall_DP</h1>
<p><strong>Pressure loss of straight pipe | calculate pressure loss | overall flow regime | surface roughness</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>overall</strong> flow regime of an incompressible and single-phase fluid flow only considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_MFLOW">dp_overall_MFLOW</a> is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_overall">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-2">Inputs</h2>
<table>
<col width="69%" />
<col width="5%" />
<col width="5%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_con">dp_overall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_overall_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var">dp_overall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_overall_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-2">Outputs</h2>
<table>
<col width="55%" />
<col width="7%" />
<col width="37%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Output for function dp_overall_DP [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>function dp_overall_DP 
  &quot;Pressure loss of straight pipe | calculate pressure loss | overall flow regime | surface roughness&quot;
  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_con
    IN_con &quot;Input record for function dp_overall_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var
    IN_var &quot;Input record for function dp_overall_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Output for function dp_overall_DP&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;
  SI.Length perimeter=PI*IN_con.d_hyd &quot;Perimeter&quot;;

  //SOURCE_1: p.81, fig. 2-3, sec 21-22: definition of flow regime boundaries
  SI.ReynoldsNumber Re_lam_min=1e3 &quot;Minimum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_lam_max=2090*(1/max(0.007, k))^0.0635 
    &quot;Maximum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  SI.ReynoldsNumber Re=
      Modelica.Fluid.Dissipation.Utilities.Functions.General.ReynoldsNumber(
      A_cross,
      perimeter,
      IN_var.rho,
      IN_var.eta,
      m_flow);

  //Documentation

algorithm 
  DP := SMOOTH(
          Re_lam_min,
          Re_lam_max,
          Re)*Dissipation.PressureLoss.StraightPipe.dp_laminar_DP(
          IN_con,
          IN_var,
          m_flow) + SMOOTH(
          Re_lam_max,
          Re_lam_min,
          Re)*Dissipation.PressureLoss.StraightPipe.dp_turbulent_DP(
          IN_con,
          IN_var,
          m_flow);
end dp_overall_DP;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_overall_mflow"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_overall_MFLOW</h1>
<p><strong>Pressure loss of straight pipe | calculate mass flow rate | overall flow regime | surface roughness</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>overall</strong> flow regime of an incompressible and single-phase fluid flow only considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>compressible case</strong>, where the pressure loss (dp) is known (out of pressures as state variable) in the used model and the corresponding mass flow rate (M_FLOW) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DP">dp_overall_DP</a> is numerically best used for the <strong>incompressible case</strong> if the mass flow rate (m_flow) is known (as state variable) and the pressure loss (DP) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_overall">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-3">Inputs</h2>
<table>
<col width="68%" />
<col width="5%" />
<col width="5%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_con">dp_overall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_overall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var">dp_overall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_overall_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp</td>
<td align="left">
</td>
<td align="left">Pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-3">Outputs</h2>
<table>
<col width="54%" />
<col width="8%" />
<col width="36%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">M_FLOW</td>
<td align="left">Output of function dp_overall_MFLOW [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>function dp_overall_MFLOW 
  &quot;Pressure loss of straight pipe | calculate mass flow rate | overall flow regime | surface roughness&quot;
  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;
  import SMOOTH = Modelica.Fluid.Dissipation.Utilities.Functions.General.Stepsmoother;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_con
    IN_con &quot;Input record for function dp_overall_MFLOW&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var
    IN_var &quot;Input record for function dp_overall_MFLOW&quot;;
  input SI.Pressure dp &quot;Pressure loss&quot;;

  //output variables
  output SI.MassFlowRate M_FLOW &quot;Output of function dp_overall_MFLOW&quot;;

protected 
  Real MIN=Modelica.Constants.eps;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=max(MIN, PI*IN_con.d_hyd^2/4) &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;

  //SOURCE_1: p.81, fig. 2-3, sec 21-22: definition of flow regime boundaries
  SI.ReynoldsNumber Re_lam_min=1e3 &quot;Minimum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_lam_max=2090*(1/max(0.007, k))^0.0635 
    &quot;Maximum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_turb_min=4e3 
    &quot;Minimum Reynolds number for turbulent regime&quot;;

  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //determining darcy friction factor out of pressure loss calulation for straight pipe:
  //dp = lambda_FRI*L/d_hyd*(rho/2)*velocity^2 and assuming lambda_FRI == lambda_FRI_calc/Re^2
  TYP.DarcyFrictionFactor lambda_FRI_calc=2*abs(dp)*d_hyd^3*IN_var.rho/(IN_con.L
      *IN_var.eta^2) &quot;Adapted Darcy friction factor&quot;;

  //SOURCE_3: p.Lab 1, eq. 5: determine Re assuming laminar regime (Blasius)
  SI.ReynoldsNumber Re_lam=lambda_FRI_calc/64 
    &quot;Reynolds number assuming laminar regime&quot;;

  //SOURCE_3: p.Lab 2, eq. 10: determine Re assuming turbulent regime (Colebrook-White)
  SI.ReynoldsNumber Re_turb=if IN_con.roughness == 1 then (max(MIN,
      lambda_FRI_calc)/0.3164)^(1/1.75) else -2*sqrt(max(lambda_FRI_calc, MIN))
      *Modelica.Math.log10(2.51/sqrt(max(lambda_FRI_calc, MIN)) + k/3.7) 
    &quot;Reynolds number assuming turbulent regime&quot;;

  //determine actual flow regime
  SI.ReynoldsNumber Re_check=if Re_lam &lt; Re_lam_leave then Re_lam else Re_turb;
  //determine Re for transition regime
  SI.ReynoldsNumber Re_trans=if Re_lam &gt;= Re_lam_leave then 
      Modelica.Fluid.Dissipation.Utilities.Functions.General.CubicInterpolation_DP(
      Re_check,
      Re_lam_leave,
      Re_turb_min,
      k,
      lambda_FRI_calc) else 0;
  //determine actual Re
  SI.ReynoldsNumber Re=if Re_lam &lt; Re_lam_leave then Re_lam else if Re_turb &gt;
      Re_turb_min then Re_turb else Re_trans;

  //Documentation

algorithm 
  M_FLOW := SMOOTH(
          Re_lam_min,
          Re_turb,
          Re)*Dissipation.PressureLoss.StraightPipe.dp_laminar_MFLOW(
          IN_con,
          IN_var,
          dp) + SMOOTH(
          Re_turb,
          Re_lam_min,
          Re)*Dissipation.PressureLoss.StraightPipe.dp_turbulent_MFLOW(
          IN_con,
          IN_var,
          dp);
end dp_overall_MFLOW;</code></pre>
<hr />
<h1 id="image32-modelica.fluid.dissipation.pressureloss.straightpipe.dp_overall_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_conI.png" alt="image32" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_overall_IN_con</h1>
<p><strong>Input record for function dp_overall_DP and dp_overall_MFLOW</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DP">dp_overall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_MFLOW">dp_overall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con">dp_turbulent_IN_con</a> (Input record for function dp_turbulent_DP and dp_turbulent_MFLOW).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="52%" />
<col width="6%" />
<col width="15%" />
<col width="25%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Straight pipe</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_Utilities_Types.html#Modelica.Fluid.Dissipation.Utilities.Types.Roughness">Roughness</a></td>
<td align="left">roughness</td>
<td align="left">Dissipation.Utilities.Types....</td>
<td align="left">Choice of considering surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Diameter">Diameter</a></td>
<td align="left">d_hyd</td>
<td align="left">0.1</td>
<td align="left">Hydraulic diameter [m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">L</td>
<td align="left">1</td>
<td align="left">Length [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">K</td>
<td align="left">0</td>
<td align="left">Roughness (average height of surface asperities) [m]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>record dp_overall_IN_con 
  &quot;Input record for function dp_overall_DP and dp_overall_MFLOW&quot;

  //straight pipe variables
  extends dp_turbulent_IN_con;


end dp_overall_IN_con;</code></pre>
<hr />
<h1 id="image33-modelica.fluid.dissipation.pressureloss.straightpipe.dp_overall_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_conI.png" alt="image33" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_overall_IN_var</h1>
<p><strong>Input record for function dp_overall_DP and dp_overall_MFLOW</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_DP">dp_overall_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_MFLOW">dp_overall_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_General.html#Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss">Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss</a> (Base record for fluid properties for pressure loss).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="58%" />
<col width="6%" />
<col width="8%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of fluid [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Density of fluid [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>record dp_overall_IN_var 
  &quot;Input record for function dp_overall_DP and dp_overall_MFLOW&quot;

  //fluid property variables
  extends Modelica.Fluid.Dissipation.Utilities.Records.General.PressureLoss;


end dp_overall_IN_var;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_turbulent_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_turbulent_DP</h1>
<p><strong>Pressure loss of straight pipe | calculate pressure loss | turbulent flow regime | surface roughness</strong></p>
<h2 id="information-9">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>turbulent</strong> flow regime of an incompressible and single-phase fluid flow only considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_MFLOW">dp_turbulent_MFLOW</a> is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_turbulent">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-4">Inputs</h2>
<table>
<col width="69%" />
<col width="5%" />
<col width="5%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con">dp_turbulent_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_turbulent_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_var">dp_turbulent_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_turbulent_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-4">Outputs</h2>
<table>
<col width="54%" />
<col width="7%" />
<col width="38%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Output for function dp_turbulent_DP [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-8">Modelica definition</h2>
<pre><code>function dp_turbulent_DP 
  &quot;Pressure loss of straight pipe | calculate pressure loss | turbulent flow regime | surface roughness&quot;

  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002.
  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con
    IN_con &quot;Input record for function dp_turbulent_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_var
    IN_var &quot;Input record for function dp_turbulent_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Output for function dp_turbulent_DP&quot;;

protected 
  type TYP1 = Modelica.Fluid.Dissipation.Utilities.Types.Roughness;

  Real MIN=Modelica.Constants.eps;

  SI.ReynoldsNumber Re_min=1;
  SI.Velocity v_min=Re_min*IN_var.eta/(IN_var.rho*IN_con.d_hyd);

  SI.Diameter d_hyd=IN_con.d_hyd &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;

  //SOURCE_1: p.81, fig. 2-3, sec 21-22: definition of flow regime boundaries
  SI.ReynoldsNumber Re_lam_min=1e3 &quot;Minimum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_lam_max=2090*(1/max(0.007, k))^0.0635 
    &quot;Maximum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_turb_min=4e3 
    &quot;Minimum Reynolds number for turbulent regime&quot;;

  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  SI.Velocity velocity=m_flow/(IN_var.rho*A_cross) &quot;Mean velocity&quot;;
  SI.ReynoldsNumber Re=max(Re_min, IN_var.rho*abs(velocity)*d_hyd/IN_var.eta);

  //SOURCE_2: p.191, eq. 8.4: determining darcy friction factor
  //assuming lambda_FRI == lambda_FRI_calc/Re^2
  TYP.DarcyFrictionFactor lambda_FRI_smooth=0.3164*Re^(1.75) 
    &quot;Darcy friction factor neglecting surface roughness (Blasius)&quot;;
  //here with lambda_FRI_rough == lambda_FRI*Re^2
  TYP.DarcyFrictionFactor lambda_FRI_rough=0.25*(max(Re, Re_lam_leave)/
      Modelica.Math.log10(k/3.7 + 5.74/max(Re, Re_lam_leave)^0.9))^2 
    &quot;Darcy friction factor considering surface roughness&quot;;
  TYP.DarcyFrictionFactor lambda_FRI=if IN_con.roughness == TYP1.Neglected then 
            lambda_FRI_smooth else lambda_FRI_rough &quot;Darcy friction factor&quot;;
  TYP.DarcyFrictionFactor lambda_FRI_calc=if Re &lt; Re_lam_leave then 64/Re else 
      if Re &gt; Re_turb_min then lambda_FRI/Re^2 else 
      Modelica.Fluid.Dissipation.Utilities.Functions.General.CubicInterpolation_MFLOW(
      Re,
      Re_lam_leave,
      Re_turb_min,
      k)/Re^2 &quot;Darcy friction factor&quot;;

  TYP.PressureLossCoefficient zeta_TOT=lambda_FRI_calc*IN_con.L/d_hyd 
    &quot;Pressure loss coefficient&quot;;

  //Documentation

algorithm 
  DP := zeta_TOT*(IN_var.rho/2)*
    Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(
          velocity,
          v_min,
          2);
end dp_turbulent_DP;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_turbulent_mflow"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_turbulent_MFLOW</h1>
<p><strong>Pressure loss of straight pipe | calculate mass flow rate | turbulent flow regime | surface roughness</strong></p>
<h2 id="information-10">Information</h2>
<p>::</p>
<p>Calculation of pressure loss in a straight pipe for <strong>turbulent</strong> flow regime of an incompressible and single-phase fluid flow only considering surface roughness.</p>
<p>Generally this function is numerically best used for the <strong>compressible case</strong> if the pressure loss (dp) is known (out of pressures as state variable) and the mass flow rate (M_FLOW) has to be calculated. On the other hand the function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DP">dp_turbulent_DP</a> is numerically best used for the <strong>incompressible case</strong>, where the mass flow rate (m_flow) is known (as state variable) in the used model and the corresponding pressure loss (DP) has to be calculated. <a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_turbulent">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-5">Inputs</h2>
<table>
<col width="68%" />
<col width="5%" />
<col width="5%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con">dp_turbulent_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_turbulent_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_var">dp_turbulent_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_turbulent_MFLOW</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp</td>
<td align="left">
</td>
<td align="left">Pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-5">Outputs</h2>
<table>
<col width="66%" />
<col width="10%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">M_FLOW</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-9">Modelica definition</h2>
<pre><code>function dp_turbulent_MFLOW 
  &quot;Pressure loss of straight pipe | calculate mass flow rate | turbulent flow regime | surface roughness&quot;
  //SOURCE_1: Idelchik, I.E.: HANDBOOK OF HYDRAULIC RESISTANCE, 3rd edition, 2006.
  //SOURCE_2: Miller, D.S.: INTERNAL FLOW SYSTEMS, 2nd edition, 1984.
  //SOURCE_3: VDI-Waermeatlas, 9th edition, Springer-Verlag, 2002.

  import FD = Modelica.Fluid.Dissipation.PressureLoss.StraightPipe;

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;
  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_con
    IN_con &quot;Input record for function dp_turbulent_MFLOW&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_var
    IN_var &quot;Input record for function dp_turbulent_MFLOW&quot;;
  input SI.Pressure dp &quot;Pressure loss&quot;;

  //output variables
  output SI.MassFlowRate M_FLOW &quot;Mass flow rate&quot;;

protected 
  type TYP1 = Modelica.Fluid.Dissipation.Utilities.Types.Roughness;

  Real MIN=Modelica.Constants.eps;
  SI.ReynoldsNumber Re_min=1;

  SI.Diameter d_hyd=max(MIN, IN_con.d_hyd) &quot;Hydraulic diameter&quot;;
  SI.Area A_cross=PI*IN_con.d_hyd^2/4 &quot;Circular cross sectional area&quot;;
  Real k=max(MIN, abs(IN_con.K)/IN_con.d_hyd) &quot;Relative roughness&quot;;

  //SOURCE_1: p.81, fig. 2-3, sec 21-22: definition of flow regime boundaries
  SI.ReynoldsNumber Re_lam_min=1e3 &quot;Minimum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_lam_max=2090*(1/max(0.007, k))^0.0635 
    &quot;Maximum Reynolds number for laminar regime&quot;;
  SI.ReynoldsNumber Re_turb_min=4e3 
    &quot;Minimum Reynolds number for turbulent regime&quot;;

  SI.ReynoldsNumber Re_lam_leave=min(Re_lam_max, max(Re_lam_min, 754*
      Modelica.Math.exp(if k &lt;= 0.007 then 0.0065/0.007 else 0.0065/k))) 
    &quot;Start of transition regime for increasing Reynolds number (leaving laminar regime)&quot;;

  //determining darcy friction factor out of pressure loss calulation for straight pipe:
  //dp = lambda_FRI*L/d_hyd*(rho/2)*velocity^2 and assuming lambda_FRI == lambda_FRI_calc/Re^2
  TYP.DarcyFrictionFactor lambda_FRI_calc=2*abs(dp)*d_hyd^3*IN_var.rho/(IN_con.L
      *IN_var.eta^2) &quot;Adapted Darcy friction factor&quot;;

  //SOURCE_3: p.Lab 1, eq. 5: determine Re assuming laminar regime (Hagen-Poiseuille)
  SI.ReynoldsNumber Re_lam=lambda_FRI_calc/64 
    &quot;Reynolds number assuming laminar regime&quot;;

  //SOURCE_3: p.Lab 2, eq. 10: determine Re assuming turbulent regime (Colebrook-White)
  SI.ReynoldsNumber Re_turb=if IN_con.roughness == TYP1.Neglected then (max(MIN,
      lambda_FRI_calc)/0.3164)^(1/1.75) else -2*sqrt(max(lambda_FRI_calc, MIN))
      *Modelica.Math.log10(2.51/sqrt(max(lambda_FRI_calc, MIN)) + k/3.7) 
    &quot;Reynolds number assuming turbulent regime&quot;;

  //determine actual flow regime
  SI.ReynoldsNumber Re_check=if Re_lam &lt; Re_lam_leave then Re_lam else Re_turb;
  //determine Re for transition regime
  SI.ReynoldsNumber Re_trans=if Re_lam &gt;= Re_lam_leave then 
      Modelica.Fluid.Dissipation.Utilities.Functions.General.CubicInterpolation_DP(
      Re_check,
      Re_lam_leave,
      Re_turb_min,
      k,
      lambda_FRI_calc) else 0;
  //determine actual Re
  SI.ReynoldsNumber Re=if Re_lam &lt; Re_lam_leave then Re_lam else if Re_turb &gt;
      Re_turb_min then Re_turb else Re_trans;

  //determine velocity
  SI.Velocity velocity=(if dp &gt;= 0 then Re else -Re)*IN_var.eta/(IN_var.rho*
      d_hyd) &quot;Mean velocity&quot;;

  //Documentation

algorithm 
  M_FLOW := IN_var.rho*A_cross*velocity;
end dp_turbulent_MFLOW;</code></pre>
<hr />
<h1 id="image34-modelica.fluid.dissipation.pressureloss.straightpipe.dp_turbulent_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_conI.png" alt="image34" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_turbulent_IN_con</h1>
<p><strong>Input record for function dp_turbulent_DP and dp_turbulent_MFLOW</strong></p>
<h2 id="information-11">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DP">dp_turbulent_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_MFLOW">dp_turbulent_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Records.PressureLoss.StraightPipe">Utilities.Records.PressureLoss.StraightPipe</a> (Input for straight pipe).</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="52%" />
<col width="6%" />
<col width="15%" />
<col width="25%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Straight pipe</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_Utilities_Types.html#Modelica.Fluid.Dissipation.Utilities.Types.Roughness">Roughness</a></td>
<td align="left">roughness</td>
<td align="left">Dissipation.Utilities.Types....</td>
<td align="left">Choice of considering surface roughness</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Diameter">Diameter</a></td>
<td align="left">d_hyd</td>
<td align="left">0.1</td>
<td align="left">Hydraulic diameter [m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">L</td>
<td align="left">1</td>
<td align="left">Length [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">K</td>
<td align="left">0</td>
<td align="left">Roughness (average height of surface asperities) [m]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-10">Modelica definition</h2>
<pre><code>record dp_turbulent_IN_con 
  &quot;Input record for function dp_turbulent_DP and dp_turbulent_MFLOW&quot;

  Modelica.Fluid.Dissipation.Utilities.Types.Roughness roughness=Dissipation.Utilities.Types.Roughness.Neglected 
    &quot;Choice of considering surface roughness&quot;;

  extends Utilities.Records.PressureLoss.StraightPipe;

    SI.Length K=0 &quot;Roughness (average height of surface asperities)&quot;;

end dp_turbulent_IN_con;</code></pre>
<hr />
<h1 id="image35-modelica.fluid.dissipation.pressureloss.straightpipe.dp_turbulent_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_IN_conI.png" alt="image35" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_turbulent_IN_var</h1>
<p><strong>Input record for function dp_turbulent_DP and dp_turbulent_MFLOW</strong></p>
<h2 id="information-12">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_DP">dp_turbulent_DP</a> and <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_turbulent_MFLOW">dp_turbulent_MFLOW</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var</a> (Input record for function dp_overall_DP and dp_overall_MFLOW).</p>
<h2 id="parameters-5">Parameters</h2>
<table>
<col width="58%" />
<col width="6%" />
<col width="8%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of fluid [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho</td>
<td align="left">
</td>
<td align="left">Density of fluid [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-11">Modelica definition</h2>
<pre><code>record dp_turbulent_IN_var 
  &quot;Input record for function dp_turbulent_DP and dp_turbulent_MFLOW&quot;

  extends Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_overall_IN_var;

end dp_turbulent_IN_var;</code></pre>
<hr />
<h1 id="modelica.fluid.dissipation.pressureloss.straightpipe.dp_twophaseoverall_dp"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_twoPhaseOverall_DP</h1>
<p><strong>Pressure loss of straight pipe for two phase flow | calculate (frictional, momentum, geodetic) pressure loss</strong></p>
<h2 id="information-13">Information</h2>
<p>::</p>
<p>Calculation of pressure loss for <strong>two phase flow</strong> in a horizontal <strong>or</strong> vertical straight pipe for an overall flow regime considering frictional, momentum and geodetic pressure loss.</p>
<p>Generally the pressure loss for two phase flow in a horizontal or a vertical straight pipe can be calculated for the following fluid flow regimes:</p>
<p><strong>Horizontal fluid flow</strong> [(a) bubble flow, (b) stratified flow, (c) wavy flow, (d) slug flow, (e) annular flow]:</p>
<p><strong>Vertical fluid flow</strong> [(a) bubble flow, (b) plug slug flow, (c) foam flow, (d) annular streak flow, (e) annular flow]:</p>
<p><a href="Modelica_Fluid_Dissipation_Utilities_SharedDocumentation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.Utilities.SharedDocumentation.PressureLoss.StraightPipe.dp_twoPhaseOverall">See more information</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Icons_PressureLoss.html#Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d">Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d</a> (Geometry figure for straight pipe).</p>
<h2 id="inputs-6">Inputs</h2>
<table>
<col width="69%" />
<col width="4%" />
<col width="4%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Constant inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_con">dp_twoPhaseOverall_IN_con</a></td>
<td align="left">IN_con</td>
<td align="left">
</td>
<td align="left">Input record for function dp_twoPhaseOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Variable inputs</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_var">dp_twoPhaseOverall_IN_var</a></td>
<td align="left">IN_var</td>
<td align="left">
</td>
<td align="left">Input record for function dp_twoPhaseOverall_DP</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate">MassFlowRate</a></td>
<td align="left">m_flow</td>
<td align="left">
</td>
<td align="left">Mass flow rate [kg/s]</td>
</tr>
</tbody>
</table>
<h2 id="outputs-6">Outputs</h2>
<table>
<col width="61%" />
<col width="8%" />
<col width="30%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">DP</td>
<td align="left">Two phase pressure loss [Pa]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-12">Modelica definition</h2>
<pre><code>function dp_twoPhaseOverall_DP 
  &quot;Pressure loss of straight pipe for two phase flow | calculate (frictional, momentum, geodetic) pressure loss&quot;
  //SOURCE_1: Friedel,L.:IMPROVED FRICTION PRESSURE DROP CORRELATIONS FOR HORIZONTAL AND VERTICAL TWO PHASE PIPE FLOW, 3R International, Vol. 18, Issue 7, pp. 485-491, 1979
  //SOURCE_2: Chisholm,D.:PRESSURE GRADIENTS DUE TO FRICTION DURING THE FLOW OF EVAPORATING TWO-PHASE MIXTURES IN SMOOTH TUBES AND CHANNELS, Int. J. Heat Mass Transfer, Vol. 16, pp. 347-358, Pergamon Press 1973
  //SOURCE_3: VDI-Waermeatlas, 10th edition, Springer-Verlag, 2006.
  //SOURCE 4: J.M. Jensen and H. Tummescheit. Moving boundary models for dynamic simulations of two-phase flows. In Proceedings of the 2nd International Modelica Conference, pp. 235-244, Oberpfaffenhofen, Germany, 2002. The Modelica Association.
  //SOURCE_5: Thome, J.R., Engineering Data Book 3, Swiss Federal Institute of Technology Lausanne (EPFL), 2009.

  //icon
  extends Modelica.Fluid.Dissipation.Utilities.Icons.PressureLoss.StraightPipe_d;

  //input records
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_con
    IN_con &quot;Input record for function dp_twoPhaseOverall_DP&quot;;
  input Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_var
    IN_var &quot;Input record for function dp_twoPhaseOverall_DP&quot;;
  input SI.MassFlowRate m_flow &quot;Mass flow rate&quot;;

  //output variables
  output SI.Pressure DP &quot;Two phase pressure loss&quot;;

protected 
  type TYP =
      Modelica.Fluid.Dissipation.Utilities.Types.TwoPhaseFrictionalPressureLoss;

  Real MIN=Modelica.Constants.eps;

  SI.Area A_cross=max(MIN, IN_con.A_cross) &quot;Cross sectional area&quot;;
  SI.Diameter d_hyd=max(MIN, 4*A_cross/max(MIN, IN_con.perimeter)) 
    &quot;Hydraulic diameter&quot;;

  Real mdot_A=abs(m_flow)/A_cross &quot;Mass flux&quot;;
  Real xflowEnd=min(1, max(0, abs(IN_var.x_flow_end))) 
    &quot;Mass flow rate quality at end of length&quot;;
  Real xflowSta=min(1, max(0, abs(IN_var.x_flow_sta))) 
    &quot;Mass flow rate quality at start of length&quot;;
  Real x_flow=(xflowEnd + xflowSta)/2 &quot;Mean mass flow rate quality over length&quot;;

  //SOURCE_5: p.17-1 to 17-5, sec. 17.1 to 17.2: Considering cross sectional void fraction [epsilon=A_g/(A_g+A_l)]
  Real epsilon=
      Modelica.Fluid.Dissipation.Utilities.Functions.PressureLoss.TwoPhase.VoidFraction(
      IN_con.voidFractionApproach,
      true,
      IN_var.rho_g,
      IN_var.rho_l,
      x_flow) &quot;Void fraction&quot;;

  //SOURCE_1: Considering frictional pressure loss w.r.t. to correlation of Friedel
  //SOURCE_2: Considering frictional pressrue loss w.r.t. to correlation of Chisholm
  SI.Pressure DP_fric=if IN_con.frictionalPressureLoss == TYP.Friedel then 
      Modelica.Fluid.Dissipation.Utilities.Functions.PressureLoss.TwoPhase.dp_twoPhaseFriedel_DP(
      IN_con,
      IN_var,
      m_flow) else if IN_con.frictionalPressureLoss == TYP.Chisholm then 
      Modelica.Fluid.Dissipation.Utilities.Functions.PressureLoss.TwoPhase.dp_twoPhaseChisholm_DP(
      IN_con,
      IN_var,
      m_flow) else 0 &quot;Frictional pressure loss&quot;;

  //SOURCE_3: p.Lba 4, eq. 22: Considering momentum pressure loss assuming heterogeneous approach for two phase flow
  //Evaporation &gt;&gt; positive momentum pressure loss (assumed vice versa at condenstation)
  SI.Pressure DP_mom=if IN_con.momentumPressureLoss then 
      Modelica.Fluid.Dissipation.Utilities.Functions.PressureLoss.TwoPhase.dp_twoPhaseMomentum_DP(
      IN_con.voidFractionApproach,
      IN_con.massFlowRateCorrection,
      IN_con.A_cross,
      IN_con.perimeter,
      IN_var.rho_g,
      IN_var.rho_l,
      IN_var.x_flow_end,
      IN_var.x_flow_sta,
      abs(m_flow)) else 0 &quot;Momentum pressure loss&quot;;

  //SOURCE_3: p.Lbb 1, eq. 4: Considering geodetic pressure loss assuming constant void fraction for flow length
  SI.Pressure DP_geo=if IN_con.geodeticPressureLoss then 
      Modelica.Fluid.Dissipation.Utilities.Functions.PressureLoss.TwoPhase.dp_twoPhaseGeodetic_DP(
      IN_con.voidFractionApproach,
      true,
      IN_con.length,
      IN_con.phi,
      IN_var.rho_g,
      IN_var.rho_l,
      IN_var.x_flow) else 0 &quot;Geodetic pressure loss&quot;;

  //Documentation
algorithm 
  DP := DP_fric + DP_mom + DP_geo;

end dp_twoPhaseOverall_DP;</code></pre>
<hr />
<h1 id="image36-modelica.fluid.dissipation.pressureloss.straightpipe.dp_twophaseoverall_in_con"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_conI.png" alt="image36" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_twoPhaseOverall_IN_con</h1>
<p><strong>Input record for function dp_twoPhaseOverall_DP</strong></p>
<h2 id="information-14">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_DP">dp_twoPhaseOverall_DP</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_General.html#Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_con">Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_con</a> (Base record for two phase Flow).</p>
<h2 id="parameters-6">Parameters</h2>
<table>
<col width="58%" />
<col width="9%" />
<col width="12%" />
<col width="19%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Choices</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Fluid_Dissipation_Utilities_Types.html#Modelica.Fluid.Dissipation.Utilities.Types.TwoPhaseFrictionalPressureLoss">TwoPhaseFrictionalPressureLoss</a></td>
<td align="left">frictionalPressureLoss</td>
<td align="left">Dissipation.Utilities.Types....</td>
<td align="left">Choice of frictional pressure loss approach</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Fluid_Dissipation_Utilities_Types.html#Modelica.Fluid.Dissipation.Utilities.Types.Roughness">Roughness</a></td>
<td align="left">voidFractionApproach</td>
<td align="left">Dissipation.Utilities.Types....</td>
<td align="left">Choice of void fraction approach</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">momentumPressureLoss</td>
<td align="left">false</td>
<td align="left">Considering momentum pressure loss</td>
</tr>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">massFlowRateCorrection</td>
<td align="left">false</td>
<td align="left">Consider heterogeneous mass flow rate correction</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">geodeticPressureLoss</td>
<td align="left">false</td>
<td align="left">Considering geodetic pressure loss</td>
</tr>
<tr class="odd">
<td align="left">Geometry</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Area">Area</a></td>
<td align="left">A_cross</td>
<td align="left">PI*0.1^2/4</td>
<td align="left">Cross sectional area [m2]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">perimeter</td>
<td align="left">PI*0.1</td>
<td align="left">Wettet perimeter [m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">length</td>
<td align="left">1</td>
<td align="left">Length in fluid flow direction [m]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Angle">Angle</a></td>
<td align="left">phi</td>
<td align="left">0</td>
<td align="left">Tilt angle to horizontal [rad]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-13">Modelica definition</h2>
<pre><code>record dp_twoPhaseOverall_IN_con 
  &quot;Input record for function dp_twoPhaseOverall_DP&quot;

  //choices
  Modelica.Fluid.Dissipation.Utilities.Types.TwoPhaseFrictionalPressureLoss
    frictionalPressureLoss=Dissipation.Utilities.Types.TwoPhaseFrictionalPressureLoss.Friedel 
    &quot;Choice of frictional pressure loss approach&quot;;
  Modelica.Fluid.Dissipation.Utilities.Types.Roughness
    voidFractionApproach =                                                  Dissipation.Utilities.Types.VoidFractionApproach.Homogeneous 
    &quot;Choice of void fraction approach&quot;;

  Boolean momentumPressureLoss=false &quot;Considering momentum pressure loss&quot;;
  Boolean massFlowRateCorrection=false 
    &quot;Consider heterogeneous mass flow rate correction&quot;;
  Boolean geodeticPressureLoss=false &quot;Considering geodetic pressure loss&quot;;

  extends Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_con;
  SI.Angle phi=0 &quot;Tilt angle to horizontal&quot;;


end dp_twoPhaseOverall_IN_con;</code></pre>
<hr />
<h1 id="image37-modelica.fluid.dissipation.pressureloss.straightpipe.dp_twophaseoverall_in_var"><img src="Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_IN_conI.png" alt="image37" /> <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe">Modelica.Fluid.Dissipation.PressureLoss.StraightPipe</a>.dp_twoPhaseOverall_IN_var</h1>
<p><strong>Input record for function dp_twoPhaseOverall_DP</strong></p>
<h2 id="information-15">Information</h2>
<p>::</p>
<p>This record is used as <strong>input record</strong> for the pressure loss function <a href="Modelica_Fluid_Dissipation_PressureLoss_StraightPipe.html#Modelica.Fluid.Dissipation.PressureLoss.StraightPipe.dp_twoPhaseOverall_DP">dp_twoPhaseOverall_DP</a>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Fluid_Dissipation_Utilities_Records_General.html#Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_var">Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_var</a> (Base record for two phase flow).</p>
<h2 id="parameters-7">Parameters</h2>
<table>
<col width="45%" />
<col width="9%" />
<col width="19%" />
<col width="25%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fluid properties</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">x_flow_end</td>
<td align="left">0</td>
<td align="left">Mass flow rate quality at end of length</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">x_flow_sta</td>
<td align="left">0</td>
<td align="left">Mass flow rate quality at start of length</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho_g</td>
<td align="left">
</td>
<td align="left">Density of gas [kg/m3]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho_l</td>
<td align="left">
</td>
<td align="left">Density of liquid [kg/m3]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta_g</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of gas [Pa.s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity">DynamicViscosity</a></td>
<td align="left">eta_l</td>
<td align="left">
</td>
<td align="left">Dynamic viscosity of liquid [Pa.s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.SurfaceTension">SurfaceTension</a></td>
<td align="left">sigma</td>
<td align="left">
</td>
<td align="left">Surface tension [N/m]</td>
</tr>
<tr class="odd">
<td align="left">Input</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">x_flow</td>
<td align="left">(x_flow_end + x_flow_sta)/2</td>
<td align="left">Mean mass flow rate quality over length</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-14">Modelica definition</h2>
<pre><code>record dp_twoPhaseOverall_IN_var 
  &quot;Input record for function dp_twoPhaseOverall_DP&quot;

  Real x_flow_end=0 &quot;Mass flow rate quality at end of length&quot;;
  Real x_flow_sta=0 &quot;Mass flow rate quality at start of length&quot;;
  extends Modelica.Fluid.Dissipation.Utilities.Records.General.TwoPhaseFlow_var
    (                                                                           final 
      x_flow=(x_flow_end + x_flow_sta)/2);


end dp_twoPhaseOverall_IN_var;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:22 2010.</p>
</body>
</html>
