Modelica.UsersGuide.ReleaseNotes



[Modelica.UsersGuide.ReleaseNotes] Modelica.UsersGuide.ReleaseNotes
===================================================================

::

This section summarizes the changes that have been performed on the
Modelica standard library. Furthermore, it is explained in
Modelica.UsersGuide.ReleaseNotes.VersionManagement how the versions are
managed with the subversion management systems. This is especially
important for maintenance (bug-fix) releases where the main version
number is not changed.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

Package Content
---------------

  ------------------------------------------------------------------------
  Name                                                         Description
  ------------------------------------------------------------ -----------
  [image14] VersionManagement                                  Version
                                                               Management

  [image15] Version_3_2_BugFixes                               Version 3.2
                                                               with bug
                                                               fixes

  [image16] Version_3_2                                        Version 3.2
                                                               (Oct. 25,
                                                               2010)

  [image17] Version_3_1                                        Version 3.1
                                                               (August 14,
                                                               2009)

  [image18] Version_3_0_1                                      Version
                                                               3.0.1
                                                               (Jan.27,
                                                               2009)

  [image19] Version_3_0                                        Version 3.0
                                                               (Feb.,
                                                               2008)

  [image20] Version_2_2_2                                      Version
                                                               2.2.2 (Aug.
                                                               31, 2007)

  [image21] Version_2_2_1                                      Version
                                                               2.2.1
                                                               (March 24,
                                                               2006)

  [image22] Version_2_2                                        Version 2.2
                                                               (April 6,
                                                               2005)

  [image23] Version_2_1                                        Version 2.1
                                                               (Nov. 11,
                                                               2004)

  [image24] Version_1_6                                        Version 1.6
                                                               (June 21,
                                                               2004)

  [image25] Version_1_5                                        Version 1.5
                                                               (Dec. 16,
                                                               2002)

  [image26] Version_1_4                                        Version 1.4
                                                               (June 28,
                                                               2001)
  ------------------------------------------------------------------------

* * * * *

[image27] Modelica.UsersGuide.ReleaseNotes.VersionManagement
============================================================

::

Maintenance of the Modelica Standard Library is performed with three
branches on the subversion server of the Modelica Association
(https://svn.modelica.org/projects/Modelica):

Released branch

Example: "/tags/v3.0.1/Modelica"

This branch contains the released Modelica versions (e.g., version
3.0.1), where all available test cases and compatibility checks with
other Modelica libraries have been performed on the respective release.
This version is usually shipped with a Modelica modeling and simulation
environment and utilized by a Modelica user.

Development branch

Example: "/trunk/Modelica"

This branch contains the actual development version, i.e., all bug fixes
and new features based on the last Modelica release. New features should
have been tested before including them. However, the exhaustive tests
for a new version are (usually) not performed. This version is usually
only be used by the developers of the Modelica Standard Library and is
not utilized by Modelica users.

Maintenance branch

Example: "/branches/maintenance/3.0.1/Modelica"

This branch contains the released Modelica version (e.g., version 3.0.1)
where all bug fixes since this release date are included (up to a new
release, when becoming available; i.e., after a new release, the
previous maintenance versions are no longer changed). These bug fixes
might be not yet tested with all test cases or with other Modelica
libraries. The goal is that a vendor may take this version at any time
for a new release of its software, in order to incorporate the latest
bug fixes, without changing the version number of the Modelica Standard
Library.

Incorporation of bug fixes (subversion "commit") shall be performed in
the following way:

-   One person is fixing the bug and another person is checking whether
    the fix is fine.
-   It is up to the library developer, whether he opens a new branch for
    testing and then merges it with the "head" maintenance branch or
    not.
-   Every change to the maintenance branch has to be done at the
    development branch (see above) as well. One exception are pure
    changes to the "versionBuild" annotation as these have no meaning in
    the development trunk.
-   Every change to the maintenance branch requires introducing a
    description of the bug fix under
    Modelica.UsersGuide.ReleaseNotes.Version_<release-number>_BugFixes.
-   Annotations "version" and "versionDate" must not be changed in a
    maintenance release.
-   Every change to the maintenance branch requires changing the
    "versionBuild" number (incrementing it by one), as well as the
    "dateModified" field. Example:

        annotation(version      = "3.1",
                   versionDate  = "2009-06-22",
                   versionBuild = 3,
                   dateModified = "2009-08-28 07:40:19Z",
                   revisionId   = "$I​d::                                       $")

    The "revisionId" field is a bit special though. If written like in
    the example above it will be automatically expanded to:

        revisionId   = "$I​d:: package.mo 2879 2009-08-28 07:40:19Z #$"

    by the subversion checkout procedure.

-   If time does not permit, a vendor makes the bug fix in its local
    version and then has to include it in the maintenance version. It
    would be best to make these changes at a new branch in order to get
    a unique release number.

A valid "commit" to the maintenance branch may contain one or more of
the following changes.

-   Correcting an equation.
-   Correcting attributes quantity/unit/defaultUnit in a declaration.
-   Improving/fixing the documentation.
-   Introducing a new name in the public section of a class (model,
    package, ...) or in any section of a partial class is not allowed.
    Since otherwise, a user might use this new name and when storing its
    model and loading it with an older build-version, an error would
    occur.
-   Introducing a new name in the protected section of a non-partial
    class should only be done if absolutely necessary to fix a bug. The
    problem is that this might be non-backward compatible, because a
    user might already extend from this class and already using the same
    name.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image28] Modelica.UsersGuide.ReleaseNotes.Version_3_2_BugFixes
===============================================================

::

Below the bug fixes are summarized that have been incorporated into the
maintenance branch of Version 3.2. All these changes are backwards
compatible.

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  --------------------- --------------------------------------------------
  Modelica.Math.Matrice 
  s.                    

  rcond                 The unspecified dimensions in an array in the
      discreteRiccati   protected section replaced by concrete dimensions.
                        
                        

  Modelica.Math.Matrice 
  s.Utilities.          

  householderSimilarity The unspecified dimensions in an array in the
  Transformation        protected section replaced by concrete dimensions.
  --------------------- --------------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image29] Modelica.UsersGuide.ReleaseNotes.Version_3_2
======================================================

::

Version 3.2 is backward compatible to version 3.1, i.e., models
developed with versions 3.0, 3.0.1, or 3.1 will work without any changes
also with version 3.2. This version is a major improvement:

-   357 models and blocks and 295 functions are newly included.
-   7 new libraries are included.
-   The icons of the library are newly designed to provide a modern,
    unified view, see Modelica.Icons.
-   All non-Modelica files, such as images, pdf-files, C-source files,
    scripts are moved to the new directory "Modelica\Resources".
    Furthermore, all file references are changed to URIs as introduced
    in Modelica 3.1 (e.g., a file with the file name
    "Modelica/Resources/Images/xxx" is referenced as
    "modelica://Modelica/Resources/Images/xxx").
-   All physical models that dissipate heat (such as electrical
    elements, electrical machines, bearings, dampers, etc.), have now an
    optional heat port to which the dissipated energy is flowing, if
    activated. This will significantly improve design studies about the
    thermal efficiency of technical systems.
-   All electrical machines in the Machines library have now a "Losses"
    tab in the parameter menu to optionally model machines losses such
    as frictional losses, stator core losses or stray load losses,
    respectively.
-   All electrical machines in the Machines library have now a
    "powerBalance" result record, summarizing converted power and
    losses.

Version 3.2 is slightly based on the Modelica Specification 3.2. It uses
the following new language elements (compared to Modelica Specification
3.1):

-   Operator records and overloaded operators.
-   Functions as input arguments to functions.
-   Improved expandable connectors (variables declared in expandable
    connectors are ignored if not referenced).

A large part of the new classes have been developed with partial
financial support by BMBF (BMBF Förderkennzeichen: 01IS07022F) within
the ITEA2 project EUROSYSLIB. We highly appreciate this funding.

The following new libraries have been added:

  ------------ -----------------------------------------------------------
  Complex      This is a top-level record outside of the Modelica Standard
               Library. It is used for complex numbers and contains
               overloaded operators. From a users point of view, Complex
               is used in a similar way as the built-in type Real.
               Example:
                      Real     a    = 2;
                      Complex  j    = Modelica.ComplexMath.j;
                      Complex  b    = 2 + 3*j;
                      Complex  c    = (2*b + a)/b;
                      Complex  d    = Modelica.ComplexMath.sin(c);
                      Complex  v[3] = {b/2, c, 2*d}; (This library was
                   developed by Marcus Baur, DLR).
               
               

  Modelica.Com Library of basic input/output control blocks with Complex
  plexBlocks   signals.
                   This library is especially useful in combination with
                   the new Modelica.Electrical.QuasiStationary library in
                   order to build up very fast simulations of electrical
                   circuits with periodic currents and voltages. (This
                   library was developed by Anton Haumer).
               
               

  Modelica.Ele Library for quasi-stationary electrical singlephase and
  ctrical.Quas multiphase AC simulation.
  iStationary      This library allows very fast simulations of electrical
                   circuits with sinusoidal currents and voltages by only
                   taking into account the quasi-stationary, periodic part
                   and neglecting non-periodic transients. (This library
                   was developed by Anton Haumer and Christian Kral, AIT).
               
               

  Modelica.Ele Library with components of the Berkeley SPICE3 simulator:
  ctrical.Spic     R, C, L, controlled and independent sources,
  e3               semiconductor device models (MOSFET Level 1, Bipolar
                   junction transistor, Diode, Semiconductor resistor).
                   The components have been intensively tested with more
                   than 1000 test models and compared with results from
                   the SPICE3 simulator. All test models give identical
                   results in Dymola 7.4 with respect to the Berkeley
                   SPICE3 simulator up to the relative tolerance of the
                   integrators. This library allows detailed simulations
                   of electronic circuits. Work on Level 2 SPICE3 models,
                   i.e., even more detailed models, is under way.
                   Furthermore, a pre-processor is under development to
                   transform automatically a SPICE netlist into a Modelica
                   model, in order that the many available SPICE3 models
                   can be directly used in a Modelica model. (This library
                   was developed by Fraunhofer Gesellschaft, Dresden).
               
               

  Modelica.Mag Library for magnetic fundamental wave effects in electric
  netic.Fundam machines for the application in three pase electric
  entalWave    machines. The library is an alternative approach to the
               Modelica.Electrical.Machines library. A great advantage of
               this library is the strict object orientation of the
               electrical and magnetic components that the electric
               machines models are composed of. This allows an easier
               incorporation of more detailed physical effects of
               electrical machines. From a didactic point of view this
               library is very beneficial for students in the field of
               electrical engineering.
                   (This library was developed by Christian Kral, AIT, and
                   Anton Haumer, using ideas and source code of a library
                   from Michael Beuschel from 2000).
               
               

  Modelica.Flu Library with functions to compute convective heat transfer
  id.Dissipati and pressure loss characteristics.
  on               (This library was developed by Thorben Vahlenkamp and
                   Stefan Wischhusen from XRG Simulation GmbH).
               
               

  Modelica.Com Library of complex mathematical functions (e.g., sin, cos)
  plexMath     and of functions operating on complex vectors.
                   (This library was developed by Marcus Baur from DLR-RM,
                   Anton Haumer, and HansJürg Wiesmann).
               
               
  ------------ -----------------------------------------------------------

  The following new components have been added to existing

libraries:

  --------- --------------------------------------------------------------
  Modelica. 
  UsersGuid 
  e         

  Conventio Considerably improved 'Conventions' for the Modelica Standard
  ns        Library.

  Modelica. 
  Blocks.Ex 
  amples    

  Filter    Examples for the newly introduced block components.
      Filte 
  rWithDiff 
  erentatio 
  n         
      Filte 
  rWithRise 
  Time      
      RealN 
  etwork1   
      Integ 
  erNetwork 
  1         
      Boole 
  anNetwork 
  1         
      Inter 
  action1   
            
            

  Modelica. 
  Blocks.Co 
  ntinuous  

  Filter    Continuous low pass, high pass, band pass and band stop
            IIR-filter of type CriticalDamping, Bessel, Butterworth and
            Chebyshev I.

  Modelica. 
  Blocks.In 
  teraction 
  .Show     

  RealValue Blocks to show the values of variables in a diagram animation.
      Integ 
  erValue   
      Boole 
  anValue   
            
            

  Modelica. 
  Blocks.In 
  terfaces  

  RealVecto Interfaces and partial blocks for the new block components.
  rInput    
      Integ 
  erVectorI 
  nput      
      Boole 
  anVectorI 
  nput      
      Parti 
  alRealMIS 
  O         
      Parti 
  alInteger 
  SISO      
      Parti 
  alInteger 
  MISO      
      Parti 
  alBoolean 
  SISO_smal 
  l         
      Parti 
  alBoolean 
  MISO      
            
            

  Modelica. 
  Blocks.Ma 
  th        

  MultiSum  Sum, product and switch blocks with 1,2,...,N inputs (based on
      Multi connectorSizing annotation to handle vectors of connectors in
  Product   a convenient way).
      Multi 
  Switch    
            
            

  Modelica. 
  Blocks.Ma 
  thInteger 

  MultiSwit Mathematical blocks for Integer signals.
  ch        
      Sum   
      Produ 
  ct        
      Trigg 
  eredAdd   
            
            

  Modelica. 
  Blocks.Bo 
  olean     

  MultiSwit Mathematical blocks for Boolean signals. Some of these blocks
  ch        are available also in library Logical. The new design is based
      And   on the connectorSizing annotation that allows the convenient
      Or    handling of an arbitrary number of input signals (e.g., the
      Xor   "And" block has 1,2,...,N inputs, instead of only 2 inputs in
      Nand  the Logical library). Additionally, the icons are smaller so
      Nor   that the diagram area is better utilized
      Not   
      Risin 
  gEdge     
      Falli 
  ngEdge    
      Chang 
  ingEdge   
      OnDel 
  ay        
            
            

  Modelica. 
  Blocks.So 
  urces     

  RadioButt Boolean signal source that mimics a radio button.
  onSource  

  IntegerTa Generate an Integer output signal based on a table matrix with
  ble       [time, yi] values.

  Modelica. 
  Electrica 
  l.Analog. 
  Examples  

  SimpleTri Examples for the newly introduced Analog components.
  acCircuit 
  ,         
      Ideal 
  TriacCirc 
  uit,      
      AD_DA 
  _conversi 
  on        
            
            

  Modelica. 
  Electrica 
  l.Analog. 
  Ideal     

  IdealTria AD and DA converter, ideal triac (based on ideal thyristor).
  c,        
      AD_Co 
  nverter,  
      DA_Co 
  nverter   
            
            

  Modelica. 
  Electrica 
  l.Analog. 
  Semicondu 
  ctors     

  SimpleTri Simple triac based on semiconductor thyristor model.
  ac        

  Modelica. 
  Electrica 
  l.Digital 
  .Examples 

  Delay_exa Examples for the newly introduced Digital components.
  mple,     
      DFFRE 
  G_example 
  ,         
      DFFRE 
  GL_exampl 
  e,        
      DFFRE 
  GSRH_exam 
  ple,      
      DFFRE 
  GSRL_exam 
  ple,      
      DLATR 
  EG_exampl 
  e,        
      DLATR 
  EGL_examp 
  le,       
      DLATR 
  EGSRH_exa 
  mple,     
      DLATR 
  EGSRL_exa 
  mple,     
      NXFER 
  _example, 
      NRXFE 
  R_example 
  ,         
      BUF3S 
  _example, 
      INV3S 
  _example, 
      Wired 
  X_example 
            
            

  Modelica. 
  Electrica 
  l.Digital 
  .Interfac 
  es        

  UX01,     Interfaces for the newly introduced Digital components.
      Stren 
  gth,      
      MIMO  
            
            

  Modelica. 
  Electrica 
  l.Digital 
  .Tables   

  Resolutio New Digital table components.
  nTable,   
      Stren 
  gthMap,   
      NXfer 
  Table,    
      NRXfe 
  rTable,   
      PXfer 
  Table,    
      PRXfe 
  rTable,   
      Buf3s 
  Table,    
      Buf3s 
  lTable    
            
            

  Modelica. 
  Electrica 
  l.Digital 
  .Delay    

  InertialD New Digital delay component.
  elaySensi 
  tiveVecto 
  r         

  Modelica. 
  Electrica 
  l.Digital 
  .Register 
  s         

  DFFR,     Various register components (collection of flipflops and
      DFFRE latches) according to the VHDL standard.
  G,        
      DFFRE 
  GL,       
      DFFSR 
  ,         
      DFFRE 
  GSRH,     
      DFFRE 
  GSRL,     
      DLATR 
  ,         
      DLATR 
  EG,       
      DLATR 
  EGL,      
      DLATS 
  R,        
      DLATR 
  EGSRH,    
      DLATR 
  EGSRL     
            
            

  Modelica. 
  Electrica 
  l.Digital 
  .Tristate 
  s         

  NXFERGATE Transfer gates, buffers, inverters and wired node.
  ,         
      NRXFE 
  RGATE,    
      PXFER 
  GATE,     
      PRXFE 
  RGATE,    
      BUF3S 
  ,         
      BUF3S 
  L,        
      INV3S 
  ,         
      INV3S 
  L,        
      Wired 
  X         
            
            

  Modelica. 
  Electrica 
  l.MultiPh 
  ase.Basic 

  MutualInd Multi phase inductor providing a mutual inductance matrix
  uctor     model.

  ZeroInduc Multi phase zero sequence inductor.
  tor       

  Modelica. 
  Electrica 
  l.Machine 
  s         

  Examples  Structured according to machine types:
                AsynchronousInductionMachines SynchronousInductionMachines
                DCMachines Transformers
            
            

  Losses.*  Parameter records and models for losses in electrical machines
            and transformers (where applicable):
                Friction losses Brush losses Stray Load losses Core losses
                (only eddy current losses but no hysteresis losses; not
                for transformers)
            
            

  Thermal.* Simple thermal ambients, to be connected to the thermal ports
            of machines,
                as well as material constants and utility functions.
            
            

  Icons.*   Icons for transient and quasistationary electrical machines
            and transformers.

  Modelica. 
  Electrica 
  l.Machine 
  s.Example 
  s.Asynchr 
  onousIndu 
  ctionMach 
  ines.     

  AIMC_with Asynchronous induction machine with squirrel cage with losses
  Losses    

  AIMC_Tran Asynchronous induction machine with squirrel cage -
  sformer   transformer starting

  AIMC_with Test example of an asynchronous induction machine with
  Losses    squirrel cage with losses

  Modelica. 
  Electrica 
  l.Machine 
  s.Example 
  s.Synchro 
  nousInduc 
  tionMachi 
  nes.      

  SMPM_Curr Permanent magnet synchronous induction machine fed by a
  entSource current source

  SMEE_Load Electrical excited synchronous induction machine with voltage
  Dump      controller

  Modelica. 
  Electrica 
  l.Machine 
  s.Example 
  s.DCMachi 
  nes.      

  DCSE_Sing Series excited DC machine, fed by sinusoidal voltage
  lePhase   

  DCPM_Temp Permanent magnet DC machine, demonstration of varying
  erature   tempoerature

  DCPM_Cool Permanent magnet DC machine, coupled with a simple thermal
  ing       model

  DCPM_Quas Permanent magnet DC machine, comparison between transient and
  iStationa quasistationary model
  ry        

  DCPM_Loss Permanent magnet DC machine, comparison between model with and
  es        without losses

  Modelica. 
  Electrica 
  l.Machine 
  s.BasicMa 
  chines.Qu 
  asiStatio 
  naryDCMac 
  hines.    

  DC_Perman QuasiStationary DC machines, i.e., neglecting electrical
  entMagnet transients
      DC_El 
  ectricalE 
  xcited    
      DC_Se 
  riesExcit 
  ed        
            
            

  Modelica. 
  Electrica 
  l.Machine 
  s.BasicMa 
  chines.Co 
  mponents. 

  InductorD Inductor model which neglects der(i) if Boolean parameter
  C         quasiStationary = true

  Modelica. 
  Electrica 
  l.Machine 
  s.Interfa 
  ces.      

  ThermalPo Thermal ports and power balances for electrical machines and
  rtTransfo transformers.
  rmer      
      Power 
  BalanceTr 
  ansformer 
            
            

  Modelica. 
  Electrica 
  l.Machine 
  s.Utiliti 
  es        

  SwitchedR Switched rheostat, used for starting asynchronous induction
  heostat   motors with slipring rotor.

  RampedRhe Ramped rheostat, used for starting asynchronous induction
  ostat     motors with slipring rotor.

  Synchrono The parameters of the synchronous machine model with
  usMachine electrical excitation (and damper) are calculated from
  Data      parameters normally given in a technical description,
            according to the standard EN 60034-4:2008 Appendix C.

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Example 
  s.Element 
  ary.      

  HeatLosse Demonstrate the modeling of heat losses.
  s         

  UserDefin Demonstrate the modeling of a user-defined gravity field.
  edGravity 
  Field     

  Surfaces  Demonstrate the visualization of a sine surface,
                as well as a torus and a wheel constucted from a surface.
            
            

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Joints. 

  FreeMotio Free motion joint that allows initialization and state
  nScalarIn selection
  it            of single elements of the relevant vectors (e.g.,
                initialize r_rel_a[2] but not the other elements of
                r_rel_a; this new component fixes ticket #274)
            
            

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Visuali 
  zers.     

  Torus     Visualizing a torus.

  Voluminou Visualizing a voluminous wheel.
  sWheel    

  PipeWithS Visualizing a pipe with scalar field quantities along the pipe
  calarFiel axis.
  d         

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Visuali 
  zers.Colo 
  rMaps.    

  jet       Functions returning different color maps.
      hot   
      gray  
      sprin 
  g         
      summe 
  r         
      autum 
  n         
      winte 
  r         
            
            

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Visuali 
  zers.Colo 
  rs.       

  colorMapT Save a color map on file in svg (scalable vector graphics)
  oSvg      format.

  scalarToC Map a scalar to a color using a color map.
  olor      

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Visuali 
  zers.Adva 
  nced.     

  Surface   Visualizing a moveable, parameterized surface;
                the surface characteristic is provided by a function (this
                new component fixes ticket #181)
            
            

  PipeWithS Visualizing a pipe with a scalar field.
  calarFiel 
  d         

  Modelica. 
  Mechanics 
  .MultiBod 
  y.Visuali 
  zers.Adva 
  nced.Surf 
  aceCharac 
  teristics 
  .         

  torus     Function defining the surface characteristic of a torus.

  pipeWithS Function defining the surface characteristic of a pipe
  calarFiel     where a scalar field value is displayed with color along
  d             the pipe axis.
            
            

  Modelica. 
  Mechanics 
  .Rotation 
  al.Exampl 
  es.       

  HeatLosse Demonstrate the modeling of heat losses.
  s         

  Modelica. 
  Mechanics 
  .Translat 
  ional.Exa 
  mples.    

  HeatLosse Demonstrate the modeling of heat losses.
  s         

  Modelica. 
  Fluid.Fit 
  tings.Ben 
  ds        

  CurvedBen New fitting (pressure loss) components.
  d         
      Edged 
  Bend      
            
            

  Modelica. 
  Fluid.Fit 
  tings.Ori 
  fices.    

  ThickEdge New fitting (pressure loss) component.
  dOrifice  

  Modelica. 
  Fluid.Fit 
  tings.Gen 
  ericResis 
  tances.   

  VolumeFlo New fitting (pressure loss) component.
  wRate     

  Modelica. 
  Math      

  isEqual   Determine if two Real scalars are numerically identical.

  Modelica. 
  Math.Vect 
  ors       

  find      Find element in vector.

  toString  Convert a real vector to a string.

  interpola Interpolate in a vector.
  te        

  relNodePo Return vector of relative node positions (0..1).
  sitions   

  Modelica. 
  Math.Vect 
  ors.Utili 
  ties      

  household Utility functions for vectors that are used by the newly
  erVector  introduced functions, but are only of interested for a
      house specialist.
  holderRef 
  lection   
      roots 
            
            

  Modelica. 
  Math.Matr 
  ices      

  continuou Return solution of continuous-time and discrete-time algebraic
  sRiccati  Riccati equation respectively.
      discr 
  eteRiccat 
  i         
            
            

  continuou Return solution of continuous-time and discrete-time Sylvester
  sSylveste equation respectively.
  r         
      discr 
  eteSylves 
  ter       
            
            

  continuou Return solution of continuous-time and discrete-time Lyapunonv
  sLyapunov equation respectively.
      discr 
  eteLyapun 
  ov        
            
            

  trace     Return the trace of a matrix.

  condition Compute the condition number of a matrix.
  Number    

  rcond     Estimate the reciprocal condition number of a matrix.

  nullSpace Return a orthonormal basis for the null space of a matrix.

  toString  Convert a matrix into its string representation.

  flipLeftR Flip the columns of a matrix in left/right direction.
  ight      

  flipUpDow Flip the rows of a matrix in up/down direction.
  n         

  cholesky  Perform Cholesky factorization of a real symmetric positive
            definite matrix.

  hessenber Transform a matrix to upper Hessenberg form.
  g         

  realSchur Computes the real Schur form of a matrix.

  frobenius Return the Frobenius norm of a matrix.
  Norm      

  Modelica. 
  Math.Matr 
  ices.LAPA 
  CK.       

  dtrevc    New interface functions for LAPACK (should usually not
      dpotr directly be used but only indirectly via
  f         Modelica.Math.Matrices).
      dtrsm 
      dgees 
      dtrse 
  n         
      dgesv 
  x         
      dhseq 
  r         
      dlang 
  e         
      dgeco 
  n         
      dgehr 
  d         
      dgeqr 
  f         
      dggev 
  x         
      dgesd 
  d         
      dggev 
      dggev 
  x         
      dhgeq 
  z         
      dormh 
  r         
      dormq 
  r         
      dorgh 
  r         
            
            

  Modelica. 
  Math.Matr 
  ices.Util 
  ities.    

  reorderRS Utility functions for matrices that are used by the newly
  F         introduced functions, but are only of interested for a
      conti specialist.
  nuousRicc 
  atiIterat 
  ive       
      discr 
  eteRiccat 
  iIterativ 
  e         
      eigen 
  valuesHes 
  senberg   
      toUpp 
  erHessenb 
  erg       
      house 
  holderRef 
  lection   
      house 
  holderSim 
  ilarityTr 
  ansformat 
  ion       
      findL 
  okal_tk   
            
            

  Modelica. 
  Math.Nonl 
  inear     

  quadratur Return the integral of an integrand function using an adaptive
  eLobatto  Lobatto rule.

  solveOneN Solve f(u) = 0 in a very reliable and efficient way (f(u_min)
  onlinearE and f(u_max) must have different signs).
  quation   

  Modelica. 
  Math.Nonl 
  inear.Exa 
  mples.    

  quadratur Examples that demonstrate the usage of the
  eLobatto1 Modelica.Math.Nonlinear functions to integrate over functions
      quadr and to solve scalar nonlinear equations.
  atureLoba 
  tto2      
      solve 
  Nonlinear 
  Equations 
  1         
      solve 
  Nonlinear 
  Equations 
  2         
            
            

  Modelica. 
  Math.Bool 
  eanVector 
  s.        

  allTrue   Returns true, if all elements of the Boolean input vector are
            true.

  anyTrue   Returns true, if at least on element of the Boolean input
            vector is true.

  oneTrue   Returns true, if exactly one element of the Boolean input
            vector is true.

  firstTrue Returns the index of the first element of the Boolean vector
  Index     that is true and returns 0, if no element is true

  Modelica. 
  Icons.    

  Informati New icons to get a unified view on different categories of
  on        packages.
      Conta 
  ct        
      Relea 
  seNotes   
      Refer 
  ences     
      Examp 
  lesPackag 
  e         
      Examp 
  le        
      Packa 
  ge        
      Bases 
  Package   
      Varia 
  ntsPackag 
  e         
      Inter 
  facesPack 
  age       
      Sourc 
  esPackage 
      Senso 
  rsPackage 
      Mater 
  ialProper 
  tiesPacka 
  ge        
      Mater 
  ialProper 
  ty        
            
            

  Modelica. 
  SIunits.  

  ComplexCu SIunits to be used in physical models using complex variables,
  rrent     e.g.,
      Compl     Modelica.Electrical.QuasiStationary,
  exCurrent     Modelica.Magnetic.FundamentalWave
  Slope     
      Compl 
  exCurrent 
  Density   
      Compl 
  exElectri 
  cPotentia 
  l         
      Compl 
  exPotenti 
  alDiffere 
  nce       
      Compl 
  exVoltage 
      Compl 
  exVoltage 
  Slope     
      Compl 
  exElectri 
  cFieldStr 
  ength     
      Compl 
  exElectri 
  cFluxDens 
  ity       
      Compl 
  exElectri 
  cFlux     
      Compl 
  exMagneti 
  cFieldStr 
  ength     
      Compl 
  exMagneti 
  cPotentia 
  l         
      Compl 
  exMagneti 
  cPotentia 
  lDifferen 
  ce        
      Compl 
  exMagneto 
  motiveFor 
  ce        
      Compl 
  exMagneti 
  cFluxDens 
  ity       
      Compl 
  exMagneti 
  cFlux     
      Compl 
  exRelucta 
  nce       
      Compl 
  exImpedan 
  ce        
      Compl 
  exAdmitta 
  nce       
      Compl 
  exPower   
            
            

  ImpulseFl New SIunits for mechanics.
  owRate    
      Angul 
  arImpulse 
  FlowRate  
            
            
  --------- --------------------------------------------------------------

  The following existing components have been improved in a

backward compatible way:

  ----- ------------------------------------------------------------------
  Model 
  ica.B 
  locks 
  .Sour 
  ces.  

  Pulse New parameter "nperiod" introduced to define the number of periods
      S for the signal type. Default is "infinite number of periods
  awToo (nperiods=-1).
  th    
        
        

  Model 
  ica.E 
  lectr 
  ical. 

  Multi All dissipative components have now an optional heatPort connector
  Phase to which the dissipated losses are transported in form of heat.
  .*    

  Machi To all electric machines (asynchronous and synchronous induction
  nes.* machines, DC machines) and transformers loss models have been
        added (where applicable):
            Temperature dependent resistances (ohmic losses) Friction
            losses Brush losses Stray Load losses Core losses (only eddy
            current losses but no hysteresis losses; not for transformers)
            As default, temperature dependcy and losses are set to zero.
            To all electric machines (asynchronous and synchronous
            induction machines, DC machines) and transformers conditional
            thermal ports have been added, to which the dissipated losses
            are flowing, if activated. The thermal port contains a
            HeatPort for each loss source of the specific machine type. To
            all electric machines (asynchronous and synchronous induction
            machines, DC machines) a "powerBalance" result record has been
            added, summarizing converted power and losses.
        
        

  Model 
  ica.M 
  echan 
  ics.  

  Multi All dissipative components in Modelica.Mechanics have now an
  Body. optional heatPort connector to which the dissipated energy is
  *     transported in form of heat.
      R     All icons in Modelica.Mechanics are unified according to the
  otati     Modelica.Blocks library: "%name": width: -150 .. 150, height:
  onal.     40, color: blue other text: height: 30, color: black
  *     
      T 
  ransl 
  ation 
  al.*  
        
        

  Model 
  ica.M 
  echan 
  ics.M 
  ultiB 
  ody.  

  World Function gravityAcceleration is made replaceable, so that
        redeclaration yields user-defined gravity fields.

  Model 
  ica.F 
  luid. 
  Valve 
  s.    

  Valve (a) Optional filtering of opening signal introduced to model the
  Incom     delay time of the opening/closing drive. In this case, an
  press     optional leackageOpening can be defined to model leackage flow
  ible      and/or to improve the numerics in certain situations. (b)
      V     Improved regularization of the valve characteristics in some
  alveV     cases so that it is twice differentiable (smooth=2), instead
  apori     of continuous (smooth=0).
  zing  
      V 
  alveC 
  ompre 
  ssibl 
  e     
        
        

  Model 
  ica.F 
  luid. 
  Sourc 
  es.   

  Fixed Changed the implementation so that no non-linear algebraic
  Bound equation system occurs, if the given variables (e.g. p,T,X) do not
  ary   correspond to the medium states (e.g. p,h,X). This is achieved by
      B using appropriate "setState_xxx" calls to compute the medium state
  ounda from the given variables. If a nonlinear equation system occurs,
  ry_pT it is solved by a specialized handler inside the setState_xxx(..)
      B function, but in the model this equation system is not visible.
  ounda 
  ry_ph 
        
        

  Model 
  ica.M 
  edia. 
  Inter 
  faces 
  .     

  Parti The min/max values of types SpecificEnthaly, SpecificEntropy,
  alMed SpecificHeatCapacity increased, due to reported user problems.
  ium       New constant C_nominal introduced to provide nominal values
            for trace substances (utilized in Modelica.Fluid to avoid
            numerical problems; this fixes ticket #393).
        
        

  Model 
  ica.T 
  herma 
  l.    

  HeatT All icons are unified according to the Modelica.Blocks library:
  ransf     "%name": width: -150 .. 150, height: 40, color: blue other
  er.*      text: height: 30, color: black
        
        

  Model 
  ica.M 
  ath.M 
  atric 
  es    

  QR    A Boolean input "pivoting" has been added (now QR(A, pivoting)) to
        provide QR-decomposition without pivoting (QR(A, false)). Default
        is pivoting=true.
  ----- ------------------------------------------------------------------

  The following critical errors have been fixed (i.e., errors that

can lead to wrong simulation results):

  ---------- -------------------------------------------------------------
  Modelica.E 
  lectrical. 
  Digital.De 
  lay.       

  InertialDe In order to decide whether the rising delay (tLH) or the
  laySensiti falling delay (tHL) is used, the "previous" value of the
  ve         output y has to be used and not the "previous" value of the
             input x (delayType = delayTable[y_old, x] and not delayType =
             delayTable[x_old, x]). This has been corrected.

  Modelica.M 
  echanics.M 
  ultiBody.P 
  arts.      

  BodyBox    Fixes ticket #373: The "Center of Mass" was calculated as
      BodyCy normalize(r)*length/2. This is only correct if the
  linder     box/cylinder is attached between frame_a and frame_b. If this
             is not the case, the calculation is wrong. The has been fixed
             by using the correct formula:
                 r_shape + normalize(lengthDirection)*length/2
             
             

  BodyShape  Fixes ticket #300: If parameter enforceStates=true, an error
      BodyBo occured. This has been fixed.
  x          
      BodyCy 
  linder     
             
             

  Modelica.M 
  echanics.R 
  otational. 
  Components 
  .          

  LossyGear  In cases where the driving flange is not obvious, the
             component could lead to a non-convergent event iteration.
             This has been fixed (a detailed description is provided in
             ticket #108 and in the attachment of this ticket).

  Gearbox    If useSupport=false, the support flange of the internal
             LossyGear model was connected to the (disabled) support
             connector. As a result, the LossyGear was "free floating".
             This has been corrected.

  Modelica.F 
  luid.Pipes 
  .          

  DynamicPip Bug fix for dynamic mass, energy and momentum balances for
  e          pipes with nParallel>1.

  Modelica.F 
  luid.Pipes 
  .BaseClass 
  es.HeatTra 
  nsfer.     

  PartialPip Calculation of Reynolds numbers for the heat transfer through
  eFlowHeatT walls corrected, if nParallel>1. This partial model is used
  ransfer    by LocalPipeFlowHeatTransfer for laminar and turbulent forced
             convection in pipes.

  Modelica.M 
  edia.Inter 
  faces.Part 
  ialLinearF 
  luid       

  setState_p Sign error fixed.
  sX         

  Modelica.M 
  edia.Compr 
  essibleLiq 
  uids.      

  LinearCold Fixed wrong values for thermal conductivity and viscosity.
  Water      
  ---------- -------------------------------------------------------------

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  ------------ -----------------------------------------------------------
  Modelica.Mat 
  h.Matrices.L 
  APACK        

  dgesv_vec    Integer inputs to specify leading dimensions of matrices
      dgesv    have got a lower bound 1 (e.g., lda=max(1,n)) to avoid
      dgetrs   incorrect values (e.g., lda=0) in the case of empty
      dgetrf   matrices.
      dgetrs_v     The Integer variable "info" to indicate the successful
  ec               call of a LAPACK routine has been converted to an
      dgetri       output where it had been a protected variable.
      dgeqpf   
      dorgqr   
      dgesvx   
      dtrsyl   
               
               
  ------------ -----------------------------------------------------------

  The following trac tickets have

been fixed:

  -------------------------- ---------------------------------------------
  Modelica                   

  #155                       Wrong usage of "fillColor" and "fillPattern"
                             annotations for lines

  #211                       Undefined function realString used in MSL

  #216                       Make MSL version 3.2 more Modelica 3.1
                             conform

  #218                       Replace `Modelica://`-URIs by
                             `modelica://`-URIs

  #271                       Documentation URI errors in MSL 3.1

  #292                       Remove empty "Diagram(graphics)" annotations"

  #294                       Typo 'w.r.t' --> 'w.r.t.'

  #296                       Unify disclaimer message and improve bad
                             style "here" links

  #333                       Fix real number formats of the form `.[0-9]+`

  #347                       invalid URI in MSL 3.2

  #355                       Non-standard annotations

  Modelica.Blocks            

  #227                       Enhance unit deduction functionality by
                             adding 'unit="1"' to some blocks"

  #349                       Incorrect annotation in Blocks/Continuous.mo

  #374                       Parameter with no value at all in
                             Modelica.Blocks.Continuous.TransferFunction

  Modelica.Constants         

  #356                       Add Euler-Mascheroni constant to
                             Modelica.Constants

  Modelica.Electrical.Analog 

  #346                       Multiple text in
                             Modelica.Electrical.Analog.Basic.Conductor

  #363                       Mixture of Real and Integer in index
                             expressions in
                             Modelica.Electrical.Analog.Lines

  #384                       Incomplete annotations in some examples

  #396                       Bug in
                             Modelica.Electrical.Analog.Ideal.ControlledId
                             ealIntermediateSwitch

  Modelica.Machines          

  #276                       Improve/fix documentation of
                             Modelica.Electrical.Machines

  #288                       Describe thermal concept of machines

  #301                       Documentation of Electrical.Machines.Examples
                             needs update

  #306                       Merge content of
                             `Modelica.Electrical.Machines.Icons` into
                             `Modelica.Icons`

  #362                       Incomplete example model for DC machines

  #375                       Strangeness with final parameters with no
                             value but a start value

  Modelica.Electrical.MultiP 
  hase                       

  #173                       m-phase mutual inductor

  #200                       adjust Multiphase to Analog

  #277                       Improve/fix documentation of
                             Modelica.Electrical.Multiphase

  #352                       Odd annotation in
                             Modelica.Electrical.MultiPhase.Sources.Signal
                             Voltage

  Modelica.Fluid             

  #215                       Bug in Modelica.Fluid.Pipes.DynamicPipe

  #219                       Fluid.Examples.HeatExchanger: Heat transfer
                             is switched off and cannot be enabled

  Modelica.Math              

  #348                       Small error in documentation

  #371                       Modelica.Math functions declared as "C" not
                             "builtin""

  Modelica.Mechanics.MultiBo 
  dy                         

  #50                        Error in LineForce handling of potential root

  #71                        Make MultiBody.World replaceable

  #181                       3d surface visualisation

  #210                       Description of internal gear wheel missing

  #242                       Missing each qualifier for modifiers in
                             MultiBody.

  #251                       Using enforceStates=true for BodyShape causes
                             errors

  #255                       Error in Revolute's handling of
                             non-normalized axis of rotations

  #268                       Non-standard annotation in
                             MultiBody,Examples.Systems.RobotR3

  #269                       What is the purpose of
                             MultiBody.Examples.Systems.RobotR3.Components
                             .InternalConnectors?

  #272                       Function World.gravityAcceleration should not
                             be protected

  #274                       Convenient and mighty initialization of frame
                             kinematics

  #286                       Typo in Multibody/Frames.mo

  #300                       enforceStates parameter managed incorrectly
                             in BodyShape, BodyBox, BodyCylinder

  #320                       Replace non-standard annotation by
                             `showStartAttribute`

  #373                       Error in Modelica Mechanics

  #389                       Shape.rxvisobj wrongly referenced in
                             Arrow/DoubleArrow

  Modelica.Mechanics.Rotatio 
  nal                        

  #108                       Problem with model "Lossy Gear" and approach
                             to a solution

  #278                       Improve/fix documentation of
                             Modelica.Mechanics.Rotational

  #381                       Bug in Modelica.Mechanics.Rotational.Gearbox

  Modelica.Mechanics.Transla 
  tional                     

  #279                       Improve/fix documentation of
                             Modelica.Mechanics.Translational

  #310                       Erroneous image links in
                             `Modelica.Mechanics.Translational`

  Modelica.Media             

  #72                        PartialMedium functions not provided for all
                             media in Modelica.Media

  #217                       Missing image file Air.png

  #224                       dpT calculation in waterBaseProp_dT

  #393                       Provide C_nominal in Modelica.Media to allow
                             propagating value and avoid wrong numerical
                             results

  Modelica.StateGraph        

  #206                       Syntax error in StateGraph.mo

  #261                       Modelica.StateGraph should mention the
                             availability of Modelica_StateGraph2

  #354                       Bad annotation in
                             Modelica.StateGraph.Temporary.NumericValue

  Modelica.Thermal.FluidHeat 
  Flow                       

  #280                       Improve/fix documentation of
                             Modelica.Thermal.FluidHeatFlow

  Modelica.Thermal.HeatTrans 
  fer                        

  #281                       Improve/fix documentation of
                             Modelica.Thermal.HeatTransfer

  Modelica.UsersGuide        

  #198                       Name of components in MSL not according to
                             naming conventions

  #204                       Minor correction to User's Guide's section on
                             version management

  #244                       Update the contacts section of the User's
                             Guide

  #267                       MSL-Documentation: Shouldn't equations be
                             numbered on the right hand side?

  #299                       SVN keyword expansion messed up the User's
                             guide section on version manangement

  Modelica.Utilities         

  #249                       Documentation error in ModelicaUtilities.h

  ModelicaServices           

  #248                       No uses statement on ModelicaServices in MSL
                             3.1
  -------------------------- ---------------------------------------------

Note:

-   Libraries Modelica_FundamentalWave and Modelica_QuasiStationary are
    included in this version in an improved form.
-   From library Modelica_LinearSystems2, the sublibraries Math.Complex,
    Math.Vectors and Math.Matrices are included in this version in an
    improved form.
-   From library Modelica_StateGraph2, the sublibrary Blocks is included
    in this version in an improved form.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image30] Modelica.UsersGuide.ReleaseNotes.Version_3_1
======================================================

::

Version 3.1 is backward compatible to version 3.0 and 3.0.1, i.e.,
models developed with version 3.0 or 3.0.1 will work without any changes
also with version 3.1.

Version 3.1 is slightly based on the Modelica Specification 3.1. It uses
the following new language elements (compared to Modelica Specification
3.0):

-   Prefix stream and built-in operators inStream(..) and
    actualStream(..) in Modelica.Fluid.
-   Annotation connectorSizing in Modelica.Fluid.
-   Annotation inverse in Modelica.Media.
-   Annotations versionBuild, dateModified, revisionId at the root level
    annotation of package Modelica, to improve the version handling.
-   Modifiers can be used in connectors instances (so balanced models
    are less restrictive). This allowed to make the implementation of
    conditional connectors (support and heatPort) in the Rotational,
    Translational and Electrical libraries simpler.
-   
-   

The following new libraries have been added:

Modelica.Fluid

Components to model 1-dim. thermo-fluid flow in networks of vessels,
pipes, fluid machines, valves and fittings. All media from the
Modelica.Media library can be used (so incompressible or compressible,
single or multiple substance, one or two phase medium). The library is
using the stream-concept from Modelica Specification 3.1.

Modelica.Magnetic.FluxTubes

Components to model magnetic devices based on the magnetic flux tubes
concepts. Especially to model electro-magnetic actuators. Nonlinear
shape, force, leackage, and Material models. Material data for steel,
electric sheet, pure iron, Cobalt iron, Nickel iron, NdFeB, Sm2Co17, and
more.

ModelicaServices

New top level package that shall contain functions and models to be used
in the Modelica Standard Library that requires a tool specific
implementation. ModelicaServices is then used in the Modelica package.
In this first version, the 3-dim. animation with model
Modelica.Mechanics.MultiBody.Visualizers.Advanced.Shape was moved to
ModelicaServices. Tool vendors can now provide their own implementation
of the animation.

  The following new components have been added to existing

libraries:

  --------------- --------------------------------------------------------
  Modelica.       

  versionBuild    New annotations from Modelica 3.1 for version handling
  versionDate     added.
  dateModified    
  revisionId      

  Modelica.UsersG 
  uide.ReleaseNot 
  es.             

  VersionManageme Copied from info layer of previous ReleaseNotes (to make
  nt              it more visible) and adapted it to the new possibilities
                  in Modelica Specification 3.1.

  Modelica.Blocks 
  .Math.          

  RectangularToPo New blocks to convert between rectangular and polar form
  lar             of space phasors.
      PolarToRect 
  angular         
                  
                  

  Modelica.Blocks 
  .Routing.       

  Replicator      New block to replicate an input signal to many output
                  signals.

  Modelica.Electr 
  ical.Analog.Exa 
  mples.          

  AmplifierWithOp New examples to demonstrate the usage of new components.
  AmpDetailed     
      HeatingResi 
  stor            
      CompareTran 
  sformers        
      Overvoltage 
  Protection      
      ControlledS 
  witchWithArc    
      SwitchWithA 
  rc              
      ThyristorBe 
  haviourTest     
                  
                  

  Modelica.Electr 
  ical.Analog.Bas 
  ic.             

  OpAmpDetailed   New detailed model of an operational amplifier.
      Translation     New electromotoric force from electrical energy into
  alEMF               mechanical translattional energy. Generic
      M_Transform     transformer with choosable number of inductors
  er              
                  
                  

  Modelica.Electr 
  ical.Analog.Ide 
  al.             

  OpenerWithArc   New switches with simple arc model.
      CloserWithA 
  rc              
      ControlledO 
  penerWithArc    
      ControlledC 
  loserWithArc    
                  
                  

  Modelica.Electr 
  ical.Analog.Int 
  erfaces.        

  ConditionalHeat New partial model to add a conditional HeatPort to an
  Port            electrical component.

  Modelica.Electr 
  ical.Analog.Lin 
  es.             

  M_Oline         New multiple line model, both the number of lines and
                  the number of segmants choosable.

  Modelica.Electr 
  ical.Analog.Sem 
  iconductors.    

  ZDiode          Zener Diode with 3 working areas and simple thyristor
  Thyristor       model.

  Modelica.Electr 
  ical.MultiPhase 
  .Ideal.         

  OpenerWithArc   New switches with simple arc model (as in
  CloserWithArc   Modelica.Electrical.Analog.Ideal.

  Modelica.Mechan 
  ics.MultiBody.E 
  xamples.Element 
  ary.            

  RollingWheel    New examples to demonstrate the usage of new components.
      RollingWhee 
  lSetDriving     
      RollingWhee 
  lSetPulling     
                  
                  

  Modelica.Mechan 
  ics.MultiBody.J 
  oints.          

  RollingWheel    New joints (no mass, no inertia) that describe an ideal
      RollingWhee rolling wheel and a ideal rolling wheel set consisting
  lSet            of two wheels rolling on the plane z=0.
                  
                  

  Modelica.Mechan 
  ics.MultiBody.P 
  arts.           

  RollingWheel    New ideal rolling wheel and ideal rolling wheel set
      RollingWhee consisting of two wheels rolling on the plane z=0.
  lSet            
                  
                  

  Modelica.Mechan 
  ics.MultiBody.V 
  isualizers.     

  Ground          New model to visualize the ground (box at z=0).

  Modelica.Mechan 
  ics.Rotational. 
  Interfaces.     

  PartialElementa New partial model with one and two flanges and the
  ryOneFlangeAndS support flange with a much simpler implementation as
  upport2         previously.
      PartialElem 
  entaryTwoFlange 
  sAndSupport2    
                  
                  

  Modelica.Mechan 
  ics.Translation 
  al.Interfaces.  

  PartialElementa New partial model with one and two flanges and the
  ryOneFlangeAndS support flange with a much simpler implementation as
  upport2         previously.
      PartialElem 
  entaryTwoFlange 
  sAndSupport2    
                  
                  

  Modelica.Media. 
  IdealGases.Comm 
  on.MixtureGasNa 
  sa.             

  setSmoothState  Return thermodynamic state so that it smoothly
                  approximates: if x > 0 then state_a else state_b.

  Modelica.Utilit 
  ies.Internal.   

  PartialModelica New package containing the interface description of
  Services        models and functions that require a tool dependent
                  implementation (currently only "Shape" for 3-dim.
                  animation, but will be extended in the future)

  Modelica.Therma 
  l.HeatTransfer. 
  Components.     

  ThermalCollecto New auxiliary model to collect the heat flows from m
  r               heatports to a single heatport; useful for multiphase
                  resistors (with heatports) as a junction of the m
                  heatports.

  Modelica.Icons. 

  VariantLibrary  New icons (VariantLibrary and BaseClassLibrary have been
      BaseClassLi moved from Modelica_Fluid.Icons to this place).
  brary           
      ObsoleteMod 
  el              
                  
                  

  Modelica.SIunit 
  s.              

  ElectricalForce New type added (#190).
  Constant        

  Modelica.SIunit 
  s.Conversions.  

  from_Hz         New functions to convert between frequency [Hz] and
      to_Hz       angular velocity [1/s]. (#156)
                  
                  
  --------------- --------------------------------------------------------

  The following existing components have been improved in a

backward compatible way:

  ------------------- ----------------------------------------------------
  Modelica.           

  Blocks Mechanics    Provided missing parameter values for examples
  StateGraph          (these parameters had only start values)

  Modelica.Electrical 
  .Analog.Basic       

  Resistor,           Conditional heatport added for coupling to thermal
  Conductor,          network.
  VariableResistor,   
  VariableConductor   

  Modelica.Electrical 
  .Analog.Ideal       

  Thyristors,         Conditional heatport added for coupling to thermal
  Switches,           network.
  IdealDiode          

  Modelica.Electrical 
  .Analog.Semiconduct 
  ors                 

  Diode, ZDiode,      Conditional heatport added for coupling to thermal
  PMOS, NMOS, NPN,    network.
  PNP                 

  Modelica.Electrical 
  .MultiPhase.Basic   

  Resistor,           Conditional heatport added for coupling to thermal
  Conductor,          network (as in Modelica.Electrical.Analog).
  VariableResistor,   
  VariableConductor   

  Modelica.Electrical 
  .MultiPhase.Ideal   

  Thyristors,         Conditional heatport added for coupling to thermal
  Switches,           network (as in Modelica.Electrical.Analog).
  IdealDiode          

  Modelica.Mechanics. 
  MultiBody.Visualize 
  rs.Advanced.        

  Shape               New implementation by inheriting from
                      ModelicaServices. This allows a tool vendor to
                      provide its own implementation of Shape.

  Modelica.StateGraph 
  .                   

  Examples            Introduced "StateGraphRoot" on the top level of all
                      example models.

  Modelica.StateGraph 
  .Interfaces.        

  StateGraphRoot      Replaced the wrong Modelica code "flow output Real
  PartialCompositeSte xxx" by "Real dummy; flow Real xxx;". As a side
  p                   effect, several "blocks" had to be changed to
  CompositeStepState  "models".

  PartialStep         Changed model by packing the protected outer
                      connecter in to a model. Otherwise, there might be
                      differences in the sign of the flow variable in
                      Modelica 3.0 and 3.1.

  Modelica.Utilities. 
  Examples.           

  expression          Changed local variable "operator" to "opString"
                      since "operator" is a reserved keyword in Modelica
                      3.1
  ------------------- ----------------------------------------------------

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  --------- --------------------------------------------------------------
  Modelica. 

  Many      Removed wrong usages of annotations fillColor and fillPattern
  models    in text annotations (#155, #185).

  Modelica. 
  Electrica 
  l.Machine 
  s         

  All       The conditional heatports of the instantiated resistors (which
  machine   are new in Modelica.Electrical.Analog and
  models    Modelica.Electrical.MultiPhase) are finally switched off until
            a thermal connector design for machines is implemented.

  Modelica. 
  Media.Air 
  .MoistAir 

  saturatio For these three functions, an error in the derivative
  nPressure annotation was corrected. However, the effect of this bug was
  Liquid    minor, as a Modelica tool was allowed to compute derivatives
      subli automatically via the smoothOrder annotation.
  mationPre 
  ssureIce  
      satur 
  ationPres 
  sure      
            
            

  Modelica. 
  Math.Matr 
  ices.     

  eigenValu Wrong documentation corrected (#162)
  es        
  --------- --------------------------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image31] Modelica.UsersGuide.ReleaseNotes.Version_3_0_1
========================================================

::

This Modelica package is provided under the Modelica License 2 and no
longer under Modelica License 1.1. There are the following reasons why
the Modelica Association changes from Modelica License 1.1 to this new
license text (note, the text below is not a legal interpretation of the
Modelica License 2. In case of a conflict, the language of the license
shall prevail):

1.  The rights of licensor and licensee are much more clearly defined.
    For example:

    -   The licensed work (Original Work) can be used in unmodified form
        in open source and commercial software (the licensee cannot
        change the license and the work must be provided without fees)
    -   If a model component is copied out of a Modelica package under
        Modelica License 2 and is modified in order to adapt it to the
        needs of the modeler, then the result can be licensed under any
        license (including a commercial license).
    -   It is practically not possible to change the license of a
        Modelica package under Modelica License 2 to another license,
        i.e., a licensee cannot change the license by adding material or
        changing classes, so the work must remain under Modelica License
        2 (to be more precise, if the licensee makes modifications to
        the Original Work "which represents, as a whole, an original
        work of authorship", he/she can change the license to another
        license. However, for a Modelica package this would require a
        lot of changes which is usually unrealistic).
    -   If an executable is constructed using a Modelica package under
        Modelica License 2, then this executable can be licensed under
        any license (including a commercial license).

    We hope that this compromise between open source contributors,
    commercial Modelica environments and Modelica users will motivate
    even more people to provide their Modelica packages freely under the
    Modelica License 2.
2.  There are several new provisions that shall make law suites against
    licensors and licensees more unlikely (so the small risk is further
    reduced).

  The following new components have been added to existing

libraries:

  ------------ -----------------------------------------------------------
  Electrical.A 
  nalog.Basic. 

  M_Transforme Transformer, with the possibility to choose the number of
  r            inductors. The inductances and the coupled inductances can
               be chosen arbitrarily.

  Electrical.A 
  nalog.Lines. 

  M_OLine      Segmented line model that enables the use of multiple
               lines, that means, the number of segments and the number of
               single lines can be chosen by the user. The model allows to
               investigate phenomena at multiple lines like mutual
               magnetic or capacitive influence.

  Mechanics.Tr 
  anslational. 
  Components.E 
  xamples.     

  Brake        Demonstrates the usage of the translational brake
               component.

  Media.Interf 
  aces.Partial 
  Medium.      

  ThermoStates Enumeration type for independent variables to identify the
               independent variables of the medium (pT, ph, phX, pTX,
               dTX).
                   An implementation of this enumeration is provided for
                   every medium. (This is useful for fluid libraries that
                   do not use the PartialMedium.BaseProperties model).
               
               

  setSmoothSta Function that returns the thermodynamic state which
  te           smoothly approximates: if x > 0 then state_a else state_b.
                   (This is useful for pressure drop components in fluid
                   libraries where the upstream density and/or viscosity
                   has to be computed and these properties should be
                   smooth a zero mass flow rate) An implementation of this
                   function is provided for every medium.
               
               

  Media.Common 
  .            

  smoothStep   Approximation of a general step, such that the
               characteristic is continuous and differentiable.

  Media.UsersG 
  uide.        

  Future       Short description of goals and changes of upcoming release
               of Modelica.Media.

  Media.Media. 
  Air.MoistAir 
  .            

  isentropicEx Implemented Missing Function from interface.
  ponent       

  isentropicEn Implemented function that approximates the isentropic
  thalpyApprox enthalpy change. This is only correct as long as there is
  imation      no liquid in the stream.
  ------------ -----------------------------------------------------------

  The following existing components have been changed (in a

backward compatible way):

  ------------------------ ------------------------------------------------
  Mechanics.Rotational.Int 
  erfaces.                 

  PartialFriction          Improvement of friction model so that in certain
                           situations the number of iterations is much
                           smaller.

  Mechanics.Translational. 
  Components.Examples.     

  Friction                 Added a third variant, where friction is
                           modelled with the SupportFriction component.

  Mechanics.Translational. 
  Components.              

  MassWithStopAndFriction  Improvement of friction model so that in certain
                           situations the number of iterations is much
                           smaller.

  Mechanics.Translational. 
  Interfaces.              

  PartialFriction          Improvement of friction model so that in certain
                           situations the number of iterations is much
                           smaller.

  Media.Examples.          

  SimpleLiquidWater        Added equations to test the new
      IdealGasH20          setSmoothState(..) functions including the
      WaterIF97            analytic derivatives of these functions.
      MixtureGases         
      MoistAir             
                           
                           

  Media.Interfaces.Partial 
  LinearFluid.             

  setState_pTX             Rewritten function in one statement so that it
      setState_phX         is usually inlined.
      setState_psX         
      setState_dTX         
                           
                           

  Media.Interfaces.Partial 
  LinearFluid.             

  consistent use of        Change was done to achieve consistency with
  reference_d instead of   analytic inverse functions.
  density(state            

  Media.Air.MoistAir.      

  T_phX                    Interval of nonlinear solver to compute T from
                           p,h,X changed from 200..6000 to 240 ..400 K.
  ------------------------ ------------------------------------------------

  The following critical errors have been fixed (i.e., errors that

can lead to wrong simulation results):

  ----- ------------------------------------------------------------------
  Mecha 
  nics. 
  Multi 
  Body. 
  Force 
  s     

  World Parameter "ResolveInFrame" was not propagated and therefore always
  Torqu the default (resolved in world frame) was used, independently of
  e     the setting of this parameter.

  World Parameter "ResolveInFrame" was not propagated and therefore always
  Force the default (resolved in world frame) was used, independently of
  AndTo the setting of this parameter.
  rque      Furthermore, internally WorldTorque was used instead of
            Internal.BasicWorldTorque and therefore the visualization of
            worldTorque was performed twice.
        
        

  Mecha 
  nics. 
  Multi 
  Body. 
  Senso 
  rs    

  Absol Velocity, acceleration and angular acceleration were computed by
  uteSe differentiating in the resolveInFrame frame. This has been
  nsor  corrected, by first transforming the vectors in to the world
        frame, differentiating here and then transforming into
        resolveInFrame. The parameter in the Advanced menue
        resolveInFrameAfterDifferentiation is then superfluous and was
        removed .

  Absol The velocity was computed by differentiating in the resolveInFrame
  uteVe frame. This has been corrected, by first transforming the velocity
  locit in to the world frame, differentiating here and then transforming
  y     into resolveInFrame

  Relat If resolveInFrame <> frame_resolve and
  iveSe resolveInFrameAfterDifferentiation = frame_resolve, a translation
  nsor  error occured, since frame_resolve was not enabled in this
        situation. This has been corrected.

  Relat The velocity has have been computed by differentiating in the
  iveVe resolveInFrame frame. This has been corrected, by first
  locit transforming the relative position in to frame_a, differentiating
  y     here and then transforming into resolveInFrame

  Trans The transformation was wrong, since the parameters frame_r_in and
  formR frame_r_out have not been propagated to the submodel that performs
  elati the transformation. This has been corrected.
  veVec 
  tor   

  Mecha 
  nics. 
  Trans 
  latio 
  nal.C 
  ompon 
  ents. 

  Suppo The sign of the friction force was wrong and therefore friction
  rtFri accelerated instead of decelerated. This was fixed.
  ction 
      B 
  rake  
        
        

  Suppo The component was only correct for fixed support. This was
  rtFri corrected.
  ction 

  Media 
  .Inte 
  rface 
  s.    

  Parti BaseProperties.p was not defined as preferred state and
  alSim BaseProperties.T was always defined as preferred state. This has
  pleMe been fixed by Defining p,T as preferred state if parameter
  dium  preferredMediumState = true. This error had the effect that mass m
      P is selected as state instead of p and if default initialization is
  artia used then m=0 could give not the expected behavior. This means,
  lSimp simulation is not wrong but the numerics is not as good and if a
  leIde model relies on default initial values, the result could be not as
  alGas expected.
  Mediu 
  m     
        
        
  ----- ------------------------------------------------------------------

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  --------------- --------------------------------------------------------
  Blocks.Math.    

  InverseBlockCon Changed annotation preserveAspectRatio from true to
  straint         false.

  Blocks.Sources. 

  RealExpression  Changed annotation preserveAspectRatio from true to
      IntegerExpr false.
  ession          
      BooleanExpr 
  ession          
                  
                  

  Electrical.Anal 
  og.Basic.       

  SaturatingInduc Replaced non-standard "arctan" by "atan" function.
  tor             

  Modelica.Electr 
  ical.Digital.   

  UsersGuide      Removed empty documentation placeholders and added the
                  missing release comment for version 1.0.7

  Modelica.Mechan 
  ics.Translation 
  al.Components.  

  MassWithStopAnd Changed usage of reinit(..), in order that it appears
  Friction        only once for one variable according to the language
                  specification (if a tool could simulate the model, there
                  is no difference).

  Media.Interface 
  s.PartialSimple 
  Medium          

  pressure        Missing functions added.
      temperature 
      density     
      specificEnt 
  halpy           
                  
                  
  --------------- --------------------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image32] Modelica.UsersGuide.ReleaseNotes.Version_3_0
======================================================

::

Version 3.0 is not backward compatible to previous versions. A
conversion script is provided to transform models and libraries of
previous versions to the new version. Therefore, conversion should be
automatic.

The following changes are present for the whole library:

-   In the Modelican language version 3.0, several restrictions have
    been introduced to allow better checking, e.g., models on all levels
    must be balanced (number of equations = number of unknown variables
    -unknown variables that have to be defined when using the
    component). A few models of the Modelica Standard Library did not
    fulfill these new restrictions and had either to be moved to library
    ObsoleteModelica3 (e.g., Blocks.Math.TwoInputs) or had to be
    differently implemented (e.g.,
    Media.Interfaces.PartialMedium.BaseProperties). The Modelica
    Standard Library version 3.0 fulfills all the restrictions of the
    Modelica Language version 3.0.
-   The graphical annotations describing the layout of icon and diagram
    layer are changed from Modelica language version 1 to Modelica
    language version 3. This gives several significant improvements:
    Especially, the coordinate systems of icon and diagram layers are no
    longer coupled and therefore the size of the icon layer can be
    changed independently of the size of the diagram layer. Also it can
    be defined that the aspect ratio of a component icon is kept when
    changing its size in a model. This flag is set so that all icons of
    the Modelica Standard Library keep its aspect ratios. This is
    slightly non-backward compatible: If the aspect ratio was not kept
    when using a component from the Modelica Standard Library, it is now
    resized so that the aspect ratio is maintained.
-   All non-standard annotations removed by:
        (1) Removing the annotation since without effect (e.g.,

    "__Dymola_experimentSetupOutput", "Window", "Terminal" removed).
        (2) Renaming the annotation to a standard name (e.g., "Hide"
            renamed

    to "HideResult").
        (3) Renaming the annotation to a vendor specific name (e.g.,

    "checkBox" renamed to "__Dymola_checkBox").
-   All emulated enumerations (defined via packages and constants) have
    been replaced by "real" enumerations. User models are automatically
    correctly converted, provided the user models used the package
    constants previously. Existing models that use directly literal
    values for enumerations, might give in some cases wrong results (if
    the first constant of the emulated enumeration had value zero,
    whereas the first value of an enumeration is one).
-   The operator "cardinality" will be removed in one of the next
    versions of the Modelica language, since it is a reflective operator
    and its usage significantly reduces the possibilities of advanced
    model checks (e.g., to guarantee that a model is "balanced", i.e.,
    the number of equations and unknowns is identical, for all valid
    usages of the component). As a preparation for this change, all
    models that contain the "cardinality(..)" operator are rewritten: If
    possible the operator is removed. If this is not possible, it is
    only used in asserts to check that, e.g., a connector is connected
    at least once or is connected exactly once. In the next Modelica
    language version new language elements will be introduced to
    specifiy such a property check without the cardinality operator.
    Once these language elements are available, the cardinality operator
    will be removed completely from the Modelica Standard Library. The
    changes with respect to the cardinality(..) operator are usually not
    backward compatible. This is the reason for the changes of the
    Rotational and Translational library (see below).
-   The design of the Rotational and Translational libraries have been
    changed (especially to remove the cardinality(..) operator, see
    above):

    -   Components have a useSupport flag to enable or disable a support
        flange. If the support flange is enabled, it must be connected.
        If it is disabled, it must not be connected and the component is
        then internally grounded. The grounding is visualized in the
        icon.
    -   The relative angle/distance and the relative speed of all
        force/torque elements (that need the relative speed) are by
        default defined with "StateSelect.prefer", i.e., to use these
        variables as preferred states. This improves the numerics if the
        absolute angle or the absolute distance are continuously
        increasing during operation (e.g., driving shaft of the wheels
        of a car). The effect is that relative angles/distances and
        speeds are used as states and the size of these variables is
        limited. Previously, the default was to use the absolute
        angle/distance and absolute speed of every inertia/mass which
        has the disadvantage that the absolute angle and or distance are
        state variables that grow in size continuously. A significant
        advantage is also, that default initialization is usually
        better, because a default value of zero for a relative
        angle/distance is usually what the user would like to have.
        Previously, say, the load was initialized to a non-zero angle
        and then the elastically coupled motor inertia had to be
        explicitly also initialized with this value. This is now, no
        longer needed. Since the default nominal value of 1 is usually
        too large for a relative quantity, the nominal values of the
        relative angle/distance was changed to 1e-4.
    -   The two libraries have been restructured in sublibraries to cope
        with the growing number of components.
    -   Finally, the Translational library has been made as similar as
        possible to the Rotational library by, e.g., adding missing
        components.

-   The initialization of the MultiBody, Rotational and Translational
    libraries have been signficantly simplified by removing the
    "initType" parameters and only using start/fixed values. This design
    assumes that a tool has special support for start/fixed values in
    the parameter menu.
-   Nearly all parameters defined in the Modelica Standard Library had
    been defined with a default equation, e.g.,

        parameter Modelica.SIunits.Resistance R=1; 

    Physical parameters, such as a resistance, mass, gear ratio, do not
    have a meaningful default and in nearly all cases, the user of the
    corresponding component has to provide values for such parameters.
    If the user forgets this, a tool cannot provide diagnostics, since a
    default value is present in the library (such as 1 Ohm for the
    resistance). In most cases the model will simulate but will give
    wrong results due to wrong parameter values. To improve this
    situation, all physical parameter declarations in the Modelica
    Standard Library have been changed, so that the previous default
    becomes a start value. For example, the above declaration is changed
    to:

        parameter Modelica.SIunits.Resistance R(start=1);  

    This is a backward compatible change and completely equivalent from
    the perspective of the Modelica language. It is, however, advised
    that tools will print a warning or optionally an error message, if
    the start value of a parameter is defined, but no value for the
    parameter is given via a modification. Furthermore, it is expected,
    that the input field of a parameter menu is empty, if no default
    equation is defined, but only a start value. This shows clearly to
    the modeler that a value has to be provided.

  The following new components have been added to existing

libraries (note, the names in paranthesis are the new sublibrary names
that are introduced in version 3.0):

  ------------------- -----------------------------------------------------
  Blocks.Examples.    

  InverseModel        Demonstrates the construction of an inverse model.

  Blocks.Math.        

  InverseBlockConstra Construct inverse model by requiring that two inputs
  ints                and two outputs are identical (replaces the
                      previously, unbalanced, TwoInputs and TwoOutputs
                      blocks).

  Electrical.Machines 
  .Utilities          

  TransformerData     A record that calculates required impedances
                      (parameters) from nominal data of transformers.

  Mechanics.MultiBody 
  .Examples.Rotationa 
  l3DEffects          

  GyroscopicEffects   New examples to demonstrate the usage of the
      ActuatedDrive   Rotational library in combination with multi-body
      MovingActuatedD components.
  rive                
      GearConstraint  
                      
                      

  Mechanics.MultiBody 
  .Sensors            

  AbsolutePosition    New sensors to measure one vector.
      AbsoluteVelocit 
  y                   
      AbsoluteAngles  
      AbsoluteAngular 
  Velocity            
      RelativePositio 
  n                   
      RelativeVelocit 
  y                   
      RelativeAngles  
      RelativeAngular 
  Velocity            
                      
                      

  TransformAbsoluteVe Transform absolute and/or relative vector into
  ctor                another frame.
      TransformRelati 
  veVector            
                      
                      

  Mechanics.Rotationa 
  l.(Components)      

  Disc                Right flange is rotated by a fixed angle with respect
                      to left flange

  IdealRollingWheel   Simple 1-dim. model of an ideal rolling wheel without
                      inertia

  Mechanics.Translati 
  onal.Sensors        

  RelPositionSensor   Relative position sensor, i.e., distance between two
  RelSpeedSensor      flanges
  RelAccSensor            Relative speed sensor Relative acceleration
  PowerSensor             sensor Ideal power sensor
                      
                      

  Mechanics.Translati 
  onal(.Components)   

  SupportFriction     Model of friction due to support
  Brake                   Model of a brake, base on Coulomb friction
  InitializeFlange        Initializes a flange with pre-defined postion,
                          speed and acceleration .
                      
                      

  Mechanics.Translati 
  onal(.Sources)      

  Force2              Force acting on 2 flanges
  LinearSpeedDependen     Force linearly dependent on flange speed Force
  tForce                  quadratic dependent on flange speed Constant
  QuadraticSpeedDepen     force source Constant speed source Force step
  dentForce           
  ConstantForce       
  ConstantSpeed       
  ForceStep           
  ------------------- -----------------------------------------------------

  The following existing components have been changed in a

non-backward compatible way (the conversion script transforms models and
libraries of previous versions to the new version. Therefore, conversion
should be automatic):

  -- ---------------------------------------------------------------------
  Bl 
  oc 
  ks 
  .C 
  on 
  ti 
  nu 
  ou 
  s. 

  Cr New parameter "normalized" to define whether filter is provided in
  it normalized or non-normalized form. Default is "normalized = true".
  ic The previous implementation was a non-normalized filter. The
  al conversion script automatically introduces the modifier
  Da "normalized=false" for existing models.
  mp 
  in 
  g  

  Bl 
  oc 
  ks 
  .I 
  nt 
  er 
  fa 
  ce 
  s. 

  Re Removed "SignalType", since extending from a replaceable class and
  al this is not allowed in Modelica 3. The conversion script removes
  In modifiers to SignalType.
  pu 
  t  
     
     
  Re 
  al 
  Ou 
  tp 
  ut 
     
     

  Re Moved to library ObsoleteModelica3, since these connectors are no
  al longer allowed in Modelica 3
  Si     (prefixes input and/or output are required).
  gn 
  al 
     
     
  In 
  te 
  ge 
  rS 
  ig 
  na 
  l  
     
     
  Bo 
  ol 
  ea 
  nS 
  ig 
  na 
  l  
     
     

  Bl 
  oc 
  ks 
  .I 
  nt 
  er 
  fa 
  ce 
  s. 
  Ad 
  ap 
  to 
  rs 
  .  

  Ad Moved to library ObsoleteModelica3, since the models are not
  ap "balanced". These are completely obsolete adaptors between the Real,
  to Boolean, Integer signal connectors of version 1.6 and version ≥ 2.1
  rR of the Modelica Standard Library.
  ea 
  l  
     
     
  Ad 
  ap 
  to 
  rB 
  oo 
  le 
  an 
     
     
  Ad 
  ap 
  to 
  rI 
  nt 
  eg 
  er 
     
     

  Bl 
  oc 
  ks 
  .M 
  at 
  h. 

  Co Moved to library ObsoleteModelica3, since extending from a
  nv replaceable class and this is not allowed in Modelica 3.
  er     It would be possible to rewrite this model to use a replaceable
  tA     component. However, the information about the conversion cannot
  ll     be visualized in the icon in this case.
  Un 
  it 
  s  

  Bl 
  oc 
  ks 
  .M 
  at 
  h. 
  Un 
  it 
  Co 
  nv 
  er 
  si 
  on 
  s. 

  Tw Moved to library ObsoleteModelica3, since the models are not
  oI "balanced". A new component "InverseBlockConstraints" is provided
  np instead that has the same feature, but is "balanced".
  ut 
  s  
     
     
  Tw 
  oO 
  ut 
  pu 
  ts 
     
     

  El 
  ec 
  tr 
  ic 
  al 
  .A 
  na 
  lo 
  g. 
  Ba 
  is 
  c. 

  He The heatPort has to be connected; otherwise the component Resistor
  at (without heatPort) has to be used.
  in     cardinality() is only used to check whether the heatPort is
  gR     connected.
  es 
  is 
  to 
  r  

  El 
  ec 
  tr 
  ic 
  al 
  .M 
  ul 
  ti 
  Ph 
  as 
  e. 
  Ex 
  am 
  pl 
  es 
  .  

     Changed the instance names of components used in the examples to more
     up-to-date style.

  El 
  ec 
  tr 
  ic 
  al 
  .M 
  ac 
  hi 
  ne 
  s. 

     Moved package Machines.Examples.Utilities to Machines.Utilities

     Removed all nonSIunits; especially in DCMachines
         parameter NonSIunits.AngularVelocity_rpm rpmNominal was replaced
         by parameter SIunits.AngularVelocity wNominal
     
     

     Changed the following component variable and parameter names to be
     more concise:
         Removed suffix "DamperCage" from all synchronous induction
         machines since the user can choose whether the damper cage is
         present or not.
     
     RotorAngle ... RotorDisplacementAngle                                
                      J_Rotor ... Jr                                      
                Rr ........ Rrd (damper of synchronous induction machines)
                                                      Lrsigma ... Lrsigmad
      (damper of synchronous induction machines)                          
                            phi_mechanical ... phiMechanical              
                                        w_mechanical ..... wMechanical    
                                                  rpm_mechanical ... rpmMe
     chanical                                                 tau_electric
     al ... tauElectrical                                                 
     tau_shaft ........ tauShaft                                          
            TurnsRatio ....... turnsRatio    (AIMS)                       
                               VsNom ............ VsNominal     (AIMS)    
                                                  Vr_Lr ............ VrLoc
     kedRotor (AIMS)                                                 Dampe
     rCage ....... useDamperCage (synchronous induction machines)         
                                             V0 ............... VsOpenCicu
     it  (SMPM)                                                 Ie0 ......
     ........ IeOpenCicuit  (SMEE)

  In Moved as much code as possible from specific machine models to
  te partials to reduce redundant code.
  rf 
  ac 
  es 
  .  

  In Removed to avoid cardinality; instead, the following solution has
  te been implemented:
  rf 
  ac 
  es 
  .A 
  da 
  pt 
  er 

  Se Introduced
  ns parameter Boolean useSupport=false "enable / disable (=fixed stator) 
  or support"
  s.     The rotational support connector is only present with
  Ro     useSupport = true; otherwise the stator is fixed internally.
  to 
  rD 
  is 
  pl 
  ac 
  em 
  en 
  tA 
  ng 
  le 
  In 
  te 
  rf 
  ac 
  es 
  .P 
  ar 
  ti 
  al 
  Ba 
  si 
  cM 
  ac 
  hi 
  ne 

  El 
  ec 
  tr 
  ic 
  al 
  .M 
  ac 
  hi 
  ne 
  s. 
  Ex 
  am 
  pl 
  es 
  .  

     Changed the names of the examples to more meaninglful names.
         Changed the instance names of components used in the examples to
         more up-to-date style.
     
     

  SM Initialization of smee.phiMechanical with fixed=true
  EE 
  _G 
  en 
  er 
  at 
  or 

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 

  Wo Changed default value of parameter driveTrainMechanics3D from false
  rl to true.
  d      3-dim. effects in Rotor1D, Mounting1D and BevelGear1D are
         therefore taken into account by default (previously this was only
         the case, if world.driveTrainMechanics3D was explicitly set).
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Fo 
  rc 
  es 
  .  

  Fr Models removed, since functionality now available via Force, Torque,
  am ForceAndTorque
  eF 
  or 
  ce 
     
     
  Fr 
  am 
  eT 
  or 
  qu 
  e  
     
     
  Fr 
  am 
  eF 
  or 
  ce 
  An 
  dT 
  or 
  qu 
  e  
     
     

  Wo Connector frame_resolve is optionally enabled via parameter
  rl resolveInFrame . Forces and torques and be resolved in all meaningful
  dF frames defined by enumeration resolveInFrame.
  or 
  ce 
     
     
  Wo 
  rl 
  dT 
  or 
  qu 
  e  
     
     
  Wo 
  rl 
  dF 
  or 
  ce 
  An 
  dT 
  or 
  qu 
  e  
     
     
  Fo 
  rc 
  e  
     
     
  To 
  rq 
  ue 
     
     
  Fo 
  rc 
  eA 
  nd 
  To 
  rq 
  ue 
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Fr 
  am 
  es 
  .  

  le Removed functions, since available also in Modelica.Math.Vectors The
  ng conversion script changes the references correspondingly.
  th 
     
     
  no 
  rm 
  al 
  iz 
  e  
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Jo 
  in 
  ts 
  .  

  Pr Changed initialization, by replacing initial value parameters with
  is start/fixed attributes.
  ma     When start/fixed attributes are properly supported in the
  ti     parameter menu by a Modelica tool, the initialization is
  c      considerably simplified for the user and the implementation is
         much simpler. Replaced parameter "enforceStates" by the more
         general built-in enumeration stateSelect=StateSelection.xxx. The
  Ac     conversion script automatically transforms from the "old" to the
  tu     "new" forms.
  at 
  ed 
  Pr 
  is 
  ma 
  ti 
  c  
     
     
  Re 
  vo 
  lu 
  te 
     
     
  Ac 
  tu 
  at 
  ed 
  Re 
  vo 
  lu 
  te 
     
     
  Cy 
  li 
  nd 
  ri 
  ca 
  l  
     
     
  Un 
  iv 
  er 
  sa 
  l  
     
     
  Pl 
  an 
  ar 
     
     
  Sp 
  he 
  ri 
  ca 
  l  
     
     
  Fr 
  ee 
  Mo 
  ti 
  on 
     
     

  Re Parameter "planarCutJoint" in the "Advanced" menu of "Revolute" and
  vo of "ActuatedRevolute" removed.
  lu     A new joint "RevolutePlanarLoopConstraint" introduced that
  te     defines the constraints of a revolute joint as cut-joint in a
         planar loop. This change was needed in order that the revolute
         joint can be properly used
  Ac 
  tu in advanced model checking.
  at     ActuatedRevolute joint removed. Flange connectors of Revolute
  ed     joint can be enabled with parameter useAxisFlange.
  Re 
  vo 
  lu 
  te 
     
     

  Pr ActuatedPrismatic joint removed. Flange connectors of Prismatic joint
  is     can be enabled with parameter useAxisFlange.
  ma 
  ti 
  c  
     
     
  Ac 
  tu 
  at 
  ed 
  Pr 
  is 
  ma 
  ti 
  c  
     
     

  As Assembly joint implementation slightly changed, so that annotation
  se "structurallyIncomplete" could be removed (all Assembly joint models
  mb are now "balanced").
  li 
  es 

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Jo 
  in 
  ts 
  .I 
  nt 
  er 
  na 
  l  

  Re These joints should not be used by a user of the MultiBody library.
  vo They are only provided to built-up the
  lu MultiBody.Joints.Assemblies.JointXYZ joints. These two joints have
  te been changed in a slightly not backward compatible way, in order that
  Wi the usage in the Assemblies.JointXYZ joints results in balanced
  th models (no conversion is provided for this change since the user
  Le should not have used these joints and the conversion would be too
  ng complicated): In releases before version 3.0 of the Modelica Standard
  th Library, it was possible to activate the torque/force projection
  Co equation (= cut-torque/-force projected to the rotation/translation
  ns axis must be identical to the drive torque/force of flange axis) via
  tr parameter axisTorqueBalance. This is no longer possible, since
  ai otherwise this model would not be "balanced" (= same number of
  nt unknowns as equations). Instead, when using this model in version 3.0
     and later versions, the torque/force projection equation must be
     provided in the Advanced menu of joints Joints.SphericalSpherical and
  Pr Joints.UniversalSpherical via the new parameter "constraintResidue".
  is 
  ma 
  ti 
  cW 
  it 
  hL 
  en 
  gt 
  hC 
  on 
  st 
  ra 
  in 
  t  
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Pa 
  rt 
  s. 

  Bo Changed unit of parameter density from g/cm3 to the SI unit kg/m3 in
  dy order to allow stricter unit checking. The conversion script
  Bo multiplies previous density values with 1000.
  x  
     
     
  Bo 
  dy 
  Cy 
  li 
  nd 
  er 
     
     

  Bo Changed initialization, by replacing initial value parameters with
  dy start/fixed attributes.
         When start/fixed attributes are properly supported in the
         parameter menu by a Modelica tool, the initialization is
  Bo     considerably simplified for the user and the implementation is
  dy     much simpler.
  Sh 
  ap The conversion script automatically transforms from the "old" to the
  e  "new" form of initialization.
     
     
  Bo 
  dy 
  Bo 
  x  
     
     
  Bo 
  dy 
  Cy 
  li 
  nd 
  er 
     
     
  Po 
  in 
  tM 
  as 
  s  
     
     
  Ro 
  to 
  r1 
  D  
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Mu 
  lt 
  iB 
  od 
  y. 
  Se 
  ns 
  or 
  s. 

  Ab New design of sensor components: Via Boolean parameters
  so     signal connectors for the respective vectors are
  lu     enabled/disabled. It is not possible to automatically convert
  te     models to this new design. Instead, references in existing models
  Se     are changed to ObsoleteModelice3. This means that these models
  ns     must be manually adapted.
  or 
     
     
  Re 
  la 
  ti 
  ve 
  Se 
  ns 
  or 
     
     
  Cu 
  tF 
  or 
  ce 
  An 
  dT 
  or 
  qu 
  e  
     
     

  Cu Slightly new design. The force and/or torque component can be
  tF resolved in world, frame_a, or frame_resolved.
  or     Existing models are automatically converted.
  ce 
     
     
  Cu 
  tT 
  or 
  qu 
  e  
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Ro 
  ta 
  ti 
  on 
  al 
  .  

     Moved components to structured sub-packages (Sources, Components)

  In Changed initialization, by replacing initial value parameters with
  er start/fixed attributes.
  ti     When start/fixed attributes are properly supported in the
  a      parameter menu by a Modelica tool, the initialization is
         considerably simplified for the user and the implementation is
         much simpler. Parameter "stateSelection" in "Inertia" and
  Sp     "SpringDamper" replaced by the built-in enumeration
  ri 
  ng stateSelect=StateSelection.xxx. Introduced the "stateSelect"
  Da enumeration in "RelativeStates".
  mp     The conversion script automatically transforms from the "old" to
  er     the "new" forms.
     
     
  Re 
  la 
  ti 
  ve 
  St 
  at 
  es 
     
     

  Lo Renamed gear ratio parameter "i" to "ratio", in order to have a
  ss consistent naming convention.
  yG     Existing models are automatically converted.
  ea 
  r  
     
     
  Ge 
  ar 
  Bo 
  x  
     
     

  Sp Relative quantities (phi_rel, w_rel) are used as states, if possible
  ri (due to StateSelect.prefer).
  ng     In most cases, relative states in drive trains are better suited
  Da     as absolute states. This change might give changes in the
  mp     selected states of existing models. This might give rise to
  er     problems if, e.g., the initialization was not completely defined
         in a user model, since the default initialization heuristic may
         give different initial values.
  El 
  as 
  to 
  Ba 
  ck 
  la 
  sh 
     
     
  Cl 
  ut 
  ch 
     
     
  On 
  eW 
  ay 
  Cl 
  ut 
  ch 
     
     

  Me 
  ch 
  an 
  ic 
  s. 
  Tr 
  an 
  sl 
  at 
  io 
  na 
  l. 

     Moved components to structured sub-packages (Sources, Components)

     Adaptions corresponding to Rotational

  St Renamed to Components.MassWithStopAndFriction to be more concise.
  op     MassWithStopAndFriction is not available with a support
         connector, since the reaction force can't be modeled in a
         meaningful way due to reinit of velocity v. Until a sound
         implementation of a hard stop is available, the old model may be
         used.
     
     

  Me 
  di 
  a. 

  co The package constant nX = nS, now always, even for single species
  ns media. This also allows to define mixtures with only 1 element. The
  ta package constant nXi=if fixedX then 0 else if reducedX or nS==1 then
  nt nS - 1 else nS. This required that all BaseProperties for single
  nX species media get an additional equation to define the composition X
     as {1.0} (or reference_X, which is {1.0} for single species). This
     will also mean that all user defined single species media need to be
  co updated by that equation.
  ns 
  ta 
  nt 
     
     
  nX 
  i  
     
     
  co 
  ns 
  ta 
  nt 
     
     
  re 
  fe 
  re 
  nc 
  e_ 
  X  
     
     
  Ba 
  se 
  Pr 
  op 
  er 
  ti 
  es 
     
     

  SI 
  un 
  it 
  s. 

  Ce Removed, since no SI unit. The conversion script changes references
  ls to SIunits.Conversions.NonSIunits.Temperature_degC
  iu 
  sT 
  em 
  pe 
  ra 
  tu 
  re 

  Th Added annotation "__Dymola_absoluteValue=true/false" in order that
  er unit checking is possible
  mo     (the unit checker needs to know for a unit that has an offset,
  dy     whether it is used as absolute or as a relative number)
  na 
  mi 
  cT 
  em 
  pe 
  ra 
  tu 
  re 
     
     
  Te 
  mp 
  er 
  at 
  ur 
  eD 
  if 
  fe 
  re 
  nc 
  e  
     
     

  SI 
  un 
  it 
  s. 
  Co 
  nv 
  er 
  si 
  on 
  s. 
  No 
  nS 
  Iu 
  ni 
  ts 
  .  

  Te Added annotation "__Dymola_absoluteValue=true" in order that unit
  mp checking is possible
  er     (the unit checker needs to know for a unit that has an offset,
  at     whether it is used as absolute or as a relative number)
  ur 
  e_ 
  de 
  gC 
     
     
  Te 
  mp 
  er 
  at 
  ur 
  e_ 
  de 
  gF 
     
     
  Te 
  mp 
  er 
  at 
  ur 
  e_ 
  de 
  gR 
  k  
     
     

  St 
  at 
  eG 
  ra 
  ph 
  .E 
  xa 
  mp 
  le 
  s. 

  Co The connectors of the ControlledTanks did not fulfill the new
  nt restrictions of Modelica 3. This has been fixed.
  ro 
  ll 
  ed 
  Ta 
  nk 
  s  

  Ut Replacing inflow, outflow by connectors inflow1, inflow2, outflow1,
  il outflow2 with appropriate input/output prefixes in order to fufill
  it the restrictions of Modelica 3 to arrive at balanced models. No
  ie conversion is provided, since too difficult and since the
  s  non-backward compatible change is in an example.

  Th 
  er 
  ma 
  l. 
  Fl 
  ui 
  dH 
  ea 
  tF 
  lo 
  w. 
  Se 
  ns 
  or 
  s. 

     renamed to:
  pS     PressureSensor
  en 
  so TemperatureSensor RelPressureSensor RelTemperatureSensor
  r  MassFlowSensor VolumeFlowSensor EnthalpyFlowSensor
     
  TS 
  en 
  so 
  r  
  dp 
  Se 
  ns 
  or 
  dT 
  Se 
  ns 
  or 
  m_ 
  fl 
  ow 
  Se 
  ns 
  or 
  V_ 
  fl 
  ow 
  Se 
  ns 
  or 
  H_ 
  fl 
  ow 
  Se 
  ns 
  or 

  Th 
  er 
  ma 
  l. 
  Fl 
  ui 
  dH 
  ea 
  tF 
  lo 
  w. 
  So 
  ur 
  ce 
  s. 

  Am available as one combined component Ambient
  bi     Boolean parameters usePressureInput and useTemperatureInput
  en     decide whether pressure and/or temperature are constant or
  t      prescribed
  Pr 
  es 
  cr 
  ib 
  ed 
  Am 
  bi 
  en 
  t  

  Co available as one combined component VolumeFlow
  ns     Boolean parameter useVolumeFlowInput decides whether volume flow
  ta     is constant or prescribed
  nt 
  Vo 
  lu 
  me 
  Fl 
  ow 
  Pr 
  es 
  cr 
  ib 
  ed 
  Vo 
  lu 
  me 
  Fl 
  ow 

  Co available as one combined component PressureIncrease
  ns     Boolean parameter usePressureIncreaseInput decides whether
  ta     pressure increase is constant or prescribed
  nt 
  Pr 
  es 
  su 
  re 
  In 
  cr 
  ea 
  se 
  Pr 
  es 
  cr 
  ib 
  ed 
  Pr 
  es 
  su 
  re 
  In 
  cr 
  ea 
  se 

  Th 
  er 
  ma 
  l. 
  Fl 
  ui 
  dH 
  ea 
  tF 
  lo 
  w. 
  Ex 
  am 
  pl 
  es 
  .  

     Changed the instance names of components used in the examples to more
     up-to-date style.

  Th 
  er 
  ma 
  l. 
  He 
  at 
  Tr 
  an 
  sf 
  er 
  .( 
  Co 
  mp 
  on 
  en 
  ts 
  )  

  He Initialization changed: SteadyStateStart removed. Instead start/fixed
  at values for T and der_T (initial temperature and its derivative).
  Ca 
  pa 
  ci 
  to 
  r  

  He Moved components to sub-packages:
  at     Components.HeatCapacitor
  Ca 
  pa Components.ThermalConductor Components.ThermalConvection
  ci Components.BodyRadiation Sensors.TemperatureSensor
  to Sensors.RelTemperatureSensor Sensors.HeatFlowSensor
  r  Sources.FixedTemperature Sources.PrescribedTemperature
  Th Sources.FixedHeatFlow Sources.PrescribedHeatFlow
  er 
  ma 
  lC 
  on 
  du 
  ct 
  or 
  Th 
  er 
  ma 
  lC 
  on 
  ve 
  ct 
  io 
  n  
  Bo 
  dy 
  Ra 
  di 
  at 
  io 
  n  
  Te 
  mp 
  er 
  at 
  ur 
  eS 
  en 
  so 
  r  
  Re 
  lT 
  em 
  pe 
  ra 
  tu 
  re 
  Se 
  ns 
  or 
  He 
  at 
  Fl 
  ow 
  Se 
  ns 
  or 
  Fi 
  xe 
  dT 
  em 
  pe 
  ra 
  tu 
  re 
  Pr 
  es 
  cr 
  ib 
  ed 
  Te 
  mp 
  er 
  at 
  ur 
  e  
  Fi 
  xe 
  dH 
  ea 
  tF 
  lo 
  w  
  Pr 
  es 
  cr 
  ib 
  ed 
  He 
  at 
  Fl 
  ow 

  Th 
  er 
  ma 
  l. 
  Fl 
  ui 
  dH 
  ea 
  tF 
  lo 
  w. 
  Ex 
  am 
  pl 
  es 
  .  

     Changed the instance names of components used in the examples to more
     up-to-date style.
  -- ---------------------------------------------------------------------

  The following existing components have been improved in a

backward compatible way:

  --------------- --------------------------------------------------------
  Modelica.*      Parameter declarations, input and output function
                  arguments without description strings improved
                      by providing meaningful description texts.
                  
                  

  Modelica.Blocks 
  .Continuous.    

  TransferFunctio Internal scaling of the controller canonical states
  n               introduced in order to enlarge the range of transfer
                  functions where the default relative tolerance of the
                  simulator is sufficient.

  Butterworth     Documentation improved and plots of the filter
  CriticalDamping characteristics added.

  Electrical.Anal 
  og.Basic.       

  EMF             New parameter "useSupport" to optionally enable a
                  support connector.

  Icons.          

  TranslationalSe Removed drawing from the diagram layer (kept drawing
  nsor            only in icon layer),
      RotationalS     in order that this icon can be used in situations
  ensor               where components are dragged in the diagram layer.
                  
                  

  Math.Vectors.   

  normalize       Implementation changed, so that the result is awalys
                  continuous
                      (previously, this was not the case for small
                      vectors: normalize(eps,eps)).
                  
                  

  Mechanics.Multi 
  Body.           

                  Renamed non-standard keywords defineBranch, defineRoot,
                  definePotentialRoot, isRooted to the standard names:
                      Connections.branch/.root/.potentialRoot/.isRooted.
                  
                  

  Frames          Added annotation "Inline=true" to all one-line functions
                  (which should be all inlined).

  Mechanics.Multi 
  Body.Parts.     

  Mounting1D      Changed implementation so that no longer modifiers for
      Rotor1D     connector variables are used, because this violates the
      BevelGear1D restrictions on "balanced models" of Modelica 3.
                  
                  

  Mechanics.Rotat 
  ional.          

  InitializeFlang Changed implementation so that counting unknowns and
  e               equations is possible without actual values of
                  parameters.

  Thermal.FluidHe 
  atFlow.Interfac 
  es.Partials.    

  TwoPort         Introduced
                  parameter Real tapT(final min=0, final max=1)=1
                      that defines the temperature of the heatPort betwen
                      inlet and outlet.
                  
                  

  StateGraph.     

  InitialStep     Changed implementation so that no longer modifiers for
      InitialStep output variables are used, because this violates the
  WithSignal      restrictions on "balanced models" of Modelica 3.
      Step        
      StepWithSig 
  nal             
                  
                  
  --------------- --------------------------------------------------------

  The following critical errors have been fixed (i.e., errors that

can lead to wrong simulation results):

  ------ -----------------------------------------------------------------
  Electr 
  ical.A 
  nalog. 
  Exampl 
  es.    

  CauerL Wrong calculation of Capacitor1 both in Rn and Rp corrected
  owPass (C=clock/R instead of C=clock*R)
  SC     

  Mechan 
  ics.Mu 
  ltiBod 
  y.Part 
  s.     

  Rotor1 The 3D reaction torque was not completely correct and gave in
  D      some situations a wrong result. This bug should not influence the
         movement of a multi-body system, but only the constraint torques
         are sometimes not correct.

  Mechan 
  ics.Ro 
  tation 
  al.    

  Elasto If the damping torque was too large, the reaction torque could
  Backla "pull" which is unphysical. The component was newly written by
  sh     limiting the damping torque in such a case so that "pulling"
         torques can no longer occur. Furthermore, during initialization
         the characteristics is made continuous to reduce numerical
         errors. The relative angle and relative angular velocities are
         used as states, if possible (StateSelect.prefer), since relative
         quantities lead usually to better behavior.

  Positi The movement of the flange was wrongly defined as absolute; this
  on     is corrected as relative to connector support.
  Speed      For Accelerate, it was necessary to rename RealInput a to
  Accele     a_ref, as well as the start values phi_start to phi.start and
  rate       w_start to w.start. The conversion script performs the
  Move       necessary conversion of existing models automatically.
         
         

  Media. 
  Interf 
  aces.  

  Partia Inconsisteny in reference temperature corrected. This may give
  lSimpl different results for functions:
  eIdeal     specificEnthalpy, specificInternalEnergy,
  GasMed     specificGibbsEnergy, specificHelmholtzEnergy.
  ium    
         

  Media. 
  Air.   

  specif Small bug in entropy computation of ideal gas mixtures corrected.
  icEntr 
  opy    

  Media. 
  IdealG 
  ases.C 
  ommon. 
  Mixtur 
  eGasNa 
  sa     

  specif Small bug in entropy computation of ideal gas mixtures corrected.
  icEntr 
  opy    
  ------ -----------------------------------------------------------------

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  --------------------------- --------------------------------------------
  Blocks.Tables.              

  CombiTable2D                Documentation improved.

  Electrica.Digital.Gates     

  AndGate                     The number of inputs was not correctly
      NandGate OrGate NorGate propagated to the included base model.
      XorGate XnorGate            This gave a translation error, if the
                                  number of inputs was changed (and not
                                  the default used).
                              
                              

  Electrica.Digital.Sources   

  Pulse                       Model differently implemented, so that
                              warning message about "cannot properly
                              initialize" is gone.

  Mechanics.Rotational.       

  BearingFriction             Declaration of table parameter changed from
      Clutch OneWayClutch     table[:,:] to table[:,2].
      Brake Gear              
                              
                              

  Modelica.Mechanics.MultiBod 
  y.Examples.Loops.Utilities. 

  GasForce                    Unit of variable "press" corrected (from Pa
                              to bar)

  StateGraph.Examples.        

  SimpleFriction              The internal parameter k is defined and
                              calculated with the appropriate unit.

  Thermal.FluidHeatFlow.Inter 
  faces.Partials.             

  SimpleFriction              The internal parameter k is defined and
                              calculated with the appropriate unit.
  --------------------------- --------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image33] Modelica.UsersGuide.ReleaseNotes.Version_2_2_2
========================================================

::

Version 2.2.2 is backward compatible to version 2.2.1 and 2.2 with the
following exceptions:

-   Removal of package
    Modelica.Media.Interfaces.PartialTwoPhaseMediumWithCache (this was
    not yet utilized).
-   Removal of the media packages in
    Modelica.Media.IdealGases.SingleGases that are not type compatible
    to Modelica.Media.Interfaces.PartialMedium, because a FluidConstants
    record definition is missing, for details, see
    Modelica.Media.IdealGases (this is seen as a bug fix).

An overview of the differences between version 2.2.2 and the previous
version 2.2.1 is given below. The exact differences (but without
differences in the documentation) are available in
Differences-Modelica-221-222.html. This comparison file was generated
automatically with Dymolas ModelManagement.compare function.

In this version, no new libraries have been added. The documentation of
the whole library was improved. Especially, the documentation is now
also available as one pdf file.

  The following new components have been added to existing

libraries:

Blocks.Logical.

TerminateSimulation

Terminate a simulation by a given condition.

Blocks.Routing.

RealPassThrough
    IntegerPassThrough BooleanPassThrough

Pass a signal from input to output (useful in combination with a bus due
to restrictions of expandable connectors).

Blocks.Sources.

KinematicPTP2

Directly gives q,qd,qdd as output (and not just qdd as KinematicPTP).

Electrical.Machines.Examples.

TransformerTestbench

Transformer Testbench

Rectifier6pulse

6-pulse rectifier with 1 transformer

Rectifier12pulse

12-pulse rectifier with 2 transformers

AIMC_Steinmetz

Asynchronous induction machine squirrel cage with Steinmetz connection

Electrical.Machines.BasicMachines.Components.

BasicAIM

Partial model for asynchronous induction machine

BasicSM

Partial model for synchronous induction machine

PartialAirGap

Partial airgap model

BasicDCMachine

Partial model for DC machine

PartialAirGapDC

Partial airgap model of a DC machine

BasicTransformer

Partial model of threephase transformer

PartialCore

Partial model of transformer core with 3 windings

IdealCore

Ideal transformer with 3 windings

Electrical.Machines.BasicMachines.

Transformers

Sub-Library for technical 3phase transformers

Electrical.Machines.Interfaces.

Adapter

Adapter to model housing of electrical machine

Math.

Vectors

New library of functions operating on vectors

atan3

Four quadrant inverse tangens (select solution that is closest to given
angle y0)

asinh

Inverse of sinh (area hyperbolic sine)

acosh

Inverse of cosh (area hyperbolic cosine)

Math.Vectors

isEqual

Determine if two Real vectors are numerically identical

norm

Return the p-norm of a vector

length

Return length of a vector (better as norm(), if further symbolic
processing is performed)

normalize

Return normalized vector such that length = 1 and prevent zero-division
for zero vector

reverse

Reverse vector elements (e.g., v[1] becomes last element)

sort

Sort elements of vector in ascending or descending order

Math.Matrices

solve2

Solve real system of linear equations A*X=B with a B matrix (Gaussian
elemination with partial pivoting)

LU_solve2

Solve real system of linear equations P*L*U*X=B with a B matrix and an
LU decomposition (from LU(..))

Mechanics.Rotational.

InitializeFlange

Initialize a flange according to given signals (useful if initialization
signals are provided by a signal bus).

Media.Interfaces.PartialMedium.

density_pTX

Return density from p, T, and X or Xi

Media.Interfaces.PartialTwoPhaseMedium.

BaseProperties

Base properties (p, d, T, h, u, R, MM, x) of a two phase medium

molarMass

Return the molar mass of the medium

saturationPressure_sat

Return saturation pressure

saturationTemperature_sat

Return saturation temperature

saturationTemperature_derp_sat

Return derivative of saturation temperature w.r.t. pressure

setState_px

Return thermodynamic state from pressure and vapour quality

setState_Tx

Return thermodynamic state from temperature and vapour quality

vapourQuality

Return vapour quality

Media.Interfaces.

PartialLinearFluid

Generic pure liquid model with constant cp, compressibility and thermal
expansion coefficients

Media.Air.MoistAir.

massFraction_pTphi

Return the steam mass fraction from relative humidity and T

saturationTemperature

Return saturation temperature from (partial) pressure via numerical
inversion of function saturationPressure

enthalpyOfWater

Return specific enthalpy of water (solid/liquid) near atmospheric
pressure from temperature

enthalpyOfWater_der

Return derivative of enthalpyOfWater()" function

PsychrometricData

Model to generate plot data for psychrometric chart

Media.CompressibleLiquids.
    New sub-library for simple compressible liquid models

LinearColdWater

Cold water model with linear compressibility

LinerWater_pT_Ambient

Liquid, linear compressibility water model at 1.01325 bar and 25 degree
Celsius

SIunits.

TemperatureDifference

Type for temperature difference

  The following existing components have been improved:

Blocks.Examples.

BusUsage

Example changed from the "old" to the "new" bus concept with expandable
connectors.

Blocks.Discrete.

ZeroOrderHold

Sample output ySample moved from "protected" to "public" section with
new attributes (start=0, fixed=true).

TransferFunction

Discrete state x with new attributes (each start=0, each fixed=0).

Electrical.

Analog MultiPhase

Improved some icons.

Electrical.Digital.Interfaces.

MISO

Removed "algorithm" from this partial block.

Electrical.Digital.Delay.

DelayParams

Removed "algorithm" from this partial block.

Electrical.Digital.Delay.

DelayParams

Removed "algorithm" from this partial block.

TransportDelay

If delay time is zero, an infinitely small delay is introduced via
pre(x) (previously "x" was used).

Electrical.Digital.Sources.

Clock Step

Changed if-conditions from "xxx < time" to "time >= xxx" (according to
the Modelica specification, in the second case a time event should be
triggered, i.e., this change leads potentially to a faster simulation).

Electrical.Digital.Converters.

BooleanToLogic
    LogicToBoolean RealToLogic LogicToReal

Changed from "algorithm" to "equation" section to allow better symbolic
preprocessing

Electrical.

Machines

Slightly improved documentation, typos in documentation corrected

Electrical.Machines.Examples.

AIMS_start

Changed QuadraticLoadTorque1(TorqueDirection=true) to
QuadraticLoadTorque1(TorqueDirection=false) since more realistic

Electrical.Machines.Interfaces.

PartialBasicMachine

Introduced support flange to model the reaction torque to the housing

Electrical.Machines.Sensors.

Rotorangle

Introduced support flange to model the reaction torque to the housing

Mechanics.MultiBody.Examples.Elementary.

PointMassesWithGravity

Added two point masses connected by a line force to demonstrate
additionally how this works. Connections of point masses with
3D-elements are demonstrated in the new example PointMassesWithGravity
(there is the difficulty that the orientation is not defined in a
PointMass object and therefore some special handling is needed in case
of a connection with 3D-elements, where the orientation of the point
mass is not determined by these elements.

Mechanics.MultiBody.Examples.Systems.

RobotR3

Changed from the "old" to the "new" bus concept with expandable
connectors. Replaced the non-standard Modelica function "constrain()" by
standard Modelica components. As a result, the non-standard function
constrain() is no longer used in the Modelica Standard Library.

Mechanics.MultiBody.Frames.Orientation.

equalityConstraint

Use a better residual for the equalityConstraint function. As a result,
the non-linear equation system of a kinematic loop is formulated in a
better way (the range where the desired result is a unique solution of
the non-linear system of equations becomes much larger).

Mechanics.MultiBody.

Visualizers.

Removed (misleading) annotation "structurallyIncomplete" in the models
of this sub-library

Mechanics.Rotational.

Examples

For all models in this sub-library:

-   Included a housing object in all examples to compute all support
    torques.
-   Replaced initialization by modifiers via the initialization menu
    parameters of Inertia components.
-   Removed "encapsulated" and unnecessary "import".
-   Included "StopTime" in the annotations.

Mechanics.Rotational.Interfaces.

FrictionBase

Introduced "fixed=true" for Boolean variables startForward,
startBackward, mode.

Mechanics.Translational.Interfaces.

FrictionBase

Introduced "fixed=true" for Boolean variables startForward,
startBackward, mode.

Media.UsersGuide.MediumUsage.

TwoPhase

Improved documentation and demonstrating the newly introduced functions

Media.Examples.

WaterIF97

Provided (missing) units for variables V, dV, H_flow_ext, m, U.

Media.Interfaces.

PartialMedium

Final modifiers are removed from nX and nXi, to allow customized medium
models such as mixtures of refrigerants with oil, etc.

PartialCondensingGases

Included attributes "min=1, max=2" for input argument FixedPhase for
functions setDewState and setBubbleState (in order to guarantee that
input arguments are correct).

Media.Interfaces.PartialMedium.

BaseProperties

New Boolean parameter "standardOrderComponents". If true, last element
vector X is computed from 1-sum(Xi) (= default) otherwise, no equation
is provided for it in PartialMedium.

IsentropicExponent

"max" value changed from 1.7 to 500000

setState_pTX
    setState_phX setState_psX setState_dTX specificEnthalpy_pTX
    temperature_phX density_phX temperature_psX density_psX
    specificEnthalpy_psX

Introduced defaut value "reference_X" for input argument "X".

Media.Interfaces.PartialSimpleMedium.

setState_pTX
    setState_phX setState_psX setState_dTX

Introduced defaut value "reference_X" for input argument "X".

Media.Interfaces.PartialSimpleIdealGasMedium.

setState_pTX
    setState_phX setState_psX setState_dTX

Introduced defaut value "reference_X" for input argument "X".

Media.Air.MoistAir.

setState_pTX
    setState_phX setState_dTX

Introduced defaut value "reference_X" for input argument "X".

Media.IdealGases.Common.SingleGasNasa.

setState_pTX
    setState_phX setState_psX setState_dTX

Introduced defaut value "reference_X" for input argument "X".

Media.IdealGases.Common.MixtureGasNasa.

setState_pTX
    setState_phX setState_psX setState_dTX h_TX

Introduced defaut value "reference_X" for input argument "X".

Media.Common.

IF97PhaseBoundaryProperties
    gibbsToBridgmansTables

Introduced unit for variables vt, vp.

SaturationProperties

Introduced unit for variable dpT.

BridgmansTables

Introduced unit for dfs, dgs.

Media.Common.ThermoFluidSpecial.

gibbsToProps_ph
    gibbsToProps_ph gibbsToBoundaryProps gibbsToProps_dT gibbsToProps_pT

Introduced unit for variables vt, vp.

TwoPhaseToProps_ph

Introduced unit for variables dht, dhd, detph.

Media.

MoistAir

Documentation of moist air model significantly improved.

Media.MoistAir.

enthalpyOfVaporization

Replaced by linear correlation since simpler and more accurate in the
entire region.

Media.Water.IF97_Utilities.BaseIF97.Regions.

drhovl_dp

Introduced unit for variable dd_dp.

Thermal.

FluidHeatFlow

Introduced new parameter tapT (0..1) to define the temperature of the
HeatPort as linear combination of the flowPort_a (tapT=0) and flowPort_b
(tapT=1) temperatures.

  The following critical errors have been fixed (i.e., errors that

can lead to wrong simulation results):

Electrical.Machines.BasicMachines.Components.

ElectricalExcitation

Excitation voltage ve is calculated as
"spacePhasor_r.v_[1]*TurnsRatio*3/2" instead of
"spacePhasor_r.v_[1]*TurnsRatio

Mechanics.MultiBody.Parts.

FixedRotation

Bug corrected that the torque balance was wrong in the following cases
(since vector r was not transformed from frame_a to frame_b; note this
special case occurs very seldomly in practice):

-   frame_b is in the spanning tree closer to the root (usually this is
    frame_a).
-   vector r from frame_a to frame_b is not zero.

PointMass

If a PointMass model is connected so that no equations are present to
compute its orientation object, the orientation was arbitrarily set to a
unit rotation. In some cases this can lead to a wrong overall model,
depending on how the PointMass model is used. For this reason, such
cases lead now to an error (via an assert(..)) with an explanation how
to fix this.

Media.Interfaces.PartialPureSubstance.

pressure_dT
    specificEnthalpy_dT

Changed wrong call from "setState_pTX" to "setState_dTX"

Media.Interfaces.PartialTwoPhaseMedium.

pressure_dT
    specificEnthalpy_dT

Changed wrong call from "setState_pTX" to "setState_dTX"

Media.Common.ThermoFluidSpecial.

gibbsToProps_dT
    helmholtzToProps_ph helmholtzToProps_pT helmholtzToProps_dT

Bugs in equations corrected

Media.Common.

helmholtzToBridgmansTables
    helmholtzToExtraDerivs

Bugs in equations corrected

Media.IdealGases.Common.SingleGasNasa.

density_derp_T

Bug in equation of partial derivative corrected

Media.Water.IF97_Utilities.

BaseIF97.Inverses.dtofps3
    isentropicExponent_props_ph isentropicExponent_props_pT
    isentropicExponent_props_dT

Bugs in equations corrected

Media.Air.MoistAir.

h_pTX

Bug in setState_phX due to wrong vector size in h_pTX corrected.
Furthermore, syntactical errors corrected:

-   In function massFractionpTphi an equation sign is used in an
    algorithm.
-   Two consecutive semicolons removed

Media.Water.

waterConstants

Bug in equation of criticalMolarVolume corrected.

Media.Water.IF97_Utilities.BaseIF97.Regions.

region_ph
    region_ps

Bug in region determination corrected.

boilingcurve_p
    dewcurve_p

Bug in equation of plim corrected.

  The following uncritical errors have been fixed (i.e., errors that

do not lead to wrong simulation results, but, e.g., units are wrong or
errors in documentation):

  ------------ -----------------------------------------------------------
  Blocks.      

  Examples     Corrected typos in description texts of bus example models.

  Blocks.Conti 
  nuous.       

  LimIntegrato removed incorrect smooth(0,..) because expression might be
  r            discontinuous.

  Blocks.Math. 
  UnitConversi 
  ons.         

  block_To_kWh Corrected unit from "kWh" to (syntactically correct)
  block_From_k "kW.h".
  Wh           

  Electrical.A 
  nalog.Exampl 
  es.          

  HeatingNPN_O Included start values, so that initialization is successful
  rGate        

  Electrical.A 
  nalog.Lines. 

  OLine        Corrected unit from "Siemens/m" to "S/m".

  TLine2       Changed wrong type of parameter NL (normalized length) from
               SIunits.Length to Real.

  Electrical.D 
  igital.Delay 
  .            

  TransportDel Syntax error corrected (":=" in equation section is
  ay           converted by Dymola silently to "=").

  Electrical.D 
  igital       

  Converters   Syntax error corrected (":=" in equation section is
               converted by Dymola silently to "=").

  Electrical.M 
  ultiPhase.Ba 
  sic.         

  Conductor    Changed wrong type of parameter G from SIunits.Resistance
               to SIunits.Conductance.

  Electrical.M 
  ultiPhase.In 
  terfaces.    

  Plug         Made used "pin" connectors non-graphical (otherwise, there
               are difficulties to connect to Plug).

  Electrical.M 
  ultiPhase.So 
  urces.       

  SineCurrent  Changed wrong type of parameter offset from SIunits.Voltage
               to SIunits.Current.

  Mechanics.Mu 
  ltiBody.Exam 
  ples.Loops.  

  EngineV6     Corrected wrong crankAngleOffset of some cylinders and
               improved the example.

  Mechanics.Mu 
  ltiBody.Exam 
  ples.Loops.U 
  tilities.    

  GasForce     Wrong units corrected: "SIunitsPosition x,y" to "Real x,y";
               "SIunits.Pressure press" to
               "SIunits.Conversions.NonSIunits.Pressure_bar"

  GasForce2    Wrong unit corrected: "SIunits.Position x" to "Real x".

  EngineV6_ana Corrected wrong crankAngleOffset of some cylinders.
  lytic        

  Mechanics.Mu 
  ltiBody.Inte 
  rfaces.      

  PartialLineF Corrected wrong unit: "SIunits.Position eRod_a" to "Real
  orce         eRod_a";

  FlangeWithBe If includeBearingConnector = false, connector "fr" + "ame"
  aringAdaptor was not removed. As long as the connecting element to
               "frame" determines the non-flow variables, this is fine. In
               the corrected version, "frame" is conditionally removed in
               this case.

  Mechanics.Mu 
  ltiBody.Forc 
  es.          

  ForceAndTorq Corrected wrong unit: "SIunits.Force t_b_0" to
  ue           "SIunits.Torque t_b_0".

  LineForceWit Corrected wrong unit: "SIunits.Position e_rel_0" to "Real
  hTwoMasses   e_rel_0".

  Mechanics.Mu 
  ltiBody.Fram 
  es.          

  axisRotation Corrected wrong unit: "SIunits.Angle der_angle" to
               "SIunits.AngularVelocity der_angle".

  Mechanics.Mu 
  ltiBody.Join 
  ts.Assemblie 
  s.           

  JointUSP     Corrected wrong unit: "SIunits.Position aux" to "Real"
  JointSSP     

  Mechanics.Mu 
  ltiBody.Sens 
  ors.         

  AbsoluteSens Corrected wrong units: "SIunits.Acceleration angles" to
  or           "SIunits.Angle angles" and "SIunits.Velocity w_abs_0" to
               "SIunits.AngularVelocity w_abs_0"

  RelativeSens Corrected wrong units: "SIunits.Acceleration angles" to
  or           "SIunits.Angle angles"

  Distance     Corrected wrong units: "SIunits.Length L2" to "SIunits.Area
               L2" and SIunits.Length s_small2" to "SIunits.Area s_small2"

  Mechanics.Mu 
  ltiBody.Visu 
  alizers.Adva 
  nced.        

  Shape        Changed "MultiBody.Types.Color color" to "Real color[3]",
               since "Types.Color" is "Integer color[3]" and there have
               been backward compatibility problems with models using
               "color" before it was changed to "Types.Color".

  Mechanics.Ro 
  tational.Int 
  erfaces.     

  FrictionBase Rewrote equations with new variables
               "unitAngularAcceleration" and "unitTorque" in order that
               the equations are correct with respect to units
               (previously, variable "s" can be both a torque and an
               angular acceleration and this lead to unit
               incompatibilities)

  Mechanics.Ro 
  tational.    

  OneWayClutch Rewrote equations with new variables
  LossyGear    "unitAngularAcceleration" and "unitTorque" in order that
               the equations are correct with respect to units
               (previously, variable "s" can be both a torque and an
               angular acceleration and this lead to unit
               incompatibilities)

  Mechanics.Tr 
  anslational. 
  Interfaces.  

  FrictionBase Rewrote equations with new variables
               "unitAngularAcceleration" and "unitTorque" in order that
               the equations are correct with respect to units
               (previously, variable "s" can be both a torque and an
               angular acceleration and this lead to unit
               incompatibilities)

  Mechanics.Tr 
  anslational. 

  Speed        Corrected unit of v_ref from SIunits.Position to
               SIunits.Velocity

  Media.Exampl 
  es.Tests.Com 
  ponents.     

  PartialTestM Corrected unit of h_start from "SIunits.Density" to
  odel         "SIunits.SpecificEnthalpy"
  PartialTestM 
  odel2        

  Media.Exampl 
  es.SolveOneN 
  onlinearEqua 
  tion.        

  Inverse_sh_T Rewrote equations so that dimensional (unit) analysis is
  InverseIncom correct"
  pressible_sh 
  _T           
      Inverse_ 
  sh_TX        
               
               

  Media.Incomp 
  ressible.Exa 
  mples.       

  TestGlycol   Rewrote equations so that dimensional (unit) analysis is
               correct"

  Media.Interf 
  aces.Partial 
  TwoPhaseMedi 
  um.          

  dBubbleDensi Changed wrong type of ddldp from "DerDensityByEnthalpy" to
  ty_dPressure "DerDensityByPressure".
  dDewDensity_ 
  dPressure    

  Media.Common 
  .ThermoFluid 
  Special.     

  ThermoProper Changed wrong units: "SIunits.DerEnergyByPressure dupT" to
  ties         "Real dupT" and "SIunits.DerEnergyByDensity dudT" to "Real
               dudT"

  ThermoProper Changed wrong unit from "SIunits.DerEnergyByPressure duph"
  ties_ph      to "Real duph"

  ThermoProper Changed wrong unit from "SIunits.DerEnergyByPressure dupT"
  ties_pT      to "Real dupT"

  ThermoProper Changed wrong unit from "SIunits.DerEnergyByDensity dudT"
  ties_dT      to "Real dudT"

  Media.IdealG 
  ases.Common. 
  SingleGasNas 
  a.           

  cp_Tlow_der  Changed wrong unit from "SIunits.Temperature dT" to "Real
               dT".

  Media.Water. 
  IF97_Utiliti 
  es.BaseIF97. 
  Basic.       

  p1_hs        Changed wrong unit of variables h/hstar, s, sstar from
      h2ab_s   "SIunits.Enthalpy" to "SIunits.SpecificEnthalpy",
      p2a_hs   "SIunits.SpecificEntropy", "SIunits.SpecificEntropy
      p2b_hs   
      p2c_hs   
      h3ab_p   
      T3a_ph   
      T3b_ph   
      v3a_ph   
      v3b_ph   
      T3a_ps   
      T3b_ps   
      v3a_ps   
      v3b_ps   
               
               

  Media.Water. 
  IF97_Utiliti 
  es.BaseIF97. 
  Transport.   

  cond_dTp     Changed wrong unit of TREL, rhoREL, lambdaREL from
               "SIunits.Temperature", "SIunit.Density",
               "SIunits.ThermalConductivity" to "Real".

  Media.Water. 
  IF97_Utiliti 
  es.BaseIF97. 
  Inverses.    

  tofps5       Changed wrong unit of pros from "SIunits.SpecificEnthalpy"
  tofpst5      to "SIunits.SpecificEntropy".

  Media.Water. 
  IF97_Utiliti 
  es.          

  waterBasePro Improved calculation at the limits of the validity.
  p_ph         

  Thermal.     

  FluidHeatFlo Corrected wrong unit "SIunits.Temperature" of difference
  w            temperature variables with "SIunits.TemperatureDifference".
  HeatTransfer 
  ------------ -----------------------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image34] Modelica.UsersGuide.ReleaseNotes.Version_2_2_1
========================================================

::

Version 2.2.1 is backward compatible to version 2.2.

In this version, no new libraries have been added. The following major
improvements have been made:

-   The Documentation of the Modelica standard library was considerably
    improved: In Dymola 6, the new feature was introduced to
    automatically add tables for class content and component interface
    definitions (parameters and connectors) to the info layer. For this
    reason, the corresponding (partial) tables previously present in the
    Modelica Standard Library have been removed. The new feature of
    Dymola 6 has the significant advantage that all tables are now
    guaranteed to be up-to-date. Additionally, the documentation has
    been improved by adding appropriate description texts to parameters,
    connector instances, function input and output arguments etc., in
    order that the automatically generated tables do not have empty
    entries. Also new User's Guides for sublibraries Rotational and
    SIunits have been added and the User's Guide on top level
    (Modelica.UsersGuide) has been improved.
-   Initialization options have been added to the
    Modelica.Blocks.Continuous blocks (NoInit, SteadyState,
    InitialState, InitialOutput). If InitialOutput is selected, the
    block output is provided as initial condition. The states of the
    block are then initialized as close as possible to steady state.
    Furthermore, the Continuous.LimPID block has been significantly
    improved and much better documented.
-   The Modelica.Media library has been significantly improved:
        New functions setState_pTX, setState_phX, setState_psX,

    setState_dTX have been added to PartialMedium to compute the
    independent medium variables (= state of medium) from p,T,X, or from
    p,h,X or from p,s,X or from d,T,X. Then functions are provided for
    all interesting medium variables to compute them from its medium
    state. All these functions are implemented in a robust way for all
    media (with a few exceptions, if the generic function does not make
    sense for a particular medium).

The following new components have been added to existing libraries:

  --------------- --------------------------------------------------------
  Modelica.Blocks 
  .Examples.      

  PID_Controller  Example to demonstrate the usage of the
                  Blocks.Continuous.LimPID block.

  Modelica.Blocks 
  .Math.          

  UnitConversions New package that provides blocks for unit conversions.
  .*              UnitConversions.ConvertAllBlocks allows to select all
                  available conversions from a menu.

  Modelica.Electr 
  ical.Machines.B 
  asicMachines.Sy 
  nchronousInduct 
  ionMachines.    

  SM_ElectricalEx Electrical excited synchronous induction machine with
  citedDamperCage damper cage

  Modelica.Electr 
  ical.Machines.B 
  asicMachines.Co 
  mponents.       

  ElectricalExcit Electrical excitation for electrical excited synchronous
  ation           induction machines

  DamperCage      Unsymmetrical damper cage for electrical excited
                  synchronous induction machines. At least the user has to
                  specify the dampers resistance and stray inductance in
                  d-axis; if he omits the parameters of the q-axis, the
                  same values as for the d.axis are used, assuming a
                  symmetrical damper.

  Modelica.Electr 
  ical.Machines.E 
  xamples.        

  SMEE_Gen        Test example 7:
                  ElectricalExcitedSynchronousInductionMachine as
                  Generator

  Utilities.Termi Terminal box for three-phase induction machines to
  nalBox          choose either star (wye) ? or delta ? connection

  Modelica.Math.M 
  atrices.        

  equalityLeastSq Solve a linear equality constrained least squares
  uares           problem:
                      min|A*x-a|^2 subject to B*x=b
                  
                  

  Modelica.Mechan 
  ics.MultiBody.  

  Parts.PointMass Point mass, i.e., body where inertia tensor is
                  neglected.

  Interfaces.Flan Connector consisting of 1-dim. rotational flange and its
  geWithBearing   3-dim. bearing frame.

  Interfaces.Flan Adaptor to allow direct connections to the
  geWithBearingAd sub-connectors of FlangeWithBearing.
  aptor           

  Types.SpecularC New type to define a specular coefficient.
  oefficient      

  Types.ShapeExtr New type to define the extra data for visual shape
  a               objects and to have a central place for the
                  documentation of this data.

  Modelica.Mechan 
  ics.MultiBody.E 
  xamples.Element 
  ary             

  PointGravityWit Example of two point masses in a central gravity field.
  hPointMasses    

  Modelica.Mechan 
  ics.Rotational. 

  UsersGuide      A User's Guide has been added by using the documentation
                  previously present in the package documentation of
                  Rotational.

  Sensors.PowerSe New component to measure the energy flow between two
  nsor            connectors of the Rotational library.

  Modelica.Mechan 
  ics.Translation 
  al.             

  Speed           New component to move a translational flange according
                  to a reference speed

  Modelica.Media. 
  Interfaces.Part 
  ialMedium.      

  specificEnthalp New function to compute specific enthalpy from pressure,
  y_pTX           temperature and mass fractions.

  temperature_phX New function to compute temperature from pressure,
                  specific enthalpy, and mass fractions.

  Modelica.Icons. 

  SignalBus       Icon for signal bus

  SignalSubBus    Icon for signal sub-bus

  Modelica.SIunit 
  s.              

  UsersGuide      A User's Guide has been added that describes unit
                  handling.

  Resistance      Attribute 'min=0' removed from these types.
      Conductance 
                  
                  

  Modelica.Therma 
  l.FluidHeatFlow 
  .               

  Components.Valv Simple controlled valve with either linear or
  e               exponential characteristic.

  Sources.        Simple ideal pump (resp. fan) dependent on the shaft?s
  IdealPump       speed; pressure increase versus volume flow is defined
                  as a linear function. Torque * Speed = Pressure invrease
                  * Volume flow (without losses).

  Examples.PumpAn Test example for valves.
  dValve          

  Examples.PumpDr Drop out of 1 pump to test behavior of semiLinear.
  opOut           

  Examples.Parall Drop out of 2 parallel pumps to test behavior of
  elPumpDropOut   semiLinear.

  Examples.OneMas Cooling of 1 hot mass to test behavior of semiLinear.
  s               

  Examples.TwoMas Cooling of 2 hot masses to test behavior of semiLinear.
  s               
  --------------- --------------------------------------------------------

The following components have been improved:

Modelica.

UsersGuide

User's Guide and package description of Modelica Standard Library
improved.

Modelica.Blocks.Interfaces.

RealInput
    BooleanInput IntegerInput

When dragging one of these connectors the width and height is a factor
of 2 larger as a standard icon. Previously, these connectors have been
dragged and then manually enlarged by a factor of 2 in the Modelica
standard library.

Modelica.Blocks.

Continuous.*

Initialization options added to all blocks (NoInit, SteadyState,
InitialState, InitialOutput). New parameter limitsAtInit to switch off
the limits of LimIntegrator or LimPID during initialization

Continuous.LimPID

Option to select P, PI, PD, PID controller. Documentation significantly
improved.

Nonlinear.Limiter
    Nonlinear.VariableLimiter Nonlinear.Deadzone

New parameter limitsAtInit/deadZoneAtInit to switch off the limits or
the dead zone during initialization

Modelica.Electrical.Analog.

Sources

Icon improved (+/- added to voltage sources, arrow added to current
sources).

Modelica.Electrical.Analog.Semiconductors.

Diode

smooth() operator included to improve numerics.

Modelica.Electrical.Machines.BasicMachines.SynchronousInductionMachines.

SM_PermanentMagnetDamperCage
    SM_ElectricalExcitedDamperCage SM_ReluctanceRotorDamperCage

The user can choose "DamperCage = false" (default: true) to remove all
equations for the damper cage from the model.

Modelica.Electrical.Machines.BasicMachines.AsynchronousInductionMachines.

AIM_SlipRing

Easier parameterization: if the user selects "useTrunsRatio = false"
(default: true, this is the same behavior as before), parameter
TurnsRatio is calculated internally from Nominal stator voltage and
Locked-rotor voltage.

Modelica.Math.Matrices.

leastSquares

The A matrix in the least squares problem might be rank deficient.
Previously, it was required that A has full rank.

Modelica.Mechanics.MultiBody.

all models

-   All components with animation information have a new variable
    specularCoefficient to define the reflection of ambient light. The
    default value is world.defaultSpecularCoefficient which has a
    default of 0.7. By changing world.defaultSpecularCoefficient, the
    specularCoefficient of all components is changed that are not
    explicitly set differently. Since specularCoefficient is a variable
    (and no parameter), it can be changed during simulation. Since
    annotation(Dialog) is set, this variable still appears in the
    parameter menus. Previously, a constant specularCoefficient of 0.7
    was used for all components.
-   Variable color of all components is no longer a parameter but an
    input variable. Also all parameters in package Visualizers, with the
    exception of shapeType are no longer parameters but defined as input
    variables with annotation(Dialog). As a result, all these variables
    appear still in parameter menus, but they can be changed during
    simulation (e.g., color might be used to display the temperature of
    a part).
-   All menus have been changed to follow the Modelica 2.2 annotations
    "Dialog, group, tab, enable" (previously, a non-standard Dymola
    definition for menus was used). Also, the "enable" annotation is
    used in all menus to disable input fields if the input would be
    ignored.
-   All visual shapes are now defined with conditional declarations (to
    remove them, if animation is switched off). Previously, these
    (protected) objects have been defined by arrays with dimension 0 or
    1.

Frames.resolveRelative

The derivative of this function added as function and defined via an
annotation. In certain situations, tools had previously difficulties to
differentiate the inlined function automatically.

Forces.*

The scaling factors N_to_m and Nm_to_m have no longer a default value of
1000 but a default value of world.defaultN_to_m (=1000) and
world.defaultNm_to_m (=1000). This allows to change the scaling factors
for all forces and torques in the world object.

Interfaces.Frame.a
    Interfaces.Frame.b Interfaces.Frame_resolve

The Frame connectors are now centered around the origin to ease the
usage. The shape was changed, such that the icon is a factor of 1.6
larger as a standard icon (previously, the icon had a standard size when
dragged and then the icon was manually enlarged by a factor of 1.5 in
the y-direction in the MultiBody library; the height of 16 allows easy
positioning on the standard grid size of 2). The double line width of
the border in icon and diagram layer was changed to a single line width
and when making a connection the connection line is dark grey and no
longer black which looks better.

Joints.Assemblies.*

When dragging an assembly joint, the icon is a factor of 2 larger as a
standard icon. Icon texts and connectors have a standard size in this
enlarged icon (and are not a factor of 2 larger as previously).

Types.*

All types have a corresponding icon now to visualize the content in the
package browser (previously, the types did not have an icon).

Modelica.Mechanics.Rotational.

Inertia

Initialization and state selection added.

SpringDamper

Initialization and state selection added.

Move

New implementation based solely on Modelica 2.2 language (previously,
the Dymola specific constrain(..) function was used).

Modelica.Mechanics.Translational.

Move

New implementation based solely on Modelica 2.2 language (previously,
the Dymola specific constrain(..) function was used).

Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.

SimpleFriction

Calculates friction losses from pressure drop and volume flow.

Modelica.Thermal.FluidHeatFlow.Components.

IsolatedPipe
    HeatedPipe

Added geodetic height as a source of pressure change; feeds friction
losses as calculated by simple friction to the energy balance of the
medium.

Modelica.Media.Interfaces.PartialMedium.FluidConstants.

HCRIT0

Critical specifc enthalpy of the fundamental equation (base formulation
of the fluid medium model).

SCRIT0

Critical specifc entropy of the fundamental equation (base formulation
of the fluid medium model).

deltah

Enthalpy offset (default: 0) between the specific enthalpy of the fluid
model and the user-visible specific enthalpy in the model: deltah =
h_model - h_fundamentalEquation.

deltas

Entropy offset (default: 0) between the specific entropy of the fluid
model and the user-visible specific entropy in the model: deltas =
s_model - s_fundamentalEquation.

T_default

Default value for temperature of medium (for initialization)

h_default

Default value for specific enthalpy of medium (for initialization)

p_default

Default value for pressure of medium (for initialization)

X_default

Default value for mass fractions of medium (for initialization)

The following errors have been fixed:

  ---------- -------------------------------------------------------------
  Modelica.B 
  locks.Tabl 
  es.        

  CombiTable Parameter "tableOnFile" determines now whether a table is
  1D         read from file or used from parameter "table". Previously, if
      CombiT "fileName" was not "NoName", a table was always read from
  able1Ds    file "fileName", independently of the setting of
      CombiT "tableOnFile". This has been corrected.
  able2D         Furthermore, the initialization of a table is now
                 performed in a when-clause and no longer in a parameter
                 declaration, because some tools evaluate the parameter
                 declaration in some situation more than once and then the
                 table is unnecessarily read several times (and occupies
                 also more memory).
             
             

  Modelica.B 
  locks.Sour 
  ces.       

  CombiTimeT Same bug fix/improvement as for the tables from
  able       Modelica.Blocks.Tables as outlined above.

  Modelica.E 
  lectrical. 
  Analog.Sem 
  iconductor 
  s.         

  PMOS       The Drain-Source-Resistance RDS had actually a resistance of
      NMOS   RDS/v, with v=Beta*(W+dW)/(L+dL). The correct formula is
      Heatin without the divison by "v". This has now been corrected.
  gPMOS          This bug fix should not have an essential effect in most
      Heatin     applications. In the default case (Beta=1e-5), the
  gNMOS          Drain-Source-Resistance was a factor of 1e5 too large and
                 had in the default case the wrong value 1e12, although it
                 should have the value 1e7. The effect was that this
                 resistance had practically no effect.
             
             

  Modelica.M 
  edia.Ideal 
  Gases.Comm 
  on.SingleG 
  asNasa.    

  dynamicVis Viscosity and thermal conductivity (which needs viscosity as
  cosityLowP input) were computed wrong for polar gases and gas mixtures
  ressure    (i.e., if dipole moment not 0.0). This has been fixed in
             version 2.2.1.

  Modelica.U 
  tilities.S 
  treams.    

  readLine   Depending on the C-implementation, the stream was not
             correctly closed. This has been corrected by adding a
             "Streams.close(..)" after reading the file content.
  ---------- -------------------------------------------------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image35] Modelica.UsersGuide.ReleaseNotes.Version_2_2
======================================================

::

Version 2.2 is backward compatible to version 2.1.

The following new libraries have been added:

Modelica.Media

Property models of liquids and gases, especially

-   1241 detailed gas models,
-   moist air,
-   high precision water model (according to IAPWS/IF97 standard),
-   incompressible media defined by tables (cp(T), rho(t), eta(T), etc.
    are defined by tables).

The user can conveniently define mixtures of gases between the 1241 gas
models. The models are designed to work well in dynamic simulations.
They are based on a new standard interface for media with single and
multiple substances and one or multiple phases with the following
features:

-   The independent variables of a medium model do not influence the
    definition of a fluid connector port or how the balance equations
    have to be implemented. Used independent variables: "p,T", "p,T,X",
    "p,h", "d,T".
-   Optional variables, e.g., dynamic viscosity, are only computed if
    needed.
-   
-   The medium models are implemented with regards to efficient dynamic
    simulation.

Modelica.Thermal.FluidHeatFlow

Simple components for 1-dim., incompressible thermo-fluid flow to model
coolant flows, e.g., of electrical machines. Components can be connected
arbitrarily together (= ideal mixing at connection points) and fluid may
reverse direction of flow.

The following changes have been performed in the
Modelica.Mechanics.MultiBody library:

-   Component MultiBody.World has a new parameter driveTrainMechanics3D.
    If set to true, 3D mechanical effects of
    MultiBody.Parts.Mounting1D/Rotor1D/BevelGear1D are taken into
    account. If set to false (= default), 3D mechanical effects in these
    elements are not taken into account and the frame connectors to
    connect to 3D parts are disabled (all connections to such a disabled
    connector are also disabled, due to the new feature of conditional
    declarations in Modelica language 2.2)
-   All references to "MultiBody.xxx" have been changed to
    "Modelica.Mechanics.MultiBodys.xxx" in order that after copying of a
    component outside of the Modelica library, the references still
    remain valid.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image36] Modelica.UsersGuide.ReleaseNotes.Version_2_1
======================================================

::

This is a major change with respect to previous versions of the Modelica
Standard Library, because many new libraries and components are included
and because the input/output blocks (Modelica.Blocks) have been
considerably simplified:

-   An input/output connector is defined without a hierarchy (this is
    possible due to new features of the Modelica language). For example,
    the input signal of a block "FirstOrder" was previously accessed as
    "FirstOrder.inPort.signal[1]". Now it is accessed as "FirstOrder.u".
    This simplifies the understanding and usage especially for
    beginners.
-   De-vectorized the Modelica.Blocks library. All blocks in the
    Modelica.Blocks library are now scalar blocks. As a result, the
    parameters of the Blocks are scalars and no vectors any more. For
    example, a parameter "amplitude" that might had a value of "{1}"
    previously, has now a value of "1". This simplifies the
    understanding and usage especially for beginners. If a vector of
    blocks is needed, this can be easily accomplished by adding a
    dimension to the instance. For example "Constant const[3](k={1,2,3}"
    defines three Constant blocks. An additional advantage of the new
    approach is that the implementation of Modelica.Blocks is much
    simpler and is easier to understand.

The discussed changes of Modelica.Blocks are not backward compatible. A
script to automatically convert models to this new version is provided.
There might be rare cases, where this script does not convert. In this
case models have to be manually converted. In any case you should make a
back-up copy of your model before automatic conversion is performed.

The following new libraries have been added:

Modelica.Electrical.Digital

Digital electrical components based on 2-,3-,4-, and 9-valued logic
    according to the VHDL standard

Modelica.Electrical.Machines

Asynchronous, synchronous and DC motor and generator models

Modelica.Math.Matrices

Functions operatinng on matrices such as solve() (A*x=b),
leastSquares(), norm(), LU(), QR(), eigenValues(), singularValues(),
exp(), ...

Modelica.StateGraph

Modeling of discrete event and reactive systems in a convenient way
using hierarchical state machines and Modelica as action language. It is
based on JGraphChart and Grafcet and has a similar modeling power as
StateCharts. It avoids deficiences of usually used action languages.
This library makes the ModelicaAdditions.PetriNets library obsolet.

Modelica.Utilities.Files

Functions to operate on files and directories (copy, move, remove files
etc.)

Modelica.Utilities.Streams

Read from files and write to files (print, readLine, readFile, error,
...)

Modelica.Utilities.Strings

Operations on strings (substring, find, replace, sort, scanToken, ...)

Modelica.Utilities.System

Get/set current directory, get/set environment variable, execute shell
command, etc.

The following existing libraries outside of the Modelica standard
library have been improved and added as new libraries (models using the
previous libraries are automatically converted to the new sublibraries
inside package Modelica):

  ------------------------------------- ----------------------------------
  Modelica.Blocks.Discrete              Discrete input/output blocks with
                                        fixed sample period
                                            (from
                                            ModelicaAdditions.Blocks.Discr
                                        ete)
                                        
                                        

  Modelica.Blocks.Logical               Logical components with Boolean
                                        input and output signals
                                            (from
                                            ModelicaAdditions.Blocks.Logic
                                        al)
                                        
                                        

  Modelica.Blocks.Nonlinear             Discontinuous or
                                        non-differentiable algebraic
                                        control blocks such as variable
                                        limiter,
                                            fixed, variable and Pade delay
                                            etc. (from
                                            ModelicaAdditions.Blocks.Nonli
                                        near)
                                        
                                        

  Modelica.Blocks.Routing               Blocks to combine and extract
                                        signals, such as multiplexer
                                            (from
                                            ModelicaAdditions.Blocks.Multi
                                        plexer)
                                        
                                        

  Modelica.Blocks.Tables                One and two-dimensional
                                        interpolation in tables.
                                        CombiTimeTable is available
                                            in Modelica.Blocks.Sources
                                            (from
                                            ModelicaAdditions.Tables)
                                        
                                        

  Modelica.Mechanics.MultiBody          Components to model the movement
                                        of 3-dimensional mechanical
                                        systems. Contains
                                            body, joint, force and sensor
                                            components, analytic handling
                                            of kinematic loops, force
                                            elements with mass,
                                            series/parallel connection of
                                            3D force elements etc. (from
                                            MultiBody 1.0 where the new
                                            signal connectors are used;
                                            makes the
                                            ModelicaAdditions.MultiBody
                                            library obsolet)
                                        
                                        
  ------------------------------------- ----------------------------------

As a result, the ModelicaAdditions library is obsolet, because all
components are either included in the Modelica library or are replaced
by much more powerful libraries (MultiBody, StateGraph).

The following new components have been added to existing libraries.

  ---------------------- -------------------------------------------------
  Modelica.Blocks.Logica 
  l.                     

  Pre                    y = pre(u): Breaks algebraic loops by an
                         infinitesimal small
                             time delay (event iteration continues until u
                             = pre(u))
                         
                         

  Edge                   y = edge(u): Output y is true, if the input u has
                         a rising edge

  FallingEdge            y = edge(not u): Output y is true, if the input u
                         has a falling edge

  Change                 y = change(u): Output y is true, if the input u
                         has a rising or falling edge

  GreaterEqual           Output y is true, if input u1 is greater or equal
                         as input u2

  Less                   Output y is true, if input u1 is less as input u2

  LessEqual              Output y is true, if input u1 is less or equal as
                         input u2

  Timer                  Timer measuring the time from the time instant
                         where the
                             Boolean input became true
                         
                         

  Modelica.Blocks.Math.  

  BooleanToReal          Convert Boolean to Real signal

  BooleanToInteger       Convert Boolean to Integer signal

  RealToBoolean          Convert Real to Boolean signal

  IntegerToBoolean       Convert Integer to Boolean signal

  Modelica.Blocks.Source 
  s.                     

  RealExpression         Set output signal to a time varying Real
                         expression

  IntegerExpression      Set output signal to a time varying Integer
                         expression

  BooleanExpression      Set output signal to a time varying Boolean
                         expression

  BooleanTable           Generate a Boolean output signal based on a
                         vector of time instants

  Modelica.Mechanics.Mul 
  tiBody.                

  Frames.from_T2         Return orientation object R from transformation
                         matrix T and its derivative der(T)

  Modelica.Mechanics.Rot 
  ational.               

  LinearSpeedDependentTo Linear dependency of torque versus speed (acts as
  rque                   load torque)

  QuadraticSpeedDependen Quadratic dependency of torque versus speed (acts
  tTorque                as load torque)

  ConstantTorque         Constant torque, not dependent on speed (acts as
                         load torque)

  ConstantSpeed          Constant speed, not dependent on torque (acts as
                         load torque)

  TorqueStep             Constant torque, not dependent on speed (acts as
                         load torque)
  ---------------------- -------------------------------------------------

The following bugs have been corrected:

  --------------------------- --------------------------------------------
  Modelica.Mechanics.MultiBod 
  y.Forces.                   

  LineForceWithMass           If mass of the line force or spring
      Spring                  component is not zero, the
                                  mass was (implicitly) treated as
                                  "mass*mass" instead of as "mass"
                              
                              

  Modelica.Mechanics.Rotation 
  al.                         

  Speed                       If parameter exact=false, the filter was
                              wrong
                                  (position was filtered and not the speed
                                  input signal)
                              
                              
  --------------------------- --------------------------------------------

Other changes:

-   All connectors are now smaller in the diagram layer. This gives a
    nicer layout when connectors and components are used together in a
    diagram
-   Default instance names are defined for all connectors, according to
    a new annotation introduced in Modelica 2.1. For example, when
    dragging connector "Flange_a" from the Rotational library to the
    diagram layer, the default connector instance name is "flange_a" and
    not "Flange_a1".
-   The Modelica.Mechanics.Rotational connectors are changed from a
    square to a circle
-   The Modelica.Mechanics.Translational connectors are changed from a
    green to a dark green color in order that connection lines can be
    better seen, especially when printed.
-   The Modelica.Blocks connectors for Real signals are changed from
    blue to dark blue in order to distinguish them from electrical
    signals.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image37] Modelica.UsersGuide.ReleaseNotes.Version_1_6
======================================================

::

Added 1 new library (Electrical.MultiPhase), 17 new components, improved
3 existing components in the Modelica.Electrical library and improved 3
types in the Modelica.SIunits library. Furthermore, this User's Guide
has been started. The improvements in more detail:

New components

  --------------------------------- --------------------------------------
  Modelica.Electrical.Analog.Basic. 

  SaturatingInductor                Simple model of an inductor with
                                    saturation

  VariableResistor                  Ideal linear electrical resistor with
                                    variable resistance

  VariableConductor                 Ideal linear electrical conductor with
                                    variable conductance

  VariableCapacitor                 Ideal linear electrical capacitor with
                                    variable capacitance

  VariableInductor                  Ideal linear electrical inductor with
                                    variable inductance

  Modelica.Electrical.Analog.Semico 
  nductors.                         

  HeadingDiode                      Simple diode with heating port

  HeadingNMOS                       Simple MOS Transistor with heating
                                    port

  HeadingPMOS                       Simple PMOS Transistor with heating
                                    port

  HeadingNPN                        Simple NPN BJT according to Ebers-Moll
                                    with heating port

  HeadingPNP                        Simple PNP BJT according to Ebers-Moll
                                    with heating port

  Modelica.Electrical.MultiPhase    
      A new library for multi-phase 
      electrical circuits           
                                    
                                    
  --------------------------------- --------------------------------------

New examples

The following new examples have been added to
Modelica.Electrical.Analog.Examples:

CharacteristicThyristors, CharacteristicIdealDiodes, HeatingNPN_OrGate,
HeatingMOSInverter, HeatingRectifier, Rectifier, ShowSaturatingInductor
ShowVariableResistor

Improved existing components

In the library Modelica.Electrical.Analog.Ideal, a knee voltage has been
introduced for the components IdealThyristor, IdealGTOThyristor,
IdealDiode in order that the approximation of these ideal elements is
improved with not much computational effort.

In the Modelica.SIunits library, the following changes have been made:

  ----------------------------- ------------------
  Inductance                    min=0 removed
  SelfInductance                min=0 added
  ThermodynamicTemperature      min=0 added
  ----------------------------- ------------------

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image38] Modelica.UsersGuide.ReleaseNotes.Version_1_5
======================================================

::

Added 55 new components. In particular, added new package
Thermal.HeatTransfer for modeling of lumped heat transfer, added model
LossyGear in Mechanics.Rotational to model gear efficiency and bearing
friction according to a new theory in a robust way, added 10 new models
in Electrical.Analog and added several other new models and improved
existing models.

New components

  ---------------------- -------------------------------------------------
  Modelica.Blocks.       

  Continuous.Der         Derivative of input (= analytic differentations)

  Examples               Demonstration examples of the components of this
                         package

  Nonlinear.VariableLimi Limit the range of a signal with variable limits
  ter                    

  Modelica.Blocks.Interf 
  aces.                  

  RealPort               Real port (both input/output possible)

  IntegerPort            Integer port (both input/output possible)

  BooleanPort            Boolean port (both input/output possible)

  SIMO                   Single Input Multiple Output continuous control
                         block

  IntegerBlockIcon       Basic graphical layout of Integer block

  IntegerMO              Multiple Integer Output continuous control block

  IntegerSignalSource    Base class for continuous Integer signal source

  IntegerMIBooleanMOs    Multiple Integer Input Multiple Boolean Output
                         continuous control block with same number of
                         inputs and outputs

  BooleanMIMOs           Multiple Input Multiple Output continuous control
                         block with same number of inputs and outputs of
                         boolean type

  BusAdaptors            Components to send signals to the bus or receive
                         signals from the bus

  Modelica.Blocks.Math.  

  RealToInteger          Convert real to integer signals

  IntegerToReal          Convert integer to real signals

  Max                    Pass through the largest signal

  Min                    Pass through the smallest signal

  Edge                   Indicates rising edge of boolean signal

  BooleanChange          Indicates boolean signal changing

  IntegerChange          Indicates integer signal changing

  Modelica.Blocks.Source 
  s.                     

  IntegerConstant        Generate constant signals of type Integer

  IntegerStep            Generate step signals of type Integer

  Modelica.Electrical.An 
  alog.Basic.            

  HeatingResistor        Temperature dependent electrical resistor

  OpAmp                  Simple nonideal model of an OpAmp with limitation

  Modelica.Electrical.An 
  alog.Ideal.            

  IdealCommutingSwitch   Ideal commuting switch

  IdealIntermediateSwitc Ideal intermediate switch
  h                      

  ControlledIdealCommuti Controlled ideal commuting switch
  ngSwitch               

  ControlledIdealInterme Controlled ideal intermediate switch
  diateSwitch            

  IdealOpAmpLimited      Ideal operational amplifier with limitation

  IdealOpeningSwitch     Ideal opener

  IdealClosingSwitch     Ideal closer

  ControlledIdealOpening Controlled ideal opener
  Switch                 

  ControlledIdealClosing Controlled ideal closer
  Switch                 

  Modelica.Electrical.An 
  alog.Lines.            

  TLine1                 Lossless transmission line (Z0, TD)

  TLine2                 Lossless transmission line (Z0, F, NL)

  TLine2                 Lossless transmission line (Z0, F)

  Modelica.Icons.        

  Function               Icon for a function

  Record                 Icon for a record

  Enumeration            Icon for an enumeration

  Modelica.Math.         

  tempInterpol2          temporary routine for vectorized linear
                         interpolation (will be removed)

  Modelica.Mechanics.Rot 
  ational.               

  Examples.LossyGearDemo Example to show that gear efficiency may lead to
  1                      stuck motion

  Examples.LossyGearDemo Example to show combination of LossyGear and
  2                      BearingFriction

  LossyGear              Gear with mesh efficiency and bearing friction
                         (stuck/rolling possible)

  Gear2                  Realistic model of a gearbox (based on LossyGear)

  Modelica.SIunits.      

  Conversions            Conversion functions to/from non SI units and
                         type definitions of non SI units

  EnergyFlowRate         Same definition as Power

  EnthalpyFlowRate       Real (final quantity="EnthalpyFlowRate", final un
                         it="W")

  Modelica.              

  Thermal.HeatTransfer   1-dimensional heat transfer with lumped elements

  ModelicaAdditions.Bloc 
  ks.Discrete.           

  TriggeredSampler       Triggered sampling of continuous signals

  TriggeredMax           Compute maximum, absolute value of continuous
                         signal at trigger instants

  ModelicaAdditions.Bloc 
  ks.Logical.Interfaces. 

  BooleanMIRealMOs       Multiple Boolean Input Multiple Real Output
                         continuous control block with same number of
                         inputs and outputs

  RealMIBooleanMOs       Multiple Real Input Multiple Boolean Output
                         continuous control block with same number of
                         inputs and outputs

  ModelicaAdditions.Bloc 
  ks.Logical.            

  TriggeredTrapezoid     Triggered trapezoid generator

  Hysteresis             Transform Real to Boolean with Hysteresis

  OnOffController        On-off controller

  Compare                True, if signal of inPort1 is larger than signal
                         of inPort2

  ZeroCrossing           Trigger zero crossing of input signal

  ModelicaAdditions.     

  Blocks.Multiplexer.Ext Extract scalar signal out of signal vector
  ractor                 dependent on IntegerRealInput index

  Tables.CombiTable1Ds   Table look-up in one dimension (matrix/file) with
                         only single input
  ---------------------- -------------------------------------------------

Package-specific Changes

-   All example models made encapsulated
-   Upper case constants changed to lower case (cf. Modelica.Constants)
-   Introduced Modelica.SIunits.Wavelength due to typo "Wavelenght"
-   Introduced ModelicaAdditions.Blocks.Logical.Interfaces.Comparison
    due to typo "Comparision"
-   Changed these components of *.Blocks to block class, which have not
    been already of block type
-   Changed *.Interfaces.RelativeSensor to partial models

Class-specific Changes

Modelica.SIunits

Removed final from quantity attribute for Mass and MassFlowRate.

Modelica.Blocks.Math.Sum

Implemented avoiding algorithm section, which would lead to expensive
function calls.

Modelica.Blocks.Sources.Step

    block Step "Generate step signals of type Real"
            parameter Real height[:]={1} "Heights of steps";
     // parameter Real offset[:]={0} "Offsets of output signals";
    // parameter SIunits.Time startTime[:]={0} "Output = offset for time < startTime";
    // extends Interfaces.MO          (final nout=max([size(height, 1); size(offset, 1); size(startTime, 1)]));
            extends Interfaces.SignalSource(final nout=max([size(height, 1); size(offset, 1); size(startTime, 1)]));

Modelica.Blocks.Sources.Exponentials

Replaced usage of built-in function exp by Modelica.Math.exp.

Modelica.Blocks.Sources.TimeTable

Interface definition changed from

    parameter Real table[:, :]=[0, 0; 1, 1; 2, 4] "Table matrix (time = first column)";

to

    parameter Real table[:, 2]=[0, 0; 1, 1; 2, 4] "Table matrix (time = first column)";

Did the same for subfunction getInterpolationCoefficients.

Bug in getInterpolationCoefficients for startTime <> 0 fixed:

    ...
            end if;
      end if;
      // Take into account startTime "a*(time - startTime) + b"
      b := b - a*startTime;
    end getInterpolationCoefficients;

Modelica.Blocks.Sources.BooleanStep

    block BooleanStep "Generate step signals of type Boolean"
            parameter SIunits.Time startTime[:]={0} "Time instants of steps";
            parameter Boolean startValue[size(startTime, 1)]=fill(false, size(startTime, 1)) "Output before startTime";
            extends Interfaces.BooleanSignalSource(final nout=size(startTime, 1));
    equation
            for i in 1:nout loop
    //   outPort.signal[i] = time >= startTime[i];
              outPort.signal[i] = if time >= startTime[i] then not startValue[i] else startValue[i];
            end for;
    end BooleanStep;

Modelica.Electrical.Analog

Corrected table of values and default for Beta by dividing them by 1000
(consistent with the values used in the NAND-example model):

-   Semiconductors.PMOS
-   Semiconductors.NMOS

Corrected parameter defaults, unit and description for TrapezoidCurrent.
This makes the parameters consistent with their use in the model. Models
specifying parameter values are not changed. Models not specifying
parameter values did not generate trapezoids previously.

Icon layer background changed from transparent to white:

-   Basic.Gyrator
-   Basic.EMF
-   Ideal.Idle
-   Ideal.Short

Basic.Transformer: Replaced invalid escape characters '\ ' and
'\[newline]' in documentation by '|'.

Modelica.Mechanics.Rotational

Removed arrows and names documentation from flanges in diagram layer

Modelica.Mechanics.Rotational.Interfaces.FrictionBase

Modelica.Mechanics.Rotational.Position

Replaced reinit by initial equation

Modelica.Mechanics.Rotational.RelativeStates

Bug corrected by using modifier stateSelect = StateSelect.prefer as
implementation

Modelica.Mechanics.Translational.Interfaces.flange_b

Attribute fillColor=7 added to Rectangle on Icon layer, i.e., it is now
filled with white and not transparent any more.

Modelica.Mechanics.Translational.Position

Replaced reinit by initial equation

Modelica.Mechanics.Translational.RelativeStates

Bug corrected by using modifier stateSelect = StateSelect.prefer as
implementation

Modelica.Mechanics.Translational.Stop

Use stateSelect = StateSelect.prefer.

Modelica.Mechanics.Translational.Examples.PreLoad

Improved documentation and coordinate system used for example.

ModelicaAdditions.Blocks.Nonlinear.PadeDelay

Replaced reinit by initial equation

ModelicaAdditions.HeatFlow1D.Interfaces

Definition of connectors Surface_a and Surface_b:
    flow SIunits.HeatFlux q; changed to

flow SIunits.HeatFlowRate q;

MultiBody.Parts.InertialSystem

Icon corrected.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

[image39] Modelica.UsersGuide.ReleaseNotes.Version_1_4
======================================================

::

-   Several minor bugs fixed.
-   New models:
        Modelica.Blocks.Interfaces.IntegerRealInput/IntegerRealOutput,
        Modelica.Blocks.Math.TwoInputs/TwoOutputs
        Modelica.Electrical.Analog.Ideal.IdealOpAmp3Pin,
        Modelica.Mechanics.Rotational.Move,
        Modelica.Mechanics.Translational.Move.

* * * * *

Version 1.4.1beta1 (February 12, 2001)

Adapted to Modelica 1.4

* * * * *

Version 1.3.2beta2 (June 20, 2000)

-   New subpackage Modelica.Mechanics.Translational
-   Changes to Modelica.Mechanics.Rotational:
        New elements:

        IdealGearR2T    Ideal gear transforming rotational in translational motion.
        Position        Forced movement of a flange with a reference angle
                                           given as input signal
        RelativeStates  Definition of relative state variables

-   Changes to Modelica.SIunits:
        Introduced new types: type Temperature =
        ThermodynamicTemperature; types DerDensityByEnthalpy,
        DerDensityByPressure,

    DerDensityByTemperature, DerEnthalpyByPressure, DerEnergyByDensity,
    DerEnergyByPressure Attribute "final" removed from min and max
    values in order that these values can still be changed to narrow the
    allowed range of values. Quantity="Stress" removed from type
    "Stress", in order that a type "Stress" can be connected to a type
    "Pressure".
-   Changes to Modelica.Icons:
        New icons for motors and gearboxes.

-   Changes to Modelica.Blocks.Interfaces:
        Introduced a replaceable signal type into

    Blocks.Interfaces.RealInput/RealOutput:

        replaceable type SignalType = Real

    in order that the type of the signal of an input/output block can be
    changed to a physical type, for example:

        Sine sin1(outPort(redeclare type SignalType=Modelica.SIunits.Torque))

* * * * *

Version 1.3.1 (Dec. 13, 1999)

First official release of the library.

::

Extends from Modelica.Icons.ReleaseNotes (Icon for release notes in
documentation).

* * * * *

Automatically generated Fri Nov 12 16:27:32 2010.
