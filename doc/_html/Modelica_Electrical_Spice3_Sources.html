<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Electrical.Spice3.Sources</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Electrical.Spice3.Sources</h1>
</div>
<h1 id="modelica.electrical.spice3.sources"><a href="Modelica_Electrical_Spice3.html#Modelica.Electrical.Spice3">Modelica.Electrical.Spice3</a>.Sources</h1>
<p><strong>Time dependent SPICE3 voltage and current sources</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains the SPICE sources.</p>
<p><strong>Note:</strong> There are differences between SPICE3 and Modelica concerning the default values of the parameter. Therefore it is recommended to specify <strong>all</strong> parameters of the source.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_SourcesPackage.html#Modelica.Icons.SourcesPackage">Modelica.Icons.SourcesPackage</a> (Icon for packages containing sources).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="79%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_constantS.png" alt="image12" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_constant">V_constant</a></td>
<td align="left">Constant independent voltage sources</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_sinS.png" alt="image13" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_sin">V_sin</a></td>
<td align="left">Sinusoidal voltage source</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_expS.png" alt="image14" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_exp">V_exp</a></td>
<td align="left">Exponential voltage source</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_pulseS.png" alt="image15" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_pulse">V_pulse</a></td>
<td align="left">Pulse voltage source</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_pwlS.png" alt="image16" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_pwl">V_pwl</a></td>
<td align="left">Piece-wise linear voltage source</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.V_sffmS.png" alt="image17" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.V_sffm">V_sffm</a></td>
<td align="left">Single-frequency FM voltage source</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_constantS.png" alt="image18" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_constant">I_constant</a></td>
<td align="left">Constant independent current sources</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_sinS.png" alt="image19" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_sin">I_sin</a></td>
<td align="left">Sinusoidal current source</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_expS.png" alt="image20" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_exp">I_exp</a></td>
<td align="left">Exponential current source</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_pulseS.png" alt="image21" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_pulse">I_pulse</a></td>
<td align="left">Pulse current source</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_pwlS.png" alt="image22" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_pwl">I_pwl</a></td>
<td align="left">Piece-wise linear current source</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Spice3.Sources.I_sffmS.png" alt="image23" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources.I_sffm">I_sffm</a></td>
<td align="left">Single-frequency FM current source</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image24-modelica.electrical.spice3.sources.v_constant"><img src="Modelica.Electrical.Spice3.Sources.V_constantI.png" alt="image24" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_constant</h1>
<p><strong>Constant independent voltage sources</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>The V_constant source is a source is a simple constant voltage source for an ideal constant voltage which is provided by a parameter.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="53%" />
<col width="7%" />
<col width="10%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">V</td>
<td align="left">1</td>
<td align="left">Value of constant voltage [V]</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model V_constant &quot;Constant independent voltage sources&quot;
  parameter SI.Voltage V=1 &quot;Value of constant voltage&quot;;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
equation 
  v = V;
end V_constant;</code></pre>
<hr />
<h1 id="image25-modelica.electrical.spice3.sources.v_sin"><img src="Modelica.Electrical.Spice3.Sources.V_sinI.png" alt="image25" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_sin</h1>
<p><strong>Sinusoidal voltage source</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Damped sinusoidal source</p>
<h3 id="note">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="59%" />
<col width="8%" />
<col width="10%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VO</td>
<td align="left">0.0</td>
<td align="left">Offset [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VA</td>
<td align="left">0.0</td>
<td align="left">Amplitude [V]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FREQ</td>
<td align="left">
</td>
<td align="left">Frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD</td>
<td align="left">0.0</td>
<td align="left">Delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Damping">Damping</a></td>
<td align="left">THETA</td>
<td align="left">0.0</td>
<td align="left">Damping factor [s-1]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model V_sin &quot;Sinusoidal voltage source&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter SI.Voltage VO=0.0 &quot;Offset&quot;;
  parameter SI.Voltage VA=0.0 &quot;Amplitude&quot;;
  parameter SI.Frequency FREQ(start=1) &quot;Frequency&quot;;
  parameter SI.Time TD=0.0 &quot;Delay&quot;;
  parameter SI.Damping THETA=0.0 &quot;Damping factor&quot;;
protected 
    constant Real pi=Modelica.Constants.pi;
equation 
    assert(FREQ&gt;0, &quot;Frequency less or equal zero&quot;);
    v = VO + (if time &lt; TD then 0 else VA*
    Modelica.Math.exp(-(time - TD)*THETA)*Modelica.Math.sin(2*pi
    *FREQ*(time - TD)));
end V_sin;</code></pre>
<hr />
<h1 id="image26-modelica.electrical.spice3.sources.v_exp"><img src="Modelica.Electrical.Spice3.Sources.V_expI.png" alt="image26" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_exp</h1>
<p><strong>Exponential voltage source</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>Rising and falling exponential source.</p>
<h3 id="note-1">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.- it should be set all the parameters definitly

- normally, there exist differences between Dymola and Spice, because TSTEP and TSTOP are not available.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="57%" />
<col width="8%" />
<col width="10%" />
<col width="24%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">V1</td>
<td align="left">0</td>
<td align="left">Initial value [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">V2</td>
<td align="left">0</td>
<td align="left">Pulsed value [V]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD1</td>
<td align="left">0.0</td>
<td align="left">Rise delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TAU1</td>
<td align="left">1</td>
<td align="left">Rise time constant [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD2</td>
<td align="left">1</td>
<td align="left">Fall delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TAU2</td>
<td align="left">1</td>
<td align="left">Fall time constant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model V_exp &quot;Exponential voltage source&quot;
 extends Modelica.Electrical.Analog.Interfaces.OnePort;

  parameter SI.Voltage V1=0 &quot;Initial value&quot;;
  parameter SI.Voltage V2=0 &quot;Pulsed value&quot;;
  parameter SI.Time TD1=0.0 &quot;Rise delay time&quot;;
  parameter SI.Time TAU1=1 &quot;Rise time constant&quot;;
  parameter SI.Time TD2=1 &quot;Fall delay time&quot;;
  parameter SI.Time TAU2=1 &quot;Fall time constant&quot;;

equation 
v = V1 + (if (time &lt; TD1) then 0 else if (time &lt; (TD2)) then 
          (V2-V1)*(1 - Modelica.Math.exp(-(time - TD1)/TAU1)) else 
          (V2-V1)*(1 - Modelica.Math.exp(-(time - TD1)/TAU1)) +
          (V1-V2)*(1 - Modelica.Math.exp(-(time - TD2)/TAU2)));
end V_exp;</code></pre>
<hr />
<h1 id="image27-modelica.electrical.spice3.sources.v_pulse"><img src="Modelica.Electrical.Spice3.Sources.V_pulseI.png" alt="image27" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_pulse</h1>
<p><strong>Pulse voltage source</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>Periodic pulse source with not limited number of periods.</p>
<p>A single pulse is described by the following table:</p>
<h3 id="time">time</h3>
<h3 id="value">value</h3>
<p>0</p>
<p>V1</p>
<p>TD</p>
<p>V1</p>
<p>TD+TR</p>
<p>V2</p>
<p>TD+TR+PW</p>
<p>V2</p>
<p>TD+TR+PW+TF</p>
<p>V1</p>
<p>TSTOP</p>
<p>V1</p>
<p>Intermediate points are determined by linear interpolation.</p>
<p>A pulse it looks like a saw tooth, use this parameters e.g.:</p>
<h3 id="parameter">Parameter</h3>
<h3 id="value-1">Value</h3>
<p>V1</p>
<p>0</p>
<p>V2</p>
<p>1</p>
<p>TD</p>
<p>0</p>
<p>TR</p>
<p>1</p>
<p>TF</p>
<p>1</p>
<p>PW</p>
<p>2</p>
<p>PER</p>
<p>1</p>
<h3 id="note-2">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="52%" />
<col width="7%" />
<col width="22%" />
<col width="18%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">V1</td>
<td align="left">0</td>
<td align="left">Initial value [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">V2</td>
<td align="left">0</td>
<td align="left">Pulsed value [V]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD</td>
<td align="left">0.0</td>
<td align="left">Delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TR</td>
<td align="left">
</td>
<td align="left">Rise time [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TF</td>
<td align="left">TR</td>
<td align="left">Fall time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">PW</td>
<td align="left">Modelica.Constants.inf</td>
<td align="left">Pulse width [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">PER</td>
<td align="left">Modelica.Constants.inf</td>
<td align="left">Period [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>model V_pulse &quot;Pulse voltage source&quot;
extends Modelica.Electrical.Analog.Interfaces.OnePort;

  parameter SI.Voltage V1 = 0 &quot;Initial value&quot;;
  parameter SI.Voltage V2 = 0 &quot;Pulsed value&quot;;
  parameter SI.Time TD = 0.0 &quot;Delay time&quot;;
  parameter SI.Time TR(start=1) &quot;Rise time&quot;;
  parameter SI.Time TF = TR &quot;Fall time&quot;;
  parameter SI.Time PW = Modelica.Constants.inf &quot;Pulse width&quot;;
  parameter SI.Time PER= Modelica.Constants.inf &quot;Period&quot;;

protected 
  parameter SI.Time Trising=TR &quot;End time of rising phase within one period&quot;;
  parameter SI.Time Twidth=Trising + PW 
    &quot;End time of width phase within one period&quot;;
  parameter SI.Time Tfalling=Twidth + TF 
    &quot;End time of falling phase within one period&quot;;
  SI.Time T0(final start=TD) &quot;Start time of current period&quot;;
  Integer counter(start=-1) &quot;Period counter&quot;;
  Integer counter2(start=-1);

equation 
  when pre(counter2) &lt;&gt; 0 and sample(TD, PER) then
    T0 = time;
    counter2 = pre(counter);
    counter = pre(counter) - (if pre(counter) &gt; 0 then 1 else 0);
  end when;
  v = V1 + (if (time &lt; TD or counter2 == 0 or time &gt;= T0 +
    Tfalling) then 0 else if (time &lt; T0 + Trising) then (time - T0)*
    (V2-V1)/Trising else if (time &lt; T0 + Twidth) then V2-V1 else 
    (T0 + Tfalling - time)*(V2-V1)/(Tfalling - Twidth));

end V_pulse;</code></pre>
<hr />
<h1 id="image28-modelica.electrical.spice3.sources.v_pwl"><img src="Modelica.Electrical.Spice3.Sources.V_pwlI.png" alt="image28" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_pwl</h1>
<p><strong>Piece-wise linear voltage source</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>This model generates a voltage by <strong>linear interpolation</strong> in a given table. The time points and voltage values are stored in a matrix <strong>table[i,j]</strong>, where the first column table[:,1] contains the time points and the second column contains the voltage to be interpolated. The table interpolation has the following proporties:</p>
<ul>
<li>The time points need to be <strong>monotonically increasing</strong>.</li>
<li><strong>Discontinuities</strong> are allowed, by providing the same time point twice in the table.</li>
<li>Values <strong>outside</strong> of the table range, are computed by <strong>extrapolation</strong> through the last or first two points of the table.</li>
<li>If the table has only <strong>one row</strong>, no interpolation is performed and the voltage value is just returned independantly of the actual time instant, i.e., this is a constant voltage source.</li>
<li>Via parameters <strong>startTime</strong> and <strong>offset</strong> the curve defined by the table can be shifted both in time and in the voltage.</li>
<li>The table is implemented in a numerically sound way by generating <strong>time events</strong> at interval boundaries, in order to not integrate over a discontinuous or not differentiable points.</li>
</ul>
<p>Example:</p>
<pre><code>table = [0  0
         1  0
         1  1
         2  4
         3  9
         4 16]</code></pre>
<blockquote>
<dl>
<dt>If, e.g., time = 1.0, the voltage v = 0.0 (before event), 1.0 (after event)</dt>
<dd><p>e.g., time = 1.5, the voltage v = 2.5, e.g., time = 2.0, the voltage v = 4.0, e.g., time = 5.0, the voltage v = 23.0 (i.e., extrapolation).</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="8%" />
<col width="14%" />
<col width="20%" />
<col width="57%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">table[:, :]</td>
<td align="left">[0, 0; 1, 1; 2, 4]</td>
<td align="left">Table matrix (time = first column, voltage = second column)</td>
</tr>
</tbody>
</table>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>model V_pwl &quot;Piece-wise linear voltage source&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter Real table[:, :]=[0, 0; 1, 1; 2, 4] 
    &quot;Table matrix (time = first column, voltage = second column)&quot;;
  Modelica.Blocks.Sources.TimeTable tab(table=table);
equation 
  v = tab.y;
end V_pwl;</code></pre>
<hr />
<h1 id="image29-modelica.electrical.spice3.sources.v_sffm"><img src="Modelica.Electrical.Spice3.Sources.V_sffmI.png" alt="image29" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.V_sffm</h1>
<p><strong>Single-frequency FM voltage source</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>The single-frequency frequency modulation source generates a carrier signal of the frequency FC. This signal is modulated by the signal frequency FS. See the formula in the modelica text.</p>
<h3 id="attention">Attention:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-5">Parameters</h2>
<table>
<col width="58%" />
<col width="7%" />
<col width="10%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VO</td>
<td align="left">0</td>
<td align="left">Offset [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VA</td>
<td align="left">0</td>
<td align="left">Amplitude [V]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FC</td>
<td align="left">
</td>
<td align="left">Carrier frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">MDI</td>
<td align="left">0</td>
<td align="left">Modulation index</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FS</td>
<td align="left">FC</td>
<td align="left">Singnal frequency [Hz]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-5">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>model V_sffm &quot;Single-frequency FM voltage source&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter SI.Voltage VO = 0 &quot;Offset&quot;;
  parameter SI.Voltage VA = 0 &quot;Amplitude&quot;;
  parameter SI.Frequency FC( start=0) &quot;Carrier frequency&quot;;
  parameter Real MDI=0 &quot;Modulation index&quot;;
  parameter SI.Frequency FS= FC &quot;Singnal frequency&quot;;
protected 
    constant Real pi=Modelica.Constants.pi;
equation 
  v = VO + VA *Modelica.Math.sin( 2 *pi * FC *time + MDI *Modelica.Math.sin(2 *pi *FS *time));
end V_sffm;</code></pre>
<hr />
<h1 id="image30-modelica.electrical.spice3.sources.i_constant"><img src="Modelica.Electrical.Spice3.Sources.I_constantI.png" alt="image30" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_constant</h1>
<p><strong>Constant independent current sources</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>The I_constant source is a simple constant current source for an ideal constant current which is provided by a parameter.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-6">Parameters</h2>
<table>
<col width="53%" />
<col width="7%" />
<col width="10%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">I</td>
<td align="left">1</td>
<td align="left">Value of constant voltage [A]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-6">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>model I_constant &quot;Constant independent current sources&quot;
   parameter SI.Current I=1 &quot;Value of constant voltage&quot;;
   extends Modelica.Electrical.Analog.Interfaces.OnePort;
equation 
   i = I;
end I_constant;</code></pre>
<hr />
<h1 id="image31-modelica.electrical.spice3.sources.i_sin"><img src="Modelica.Electrical.Spice3.Sources.I_sinI.png" alt="image31" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_sin</h1>
<p><strong>Sinusoidal current source</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>Damped sinusoidal source</p>
<h3 id="note-3">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-7">Parameters</h2>
<table>
<col width="59%" />
<col width="8%" />
<col width="10%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">IO</td>
<td align="left">0</td>
<td align="left">Offset [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">IA</td>
<td align="left">0</td>
<td align="left">Amplitude [A]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FREQ</td>
<td align="left">
</td>
<td align="left">Frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD</td>
<td align="left">0.0</td>
<td align="left">Delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Damping">Damping</a></td>
<td align="left">THETA</td>
<td align="left">0.0</td>
<td align="left">Damping factor [s-1]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-7">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>model I_sin &quot;Sinusoidal current source&quot;

  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter SI.Current IO=0 &quot;Offset&quot;;
  parameter SI.Current IA=0 &quot;Amplitude&quot;;
  parameter SI.Frequency FREQ(start=1) &quot;Frequency&quot;;
  parameter SI.Time TD=0.0 &quot;Delay&quot;;
  parameter SI.Damping THETA=0.0 &quot;Damping factor&quot;;
protected 
    constant Real pi=Modelica.Constants.pi;
equation 
    assert(FREQ&gt;0, &quot;Frequency less or equal zero&quot;);
    i = IO + (if time &lt; TD then 0 else IA*
    Modelica.Math.exp(-(time - TD)*THETA)*Modelica.Math.sin(2*pi
    *FREQ*(time - TD)));
end I_sin;</code></pre>
<hr />
<h1 id="image32-modelica.electrical.spice3.sources.i_exp"><img src="Modelica.Electrical.Spice3.Sources.I_expI.png" alt="image32" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_exp</h1>
<p><strong>Exponential current source</strong></p>
<h2 id="information-9">Information</h2>
<p>::</p>
<p>Rising and falling exponential source.</p>
<h3 id="note-4">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-8">Parameters</h2>
<table>
<col width="57%" />
<col width="8%" />
<col width="10%" />
<col width="24%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">I1</td>
<td align="left">0</td>
<td align="left">Initial value [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">I2</td>
<td align="left">0</td>
<td align="left">Pulsed value [A]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD1</td>
<td align="left">0.0</td>
<td align="left">Rise delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TAU1</td>
<td align="left">1</td>
<td align="left">Rise time constant [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD2</td>
<td align="left">2</td>
<td align="left">Fall delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TAU2</td>
<td align="left">1</td>
<td align="left">Fall time constant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-8">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-8">Modelica definition</h2>
<pre><code>model I_exp &quot;Exponential current source&quot;
extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter SI.Current I1=0 &quot;Initial value&quot;;
  parameter SI.Current I2=0 &quot;Pulsed value&quot;;
  parameter SI.Time TD1=0.0 &quot;Rise delay time&quot;;
  parameter SI.Time TAU1=1 &quot;Rise time constant&quot;;
  parameter SI.Time TD2=2 &quot;Fall delay time&quot;;
  parameter SI.Time TAU2=1 &quot;Fall time constant&quot;;
equation 
i = I1 + (if (time &lt; TD1) then 0 else if (time &lt; (TD2)) then 
          (I2-I1)*(1 - Modelica.Math.exp(-(time - TD1)/TAU1)) else 
          (I2-I1)*(1 - Modelica.Math.exp(-(time - TD1)/TAU1)) +
          (I1-I2)*(1 - Modelica.Math.exp(-(time - TD2)/TAU2)));
end I_exp;</code></pre>
<hr />
<h1 id="image33-modelica.electrical.spice3.sources.i_pulse"><img src="Modelica.Electrical.Spice3.Sources.I_pulseI.png" alt="image33" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_pulse</h1>
<p><strong>Pulse current source</strong></p>
<h2 id="information-10">Information</h2>
<p>::</p>
<p>Periodic pulse source with not limited number of periods.</p>
<p>A single pulse is described by the following table:</p>
<h3 id="time-1">time</h3>
<h3 id="value-2">value</h3>
<p>0</p>
<p>I1</p>
<p>TD</p>
<p>I1</p>
<p>TD+TR</p>
<p>I2</p>
<p>TD+TR+PW</p>
<p>I2</p>
<p>TD+TR+PW+TF</p>
<p>I1</p>
<p>TSTOP</p>
<p>I1</p>
<p>Intermediate points are determined by linear interpolation.</p>
<p>A pulse it looks like a saw tooth, use this parameters e.g.:</p>
<h3 id="parameter-1">Parameter</h3>
<h3 id="value-3">Value</h3>
<p>I1</p>
<p>0</p>
<p>I2</p>
<p>1</p>
<p>TD</p>
<p>0</p>
<p>TR</p>
<p>1</p>
<p>TF</p>
<p>1</p>
<p>PW</p>
<p>2</p>
<p>PER</p>
<p>1</p>
<h3 id="note-5">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-9">Parameters</h2>
<table>
<col width="52%" />
<col width="7%" />
<col width="22%" />
<col width="18%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">I1</td>
<td align="left">0</td>
<td align="left">Initial value [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">I2</td>
<td align="left">0</td>
<td align="left">Pulsed value [A]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TD</td>
<td align="left">0.0</td>
<td align="left">Delay time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TR</td>
<td align="left">
</td>
<td align="left">Rise time [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">TF</td>
<td align="left">TR</td>
<td align="left">Fall time [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">PW</td>
<td align="left">Modelica.Constants.inf</td>
<td align="left">Pulse width [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">PER</td>
<td align="left">Modelica.Constants.inf</td>
<td align="left">Period [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-9">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-9">Modelica definition</h2>
<pre><code>model I_pulse &quot;Pulse current source&quot;
 extends Modelica.Electrical.Analog.Interfaces.OnePort;

  parameter SI.Current I1 = 0 &quot;Initial value&quot;;
  parameter SI.Current I2 = 0 &quot;Pulsed value&quot;;
  parameter SI.Time TD = 0.0 &quot;Delay time&quot;;
  parameter SI.Time TR(start=1) &quot;Rise time&quot;;
  parameter SI.Time TF = TR &quot;Fall time&quot;;
  parameter SI.Time PW = Modelica.Constants.inf &quot;Pulse width&quot;;
  parameter SI.Time PER= Modelica.Constants.inf &quot;Period&quot;;

protected 
  parameter SI.Time Trising=TR &quot;End time of rising phase within one period&quot;;
  parameter SI.Time Twidth=Trising + PW 
    &quot;End time of width phase within one period&quot;;
  parameter SI.Time Tfalling=Twidth + TF 
    &quot;End time of falling phase within one period&quot;;
  SI.Time T0(final start=TD) &quot;Start time of current period&quot;;
  Integer counter(start=-1) &quot;Period counter&quot;;
  Integer counter2(start=-1);

equation 
  when pre(counter2) &lt;&gt; 0 and sample(TD, PER) then
    T0 = time;
    counter2 = pre(counter);
    counter = pre(counter) - (if pre(counter) &gt; 0 then 1 else 0);
  end when;
  i = I1 + (if (time &lt; TD or counter2 == 0 or time &gt;= T0 +
    Tfalling) then 0 else if (time &lt; T0 + Trising) then (time - T0)*
    (I2-I1)/Trising else if (time &lt; T0 + Twidth) then I2-I1 else 
    (T0 + Tfalling - time)*(I2-I1)/(Tfalling - Twidth));

end I_pulse;</code></pre>
<hr />
<h1 id="image34-modelica.electrical.spice3.sources.i_pwl"><img src="Modelica.Electrical.Spice3.Sources.I_pwlI.png" alt="image34" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_pwl</h1>
<p><strong>Piece-wise linear current source</strong></p>
<h2 id="information-11">Information</h2>
<p>::</p>
<p>This model generates a current by <strong>linear interpolation</strong> in a given table. The time points and current values are stored in a matrix <strong>table[i,j]</strong>, where the first column table[:,1] contains the time points and the second column contains the current to be interpolated. The table interpolation has the following proporties:</p>
<ul>
<li>The time points need to be <strong>monotonically increasing</strong>.</li>
<li><strong>Discontinuities</strong> are allowed, by providing the same time point twice in the table.</li>
<li>Values <strong>outside</strong> of the table range, are computed by <strong>extrapolation</strong> through the last or first two points of the table.</li>
<li>If the table has only <strong>one row</strong>, no interpolation is performed and the current value is just returned independantly of the actual time instant, i.e., this is a constant current source.</li>
<li>Via parameters <strong>startTime</strong> and <strong>offset</strong> the curve defined by the table can be shifted both in time and in the current.</li>
<li>The table is implemented in a numerically sound way by generating <strong>time events</strong> at interval boundaries, in order to not integrate over a discontinuous or not differentiable points.</li>
</ul>
<p>Example:</p>
<pre><code>table = [0  0
         1  0
         1  1
         2  4
         3  9
         4 16]</code></pre>
<blockquote>
<dl>
<dt>If, e.g., time = 1.0, the current i = 0.0 (before event), 1.0 (after event)</dt>
<dd><p>e.g., time = 1.5, the current i = 2.5, e.g., time = 2.0, the current i = 4.0, e.g., time = 5.0, the current i = 23.0 (i.e., extrapolation).</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-10">Parameters</h2>
<table>
<col width="8%" />
<col width="14%" />
<col width="20%" />
<col width="57%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">table[:, :]</td>
<td align="left">[0, 0; 1, 1; 2, 4]</td>
<td align="left">Table matrix (time = first column, voltage = second column)</td>
</tr>
</tbody>
</table>
<h2 id="connectors-10">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-10">Modelica definition</h2>
<pre><code>model I_pwl &quot;Piece-wise linear current source&quot;
   extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter Real table[:, :]=[0, 0; 1, 1; 2, 4] 
    &quot;Table matrix (time = first column, voltage = second column)&quot;;
  Modelica.Blocks.Sources.TimeTable tab(table=table);

equation 
  i = tab.y;

end I_pwl;</code></pre>
<hr />
<h1 id="image35-modelica.electrical.spice3.sources.i_sffm"><img src="Modelica.Electrical.Spice3.Sources.I_sffmI.png" alt="image35" /> <a href="Modelica_Electrical_Spice3_Sources.html#Modelica.Electrical.Spice3.Sources">Modelica.Electrical.Spice3.Sources</a>.I_sffm</h1>
<p><strong>Single-frequency FM current source</strong></p>
<h2 id="information-12">Information</h2>
<p>::</p>
<p>The single-frequency frequency modulation source generates a carrier signal of the frequency FC. This signal is modulated by the signal frequency FS. See the formula in the modelica text.</p>
<h3 id="note-6">Note:</h3>
<ul>
<li>All parameters of sources should be set explicitly.</li>
<li>since TSTEP and TSTOP are not available for modeling in Modelica, differences to SPICE may occur if not all parameters are set.</li>
</ul>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort">Modelica.Electrical.Analog.Interfaces.OnePort</a> (Component with two electrical pins p and n and current i from p to n).</p>
<h2 id="parameters-11">Parameters</h2>
<table>
<col width="58%" />
<col width="7%" />
<col width="10%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">IO</td>
<td align="left">0</td>
<td align="left">Offset [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">IA</td>
<td align="left">0</td>
<td align="left">Amplitude [A]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FC</td>
<td align="left">
</td>
<td align="left">Carrier frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">MDI</td>
<td align="left">0</td>
<td align="left">Modulation index</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">FS</td>
<td align="left">FC</td>
<td align="left">Singnal frequency [Hz]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-11">Connectors</h2>
<table>
<col width="60%" />
<col width="4%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">p</td>
<td align="left">Positive pin (potential p.v &gt; n.v for positive voltage drop v)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">n</td>
<td align="left">Negative pin</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-11">Modelica definition</h2>
<pre><code>model I_sffm &quot;Single-frequency FM current source&quot;
  extends Modelica.Electrical.Analog.Interfaces.OnePort;
  parameter SI.Current IO = 0 &quot;Offset&quot;;
  parameter SI.Current IA = 0 &quot;Amplitude&quot;;
  parameter SI.Frequency FC( start=0) &quot;Carrier frequency&quot;;
  parameter Real MDI=0 &quot;Modulation index&quot;;
  parameter SI.Frequency FS= FC &quot;Singnal frequency&quot;;

protected 
    constant Real pi=Modelica.Constants.pi;
equation 
  i = IO + IA *Modelica.Math.sin( 2 *pi * FC *time + MDI *Modelica.Math.sin(2 *pi *FS *time));
end I_sffm;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:29:46 2010.</p>
</body>
</html>
