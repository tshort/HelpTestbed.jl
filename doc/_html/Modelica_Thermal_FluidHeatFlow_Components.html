<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Thermal.FluidHeatFlow.Components</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Thermal.FluidHeatFlow.Components</h1>
</div>
<h1 id="modelica.thermal.fluidheatflow.components"><a href="Modelica_Thermal_FluidHeatFlow.html#Modelica.Thermal.FluidHeatFlow">Modelica.Thermal.FluidHeatFlow</a>.Components</h1>
<p><strong>Basic components (pipes, valves)</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains components:</p>
<ul>
<li>pipe without heat exchange</li>
<li>pipe with heat exchange</li>
<li>valve (simple controlled valve)</li>
</ul>
<dl>
<dt>Pressure drop is taken from partial model SimpleFriction.</dt>
<dd><p>Thermodynamic equations are defined in partial models (package</p>
</dd>
</dl>
<p>Partials).</p>
<dl>
<dt><strong>Main Authors:</strong></dt>
<dd><dl>
<dt><a href="http://www.haumer.at/">Anton Haumer</a></dt>
<dd><p>Technical Consulting &amp; Electrical Engineering A-3423 St.Andrae-Woerdern, Austria email: <script type="text/javascript">
<!--
h='&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#46;&#x61;&#116;';a='&#64;';n='&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<script type="text/javascript">
<!--
h='&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#46;&#x61;&#116;';a='&#64;';n='&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<code>'+e+'</code>'+'<\/'+'a'+'>');
// -->
</script><noscript>&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#x61;&#116;&#32;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#116;</noscript>'+'<\/'+'a'+'>');
// -->
</script><noscript>&#60;&#x73;&#x63;&#114;&#x69;&#112;&#116;&#32;&#116;&#x79;&#112;&#x65;&#x3d;&#34;&#116;&#x65;&#120;&#116;&#x2f;&#106;&#x61;&#118;&#x61;&#x73;&#x63;&#114;&#x69;&#112;&#116;&#34;&#62;&#10;&#60;&#x21;&#x2d;&#x2d;&#10;&#104;&#x3d;&#x27;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#46;&#x61;&#116;&#x27;&#x3b;&#x61;&#x3d;&#x27;&#64;&#x27;&#x3b;&#110;&#x3d;&#x27;&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#x27;&#x3b;&#x65;&#x3d;&#110;&#x2b;&#x61;&#x2b;&#104;&#x3b;&#10;&#100;&#x6f;&#x63;&#x75;&#x6d;&#x65;&#110;&#116;&#46;&#x77;&#114;&#x69;&#116;&#x65;&#40;&#x27;&#60;&#x61;&#32;&#104;&#x27;&#x2b;&#x27;&#114;&#x65;&#102;&#x27;&#x2b;&#x27;&#x3d;&#34;&#x6d;&#x61;&#x27;&#x2b;&#x27;&#x69;&#108;&#116;&#x6f;&#x27;&#x2b;&#x27;&#58;&#x27;&#x2b;&#x65;&#x2b;&#x27;&#34;&#62;&#x27;&#x2b;&#x27;&#60;&#x63;&#x6f;&#100;&#x65;&#62;&#x27;&#x2b;&#x65;&#x2b;&#x27;&#60;&#x2f;&#x63;&#x6f;&#100;&#x65;&#62;&#x27;&#x2b;&#x27;&#60;&#92;&#x2f;&#x27;&#x2b;&#x27;&#x61;&#x27;&#x2b;&#x27;&#62;&#x27;&#x29;&#x3b;&#10;&#x2f;&#x2f;&#32;&#x2d;&#x2d;&#62;&#10;&#60;&#x2f;&#x73;&#x63;&#114;&#x69;&#112;&#116;&#62;&#60;&#110;&#x6f;&#x73;&#x63;&#114;&#x69;&#112;&#116;&#62;&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#x61;&#116;&#32;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#116;&#60;&#x2f;&#110;&#x6f;&#x73;&#x63;&#114;&#x69;&#112;&#116;&#62;&#32;&#40;&#x61;&#46;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#x61;&#116;&#32;&#104;&#x61;&#x75;&#x6d;&#x65;&#114;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#116;&#x29;</noscript></p>
</dd>
<dt>Dr. Christian Kral</dt>
<dd><p><a href="http://www.ait.ac.at/">Austrian Institute of Technology, AIT</a> Giefinggasse 2 A-1210 Vienna, Austria</p>
</dd>
</dl>
</dd>
</dl>
<p>Copyright Â© 1998-2010, Modelica Association, Anton Haumer and Austrian Institute of Technology, AIT.</p>
<p><em>This Modelica package is free software and the use is completely at your own risk; it can be redistributed and/or modified under the terms of the Modelica License 2. For license conditions (including the disclaimer of warranty) see <a href="Modelica_UsersGuide.html#Modelica.UsersGuide.ModelicaLicense2">Modelica.UsersGuide.ModelicaLicense2</a> or visit <a href="http://www.modelica.org/licenses/ModelicaLicense2"><a href="http://www.modelica.org/licenses/ModelicaLicense2">http://www.modelica.org/licenses/ModelicaLicense2</a></a>.</em></p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="85%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Thermal.FluidHeatFlow.Components.IsolatedPipeS.png" alt="image3" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components.IsolatedPipe">IsolatedPipe</a></td>
<td align="left">Pipe without heat exchange</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Thermal.FluidHeatFlow.Components.HeatedPipeS.png" alt="image4" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components.HeatedPipe">HeatedPipe</a></td>
<td align="left">Pipe with heat exchange</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Thermal.FluidHeatFlow.Components.ValveS.png" alt="image5" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components.Valve">Valve</a></td>
<td align="left">Simple valve</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image6-modelica.thermal.fluidheatflow.components.isolatedpipe"><img src="Modelica.Thermal.FluidHeatFlow.Components.IsolatedPipeI.png" alt="image6" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components">Modelica.Thermal.FluidHeatFlow.Components</a>.IsolatedPipe</h1>
<p><strong>Pipe without heat exchange</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<dl>
<dt>Pipe without heat exchange.</dt>
<dd><p>Thermodynamic equations are defined by Partials.TwoPortMass(Q_flow =</p>
</dd>
<dt>0).</dt>
<dd><p><strong>Note:</strong> Setting parameter m (mass of medium within pipe) to zero</p>
</dd>
</dl>
<p>leads to neglection of temperature transient cv*m*der(T).</p>
<p>::</p>
<p>Extends from <a href="Modelica_Thermal_FluidHeatFlow_Interfaces_Partials.html#Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.TwoPort">Interfaces.Partials.TwoPort</a> (Partial model of two port), <a href="Modelica_Thermal_FluidHeatFlow_Interfaces_Partials.html#Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.SimpleFriction">Interfaces.Partials.SimpleFriction</a> (Simple friction model).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="44%" />
<col width="8%" />
<col width="14%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Media.html#Modelica.Thermal.FluidHeatFlow.Media.Medium">Medium</a></td>
<td align="left">medium</td>
<td align="left">FluidHeatFlow.Media.Medium()</td>
<td align="left">Medium in the component</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Mass">Mass</a></td>
<td align="left">m</td>
<td align="left">
</td>
<td align="left">Mass of medium [kg]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T0</td>
<td align="left">
</td>
<td align="left">Initial temperature of medium [K]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">tapT</td>
<td align="left">1</td>
<td align="left">Defines temperature of heatPort between inlet and outlet temperature</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">h_g</td>
<td align="left">
</td>
<td align="left">Geodetic height (heigth difference from flowPort_a to flowPort_b) [m]</td>
</tr>
<tr class="even">
<td align="left">Simple Friction</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">V_flowLaminar</td>
<td align="left">
</td>
<td align="left">Laminar volume flow [m3/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dpLaminar</td>
<td align="left">
</td>
<td align="left">Laminar pressure drop [Pa]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">V_flowNominal</td>
<td align="left">
</td>
<td align="left">Nominal volume flow [m3/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dpNominal</td>
<td align="left">
</td>
<td align="left">Nominal pressure drop [Pa]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">frictionLoss</td>
<td align="left">0</td>
<td align="left">Part of friction losses fed to medium</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="79%" />
<col width="10%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_a">FlowPort_a</a></td>
<td align="left">flowPort_a</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_b">FlowPort_b</a></td>
<td align="left">flowPort_b</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model IsolatedPipe &quot;Pipe without heat exchange&quot;

  extends Interfaces.Partials.TwoPort(final tapT=1);
  extends Interfaces.Partials.SimpleFriction;
  parameter Modelica.SIunits.Length h_g(start=0) 
    &quot;Geodetic height (heigth difference from flowPort_a to flowPort_b)&quot;;
equation 
  // coupling with FrictionModel
  volumeFlow = V_flow;
  dp = pressureDrop + medium.rho*Modelica.Constants.g_n*h_g;
  // no energy exchange with medium
  Q_flow = Q_friction;
end IsolatedPipe;</code></pre>
<hr />
<h1 id="image7-modelica.thermal.fluidheatflow.components.heatedpipe"><img src="Modelica.Thermal.FluidHeatFlow.Components.HeatedPipeI.png" alt="image7" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components">Modelica.Thermal.FluidHeatFlow.Components</a>.HeatedPipe</h1>
<p><strong>Pipe with heat exchange</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<dl>
<dt>Pipe with heat exchange.</dt>
<dd><p>Thermodynamic equations are defined by Partials.TwoPort. Q_flow is defined by heatPort.Q_flow. <strong>Note:</strong> Setting parameter m (mass of medium within pipe) to zero</p>
</dd>
<dt>leads to neglection of temperature transient cv*m*der(T).</dt>
<dd><p><strong>Note:</strong> Injecting heat into a pipe with zero massflow causes</p>
</dd>
</dl>
<p>temperature rise defined by storing heat in medium's mass.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Thermal_FluidHeatFlow_Interfaces_Partials.html#Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.TwoPort">Interfaces.Partials.TwoPort</a> (Partial model of two port), <a href="Modelica_Thermal_FluidHeatFlow_Interfaces_Partials.html#Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.SimpleFriction">Interfaces.Partials.SimpleFriction</a> (Simple friction model).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="44%" />
<col width="8%" />
<col width="14%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Media.html#Modelica.Thermal.FluidHeatFlow.Media.Medium">Medium</a></td>
<td align="left">medium</td>
<td align="left">FluidHeatFlow.Media.Medium()</td>
<td align="left">Medium in the component</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Mass">Mass</a></td>
<td align="left">m</td>
<td align="left">
</td>
<td align="left">Mass of medium [kg]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T0</td>
<td align="left">
</td>
<td align="left">Initial temperature of medium [K]</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">tapT</td>
<td align="left">1</td>
<td align="left">Defines temperature of heatPort between inlet and outlet temperature</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Length">Length</a></td>
<td align="left">h_g</td>
<td align="left">
</td>
<td align="left">Geodetic height (heigth difference from flowPort_a to flowPort_b) [m]</td>
</tr>
<tr class="even">
<td align="left">Simple Friction</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">V_flowLaminar</td>
<td align="left">
</td>
<td align="left">Laminar volume flow [m3/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dpLaminar</td>
<td align="left">
</td>
<td align="left">Laminar pressure drop [Pa]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">V_flowNominal</td>
<td align="left">
</td>
<td align="left">Nominal volume flow [m3/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dpNominal</td>
<td align="left">
</td>
<td align="left">Nominal pressure drop [Pa]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">frictionLoss</td>
<td align="left">0</td>
<td align="left">Part of friction losses fed to medium</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="79%" />
<col width="10%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_a">FlowPort_a</a></td>
<td align="left">flowPort_a</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_b">FlowPort_b</a></td>
<td align="left">flowPort_b</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model HeatedPipe &quot;Pipe with heat exchange&quot;

  extends Interfaces.Partials.TwoPort;
  extends Interfaces.Partials.SimpleFriction;
  parameter Modelica.SIunits.Length h_g(start=0) 
    &quot;Geodetic height (heigth difference from flowPort_a to flowPort_b)&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort;
equation 
  // coupling with FrictionModel
  volumeFlow = V_flow;
  dp = pressureDrop + medium.rho*Modelica.Constants.g_n*h_g;
  // energy exchange with medium
  Q_flow = heatPort.Q_flow + Q_friction;
  // defines heatPort&#39;s temperature
  heatPort.T = T_q;
end HeatedPipe;</code></pre>
<hr />
<h1 id="image8-modelica.thermal.fluidheatflow.components.valve"><img src="Modelica.Thermal.FluidHeatFlow.Components.ValveI.png" alt="image8" /> <a href="Modelica_Thermal_FluidHeatFlow_Components.html#Modelica.Thermal.FluidHeatFlow.Components">Modelica.Thermal.FluidHeatFlow.Components</a>.Valve</h1>
<p><strong>Simple valve</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<dl>
<dt>Simple controlled valve.</dt>
<dd><p>Standard characteristic Kv=<em>f</em>(y) is given at standard conditions (dp0,</p>
</dd>
<dt>rho0),</dt>
<dd><hr />
</dd>
</dl>
<ul>
<li>either linear : Kv/Kv1 = Kv0/Kv1 + (1-Kv0/Kv1) * y/Y1</li>
<li>or exponential: Kv/Kv1 = Kv0/Kv1 * exp[log(Kv1/Kv0) * y/Y1]</li>
</ul>
<p>where:</p>
<ul>
<li>Kv0 ... min. flow @ y = 0</li>
<li>Y1 .... max. valve opening</li>
<li>Kv1 ... max. flow @ y = Y1</li>
</ul>
<dl>
<dt>Flow resistance under real conditions is calculated by</dt>
<dd><p><code>V_flow**2 * rho / dp = Kv(y)**2 * rho0 / dp0</code></p>
</dd>
</dl>
<p>::</p>
<p>Extends from <a href="Modelica_Thermal_FluidHeatFlow_Interfaces_Partials.html#Modelica.Thermal.FluidHeatFlow.Interfaces.Partials.TwoPort">Interfaces.Partials.TwoPort</a> (Partial model of two port).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="43%" />
<col width="10%" />
<col width="14%" />
<col width="31%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Media.html#Modelica.Thermal.FluidHeatFlow.Media.Medium">Medium</a></td>
<td align="left">medium</td>
<td align="left">FluidHeatFlow.Media.Medium()</td>
<td align="left">Medium in the component</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T0</td>
<td align="left">
</td>
<td align="left">Initial temperature of medium [K]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">tapT</td>
<td align="left">1</td>
<td align="left">Defines temperature of heatPort between inlet and outlet temperature</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">frictionLoss</td>
<td align="left">
</td>
<td align="left">Part of friction losses fed to medium</td>
</tr>
<tr class="odd">
<td align="left">Standard characteristic</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">LinearCharacteristic</td>
<td align="left">
</td>
<td align="left">Type of characteristic</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">y1</td>
<td align="left">
</td>
<td align="left">Max. valve opening</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate">VolumeFlowRate</a></td>
<td align="left">Kv1</td>
<td align="left">
</td>
<td align="left">Max. flow @ y = y1 [m3/s]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">kv0</td>
<td align="left">
</td>
<td align="left">Leakage flow / max.flow @ y = 0</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Pressure">Pressure</a></td>
<td align="left">dp0</td>
<td align="left">
</td>
<td align="left">Standard pressure drop [Pa]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Density">Density</a></td>
<td align="left">rho0</td>
<td align="left">
</td>
<td align="left">Standard medium's density [kg/m3]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="79%" />
<col width="10%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_a">FlowPort_a</a></td>
<td align="left">flowPort_a</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Thermal_FluidHeatFlow_Interfaces.html#Modelica.Thermal.FluidHeatFlow.Interfaces.FlowPort_b">FlowPort_b</a></td>
<td align="left">flowPort_b</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">y</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model Valve &quot;Simple valve&quot;

  extends Interfaces.Partials.TwoPort(m(start=0), final tapT=1);
  parameter Boolean LinearCharacteristic(start=true) &quot;Type of characteristic&quot;;
  parameter Real y1(min=small, start=1) &quot;Max. valve opening&quot;;
  parameter Modelica.SIunits.VolumeFlowRate Kv1(min=small, start=1) 
    &quot;Max. flow @ y = y1&quot;;
  parameter Real kv0(min=small,max=1-small, start=0.01) 
    &quot;Leakage flow / max.flow @ y = 0&quot;;
  parameter Modelica.SIunits.Pressure dp0(start=1) &quot;Standard pressure drop&quot;;
  parameter Modelica.SIunits.Density rho0(start=10) &quot;Standard medium&#39;s density&quot;;
  parameter Real frictionLoss(min=0, max=1, start=0) 
    &quot;Part of friction losses fed to medium&quot;;
protected 
  constant Modelica.SIunits.VolumeFlowRate unitVolumeFlowRate = 1;
  constant Real small = Modelica.Constants.small;
  constant Modelica.SIunits.VolumeFlowRate smallVolumeFlowRate = eps*unitVolumeFlowRate;
  constant Real eps = Modelica.Constants.eps;
  Real yLim = max(min(y,y1),0) &quot;Limited valve opening&quot;;
  Modelica.SIunits.VolumeFlowRate Kv &quot;Standard flow rate&quot;;
public 
  Modelica.Blocks.Interfaces.RealInput y;
initial algorithm 
  assert(y1&gt;small, &quot;Valve characteristic: y1 has to be &gt; 0 !&quot;);
  assert(Kv1&gt;smallVolumeFlowRate, &quot;Valve characteristic: Kv1 has to be &gt; 0 !&quot;);
  assert(kv0&gt;small, &quot;Valve characteristic: kv0 has to be &gt; 0 !&quot;);
  assert(kv0&lt;1-eps, &quot;Valve characteristic: kv0 has to be &lt; 1 !&quot;);
equation 
  // evaluate standard characteristic
  Kv/Kv1 = if LinearCharacteristic then (kv0 + (1-kv0)*yLim/y1) else kv0*exp(Modelica.Math.log(1/kv0)*yLim/y1);
  // pressure drop under real conditions
  dp/dp0 = medium.rho/rho0*(V_flow/Kv)*abs(V_flow/Kv);
  // no energy exchange with medium
  Q_flow = frictionLoss*V_flow*dp;
end Valve;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:43 2010.</p>
</body>
</html>
