<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</h1>
</div>
<h1 id="modelica.electrical.machines.examples.synchronousinductionmachines"><a href="Modelica_Electrical_Machines_Examples.html#Modelica.Electrical.Machines.Examples">Modelica.Electrical.Machines.Examples</a>.SynchronousInductionMachines</h1>
<p><strong>Test examples of synchronous induction machines</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains test examples of synchronous induction machines.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage">Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="76%" />
<col width="23%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Examples.AsynchronousInductionMachines.AIMC_DOLS.png" alt="image5" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_Inverter">SMR_Inverter</a></td>
<td align="left">Test example: SynchronousInductionMachineReluctanceRotor with inverter</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Examples.AsynchronousInductionMachines.AIMC_DOLS.png" alt="image6" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMPM_Inverter">SMPM_Inverter</a></td>
<td align="left">Test example: PermanentMagnetSynchronousInductionMachine with inverter</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Examples.AsynchronousInductionMachines.AIMC_DOLS.png" alt="image7" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMPM_CurrentSource">SMPM_CurrentSource</a></td>
<td align="left">Test example: PermanentMagnetSynchronousInductionMachine fed by current source</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Examples.AsynchronousInductionMachines.AIMC_DOLS.png" alt="image8" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMEE_Generator">SMEE_Generator</a></td>
<td align="left">Test example: ElectricalExcitedSynchronousInductionMachine as Generator</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Examples.AsynchronousInductionMachines.AIMC_DOLS.png" alt="image9" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMEE_LoadDump">SMEE_LoadDump</a></td>
<td align="left">Test example: ElectricalExcitedSynchronousInductionMachine with voltage controller</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image10-modelica.electrical.machines.examples.synchronousinductionmachines.smr_inverter"><img src="Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_InverterI.png" alt="image10" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</a>.SMR_Inverter</h1>
<p><strong>Test example: SynchronousInductionMachineReluctanceRotor with inverter</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<dl>
<dt><strong>Test example: Synchronous induction machine with reluctance rotor fed by an ideal inverter</strong></dt>
<dd><p>An ideal frequency inverter is modeled by using a VfController and a</p>
</dd>
<dt>threephase SignalVoltage.</dt>
<dd><p>Frequency is raised by a ramp, causing the reluctance machine to start,</p>
</dd>
</dl>
<p>and accelerating inertias. At time tStep a load step is applied. Simulate for 1.5 seconds and plot (versus time):</p>
<ul>
<li>currentQuasiRMSSensor.I: stator current RMS</li>
<li>smr.wMechanical: motor's speed</li>
<li>smr.tauElectrical: motor's torque</li>
<li>rotorDisplacementAngle.rotorDisplacementAngle: rotor displacement angle</li>
</ul>
<p>Default machine parameters of model <em>SM_ReluctanceRotor</em> are used.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="51%" />
<col width="9%" />
<col width="9%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VNominal</td>
<td align="left">100</td>
<td align="left">Nominal RMS voltage per phase [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">fNominal</td>
<td align="left">50</td>
<td align="left">Nominal frequency [Hz]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">f</td>
<td align="left">50</td>
<td align="left">Actual frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tRamp</td>
<td align="left">1</td>
<td align="left">Frequency ramp [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Torque">Torque</a></td>
<td align="left">TLoad</td>
<td align="left">46</td>
<td align="left">Nominal load torque [N.m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tStep</td>
<td align="left">1.2</td>
<td align="left">Time of load torque step [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">JLoad</td>
<td align="left">0.29</td>
<td align="left">Load's moment of inertia [kg.m2]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model SMR_Inverter 
  &quot;Test example: SynchronousInductionMachineReluctanceRotor with inverter&quot;
  extends Modelica.Icons.Example;
  constant Integer m=3 &quot;Number of phases&quot;;
  parameter Modelica.SIunits.Voltage VNominal=100 
    &quot;Nominal RMS voltage per phase&quot;;
  parameter Modelica.SIunits.Frequency fNominal=50 &quot;Nominal frequency&quot;;
  parameter Modelica.SIunits.Frequency f=50 &quot;Actual frequency&quot;;
  parameter Modelica.SIunits.Time tRamp=1 &quot;Frequency ramp&quot;;
  parameter Modelica.SIunits.Torque TLoad=46 &quot;Nominal load torque&quot;;
  parameter Modelica.SIunits.Time tStep=1.2 &quot;Time of load torque step&quot;;
  parameter Modelica.SIunits.Inertia JLoad=0.29 &quot;Load&#39;s moment of inertia&quot;;

  Machines.BasicMachines.SynchronousInductionMachines.SM_ReluctanceRotor
    smr;
  Machines.Sensors.CurrentQuasiRMSSensor currentQuasiRMSSensor;
  Machines.Sensors.RotorDisplacementAngle rotorDisplacementAngle(p=smr.p);
  Modelica.Blocks.Sources.Ramp ramp(height=f, duration=tRamp);
  Machines.Utilities.VfController vfController(
    final m=m,
    VNominal=VNominal,
    fNominal=fNominal);
  Modelica.Electrical.MultiPhase.Sources.SignalVoltage signalVoltage(final m=
        m);
  Modelica.Electrical.MultiPhase.Basic.Star star(final m=m);
  Modelica.Electrical.Analog.Basic.Ground ground;
  Modelica.Mechanics.Rotational.Components.Inertia loadInertia(
                                                    J=JLoad);
  Modelica.Mechanics.Rotational.Sources.TorqueStep loadTorqueStep(
                                                          startTime=tStep,
      stepTorque=-TLoad,
    useSupport=false);
  Machines.Utilities.TerminalBox terminalBox(terminalConnection=&quot;Y&quot;);
equation 
  connect(signalVoltage.plug_n, star.plug_p);
  connect(star.pin_n, ground.p);
  connect(ramp.y, vfController.u);
  connect(vfController.y, signalVoltage.v);
  connect(loadInertia.flange_b, loadTorqueStep.flange);
  connect(currentQuasiRMSSensor.plug_p, signalVoltage.plug_p);
  connect(smr.plug_sn, rotorDisplacementAngle.plug_n);
  connect(smr.plug_sp, rotorDisplacementAngle.plug_p);
  connect(terminalBox.plugSupply, currentQuasiRMSSensor.plug_n);
  connect(terminalBox.plug_sp, smr.plug_sp);
  connect(terminalBox.plug_sn, smr.plug_sn);
  connect(smr.flange, rotorDisplacementAngle.flange);
  connect(smr.flange, loadInertia.flange_a);
end SMR_Inverter;</code></pre>
<hr />
<h1 id="image11-modelica.electrical.machines.examples.synchronousinductionmachines.smpm_inverter"><img src="Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_InverterI.png" alt="image11" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</a>.SMPM_Inverter</h1>
<p><strong>Test example: PermanentMagnetSynchronousInductionMachine with inverter</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<dl>
<dt><strong>Test example: Permanent magnet synchronous induction machine fed by an ideal inverter</strong></dt>
<dd><p>An ideal frequency inverter is modeled by using a VfController and a</p>
</dd>
<dt>threephase SignalVoltage.</dt>
<dd><p>Frequency is raised by a ramp, causing the permanent magnet synchronous</p>
</dd>
</dl>
<p>induction machine to start, and accelerating inertias. At time tStep a load step is applied. Simulate for 1.5 seconds and plot (versus time):</p>
<ul>
<li>currentQuasiRMSSensor.I: stator current RMS</li>
<li>smpm.wMechanical: motor's speed</li>
<li>smpm.tauElectrical: motor's torque</li>
<li>rotorDisplacementAngle.rotorDisplacementAngle: rotor displacement angle</li>
</ul>
<p>Default machine parameters of model <em>SM_PermanentMagnet</em> are used.</p>
<p><strong>In practice it is nearly impossible to drive a PMSMD without current controller.</strong></p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="51%" />
<col width="9%" />
<col width="9%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VNominal</td>
<td align="left">100</td>
<td align="left">Nominal RMS voltage per phase [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">fNominal</td>
<td align="left">50</td>
<td align="left">Nominal frequency [Hz]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">f</td>
<td align="left">50</td>
<td align="left">Actual frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tRamp</td>
<td align="left">1</td>
<td align="left">Frequency ramp [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Torque">Torque</a></td>
<td align="left">TLoad</td>
<td align="left">181.4</td>
<td align="left">Nominal load torque [N.m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tStep</td>
<td align="left">1.2</td>
<td align="left">Time of load torque step [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">JLoad</td>
<td align="left">0.29</td>
<td align="left">Load's moment of inertia [kg.m2]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model SMPM_Inverter 
  &quot;Test example: PermanentMagnetSynchronousInductionMachine with inverter&quot;
  extends Modelica.Icons.Example;
  constant Integer m=3 &quot;Number of phases&quot;;
  parameter Modelica.SIunits.Voltage VNominal=100 
    &quot;Nominal RMS voltage per phase&quot;;
  parameter Modelica.SIunits.Frequency fNominal=50 &quot;Nominal frequency&quot;;
  parameter Modelica.SIunits.Frequency f=50 &quot;Actual frequency&quot;;
  parameter Modelica.SIunits.Time tRamp=1 &quot;Frequency ramp&quot;;
  parameter Modelica.SIunits.Torque TLoad=181.4 &quot;Nominal load torque&quot;;
  parameter Modelica.SIunits.Time tStep=1.2 &quot;Time of load torque step&quot;;
  parameter Modelica.SIunits.Inertia JLoad=0.29 &quot;Load&#39;s moment of inertia&quot;;

  Machines.BasicMachines.SynchronousInductionMachines.SM_PermanentMagnet
    smpm;
  Machines.Sensors.CurrentQuasiRMSSensor currentQuasiRMSSensor;
  Machines.Sensors.RotorDisplacementAngle rotorDisplacementAngle(p=smpm.p);
  Modelica.Blocks.Sources.Ramp ramp(height=f, duration=tRamp);
  Machines.Utilities.VfController vfController(
    final m=m,
    VNominal=VNominal,
    fNominal=fNominal,
    BasePhase=+Modelica.Constants.pi/2);
  Modelica.Electrical.MultiPhase.Sources.SignalVoltage signalVoltage(final m=
        m);
  Modelica.Electrical.MultiPhase.Basic.Star star(final m=m);
  Modelica.Electrical.Analog.Basic.Ground ground;
  Modelica.Mechanics.Rotational.Components.Inertia loadInertia(
                                                    J=JLoad);
  Modelica.Mechanics.Rotational.Sources.TorqueStep loadTorqueStep(
                                                          startTime=tStep,
      stepTorque=-TLoad,
    useSupport=false);
  Machines.Utilities.TerminalBox terminalBox(terminalConnection=&quot;Y&quot;);
equation 
  connect(signalVoltage.plug_n, star.plug_p);
  connect(star.pin_n, ground.p);
  connect(ramp.y, vfController.u);
  connect(vfController.y, signalVoltage.v);
  connect(loadInertia.flange_b, loadTorqueStep.flange);
  connect(signalVoltage.plug_p, currentQuasiRMSSensor.plug_p);
  connect(rotorDisplacementAngle.plug_n, smpm.plug_sn);
  connect(rotorDisplacementAngle.plug_p, smpm.plug_sp);
  connect(terminalBox.plugSupply, currentQuasiRMSSensor.plug_n);
  connect(terminalBox.plug_sn, smpm.plug_sn);
  connect(terminalBox.plug_sp, smpm.plug_sp);
  connect(smpm.flange, rotorDisplacementAngle.flange);
  connect(smpm.flange, loadInertia.flange_a);
end SMPM_Inverter;</code></pre>
<hr />
<h1 id="image12-modelica.electrical.machines.examples.synchronousinductionmachines.smpm_currentsource"><img src="Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_InverterI.png" alt="image12" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</a>.SMPM_CurrentSource</h1>
<p><strong>Test example: PermanentMagnetSynchronousInductionMachine fed by current source</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<dl>
<dt><strong>Test example: Permanent magnet synchronous induction machine fed by a current source</strong></dt>
<dd><p>A synchronous induction machine with permanent magnets accelerates a</p>
</dd>
</dl>
<p>quadratic speed dependent load from standstill. The rms values of d- and q-current in rotor fixed coordinate system are converted to threephase currents, and fed to the machine. The result shows that the torque is influenced by the q-current, whereas the stator voltage is influenced by the d-current. Default machine parameters of model <em>SM_PermanentMagnet</em> are used.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="51%" />
<col width="9%" />
<col width="9%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VNominal</td>
<td align="left">100</td>
<td align="left">Nominal RMS voltage per phase [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">fNominal</td>
<td align="left">50</td>
<td align="left">Nominal frequency [Hz]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">f</td>
<td align="left">50</td>
<td align="left">Actual frequency [Hz]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tRamp</td>
<td align="left">1</td>
<td align="left">Frequency ramp [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Torque">Torque</a></td>
<td align="left">TLoad</td>
<td align="left">181.4</td>
<td align="left">Nominal load torque [N.m]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tStep</td>
<td align="left">1.2</td>
<td align="left">Time of load torque step [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">JLoad</td>
<td align="left">0.29</td>
<td align="left">Load's moment of inertia [kg.m2]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model SMPM_CurrentSource 
  &quot;Test example: PermanentMagnetSynchronousInductionMachine fed by current source&quot;
  extends Modelica.Icons.Example;
  constant Integer m=3 &quot;Number of phases&quot;;
  parameter Modelica.SIunits.Voltage VNominal=100 
    &quot;Nominal RMS voltage per phase&quot;;
  parameter Modelica.SIunits.Frequency fNominal=50 &quot;Nominal frequency&quot;;
  parameter Modelica.SIunits.Frequency f=50 &quot;Actual frequency&quot;;
  parameter Modelica.SIunits.Time tRamp=1 &quot;Frequency ramp&quot;;
  parameter Modelica.SIunits.Torque TLoad=181.4 &quot;Nominal load torque&quot;;
  parameter Modelica.SIunits.Time tStep=1.2 &quot;Time of load torque step&quot;;
  parameter Modelica.SIunits.Inertia JLoad=0.29 &quot;Load&#39;s moment of inertia&quot;;

  Machines.BasicMachines.SynchronousInductionMachines.SM_PermanentMagnet smpm(
      useDamperCage=false);
  MultiPhase.Sources.SignalCurrent signalCurrent(final m=m);
  Modelica.Electrical.MultiPhase.Basic.Star star(final m=m);
  Modelica.Electrical.Analog.Basic.Ground ground;
  Utilities.CurrentController currentController(p=smpm.p);
  Blocks.Sources.Constant iq(k=84.6);
  Blocks.Sources.Constant id(k=-53.5);
  Sensors.VoltageQuasiRMSSensor voltageQuasiRMSSensor;
  MultiPhase.Basic.Star starM(final m=m);
  Modelica.Electrical.Analog.Basic.Ground groundM;
  Machines.Utilities.TerminalBox terminalBox(terminalConnection=&quot;Y&quot;);
  Machines.Sensors.RotorDisplacementAngle rotorDisplacementAngle(p=smpm.p);
  Mechanics.Rotational.Sensors.AngleSensor angleSensor;
  Mechanics.Rotational.Sensors.TorqueSensor torqueSensor;
  Mechanics.Rotational.Sensors.SpeedSensor speedSensor;
  Mechanics.Rotational.Components.Inertia inertiaLoad(J=0.29);
  Mechanics.Rotational.Sources.QuadraticSpeedDependentTorque
    quadraticSpeedDependentTorque(tau_nominal=-181.4, w_nominal(displayUnit=&quot;rpm&quot;)=
         157.07963267949);
equation 
  connect(star.pin_n, ground.p);
  connect(rotorDisplacementAngle.plug_n, smpm.plug_sn);
  connect(rotorDisplacementAngle.plug_p, smpm.plug_sp);
  connect(terminalBox.plug_sn, smpm.plug_sn);
  connect(terminalBox.plug_sp, smpm.plug_sp);
  connect(smpm.flange, rotorDisplacementAngle.flange);
  connect(signalCurrent.plug_p, star.plug_p);
  connect(angleSensor.flange, rotorDisplacementAngle.flange);
  connect(angleSensor.phi, currentController.phi);
  connect(signalCurrent.plug_n, terminalBox.plugSupply);
  connect(id.y, currentController.id_rms);
  connect(iq.y, currentController.iq_rms);
  connect(groundM.p, terminalBox.starpoint);
  connect(smpm.flange, torqueSensor.flange_a);
  connect(voltageQuasiRMSSensor.plug_p, terminalBox.plugSupply);
  connect(starM.plug_p, voltageQuasiRMSSensor.plug_n);
  connect(starM.pin_n, groundM.p);
  connect(currentController.y, signalCurrent.i);
  connect(speedSensor.flange, smpm.flange);
  connect(quadraticSpeedDependentTorque.flange, inertiaLoad.flange_b);
  connect(torqueSensor.flange_b, inertiaLoad.flange_a);
end SMPM_CurrentSource;</code></pre>
<hr />
<h1 id="image13-modelica.electrical.machines.examples.synchronousinductionmachines.smee_generator"><img src="Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_InverterI.png" alt="image13" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</a>.SMEE_Generator</h1>
<p><strong>Test example: ElectricalExcitedSynchronousInductionMachine as Generator</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<dl>
<dt><strong>Test example: Electrical excited synchronous induction machine as generator</strong></dt>
<dd><p>An electrically excited synchronous generator is connected to the grid</p>
</dd>
</dl>
<p>and driven with constant speed. Since speed is slightly smaller than synchronous speed corresponding to mains frequency, rotor angle is very slowly increased. This allows to see several charactersistics dependent on rotor angle. Simulate for 30 seconds and plot (versus rotorDisplacementAngle.rotorDisplacementAngle):</p>
<ul>
<li>smee.tauElectrical</li>
<li>currentQuasiRMSSensor.I</li>
<li>electricalPowerSensor.P</li>
<li>electricalPowerSensor.Q</li>
<li>mechanicalPowerSensor.P</li>
</ul>
<p>Default machine parameters of model <em>SM_ElectricalExcited</em> are used.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="59%" />
<col width="5%" />
<col width="16%" />
<col width="18%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VNominal</td>
<td align="left">100</td>
<td align="left">Nominal RMS voltage per phase [V]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">fNominal</td>
<td align="left">50</td>
<td align="left">Nominal frequency [Hz]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity">AngularVelocity</a></td>
<td align="left">wActual</td>
<td align="left">1499*2*Modelica.Constants.pi...</td>
<td align="left">Actual speed [rad/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">Ie</td>
<td align="left">19</td>
<td align="left">Excitation current [A]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">Ie0</td>
<td align="left">10</td>
<td align="left">Initial excitation current [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Angle">Angle</a></td>
<td align="left">gamma0</td>
<td align="left">0</td>
<td align="left">Initial rotor displacement angle [rad]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Utilities.html#Modelica.Electrical.Machines.Utilities.SynchronousMachineData">SynchronousMachineData</a></td>
<td align="left">smeeData</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>model SMEE_Generator 
  &quot;Test example: ElectricalExcitedSynchronousInductionMachine as Generator&quot;
  extends Modelica.Icons.Example;
  constant Integer m=3 &quot;Number of phases&quot;;
  parameter Modelica.SIunits.Voltage VNominal=100 
    &quot;Nominal RMS voltage per phase&quot;;
  parameter Modelica.SIunits.Frequency fNominal=50 &quot;Nominal frequency&quot;;
  parameter Modelica.SIunits.AngularVelocity wActual(displayUnit=&quot;1/min&quot;)=1499*2*Modelica.Constants.pi/60 
    &quot;Actual speed&quot;;
  parameter Modelica.SIunits.Current Ie = 19 &quot;Excitation current&quot;;
  parameter Modelica.SIunits.Current Ie0 = 10 &quot;Initial excitation current&quot;;
  parameter Modelica.SIunits.Angle gamma0(displayUnit=&quot;deg&quot;)=0 
    &quot;Initial rotor displacement angle&quot;;
  Machines.BasicMachines.SynchronousInductionMachines.SM_ElectricalExcited
    smee(
    useSupport=true, phiMechanical(start=-(Modelica.Constants.pi +gamma0)/smee.p, fixed=true),
    fsNominal=smeeData.fsNominal,
    Rs=smeeData.Rs,
    TsRef=smeeData.TsRef,
    alpha20s=smeeData.alpha20s,
    Lssigma=smeeData.Lssigma,
    Lmd=smeeData.Lmd,
    Lmq=smeeData.Lmq,
    Lrsigmad=smeeData.Lrsigmad,
    Lrsigmaq=smeeData.Lrsigmaq,
    Rrd=smeeData.Rrd,
    Rrq=smeeData.Rrq,
    TrRef=smeeData.TrRef,
    alpha20r=smeeData.alpha20r,
    VsNominal=smeeData.VsNominal,
    IeOpenCircuit=smeeData.IeOpenCircuit,
    Re=smeeData.Re,
    TeRef=smeeData.TeRef,
    alpha20e=smeeData.alpha20e,
    sigmae=smeeData.sigmae);
  Machines.Sensors.RotorDisplacementAngle rotorDisplacementAngle(p=smee.p,
      useSupport=true);
  Modelica.Electrical.Analog.Basic.Ground groundExcitation;
  Modelica.Mechanics.Rotational.Sources.ConstantSpeed constantSpeed(
    final w_fixed=wActual);
  Machines.Sensors.MechanicalPowerSensor mechanicalPowerSensor(useSupport=true);
  Machines.Sensors.ElectricalPowerSensor electricalPowerSensor;
  Machines.Sensors.CurrentQuasiRMSSensor currentQuasiRMSSensor;
  Modelica.Electrical.MultiPhase.Sources.SineVoltage sineVoltage(
    final m=m,
    final V=fill(VNominal*sqrt(2), m),
    final freqHz=fill(fNominal, m));
  Modelica.Electrical.MultiPhase.Basic.Star star(final m=m);
  Modelica.Electrical.Analog.Basic.Ground ground;
  Modelica.Electrical.Analog.Sources.RampCurrent rampCurrent(
    duration=0.1,
    I=Ie - Ie0,
    offset=Ie0);
  Machines.Utilities.TerminalBox terminalBox(terminalConnection=&quot;Y&quot;);
  Modelica.Mechanics.Rotational.Components.Fixed fixed;
  parameter Machines.Utilities.SynchronousMachineData smeeData;
equation 
  connect(rotorDisplacementAngle.plug_n, smee.plug_sn);
  connect(rotorDisplacementAngle.plug_p, smee.plug_sp);
  connect(star.pin_n, ground.p);
  connect(star.plug_p, sineVoltage.plug_n);
  connect(electricalPowerSensor.plug_ni, currentQuasiRMSSensor.plug_p);
  connect(mechanicalPowerSensor.flange_b, constantSpeed.flange);
  connect(sineVoltage.plug_p, electricalPowerSensor.plug_p);
  connect(rampCurrent.p, groundExcitation.p);
  connect(rampCurrent.p, smee.pin_en);
  connect(rampCurrent.n, smee.pin_ep);
  connect(electricalPowerSensor.plug_nv, smee.plug_sn);
  connect(terminalBox.plugSupply, currentQuasiRMSSensor.plug_n);
  connect(terminalBox.plug_sn, smee.plug_sn);
  connect(terminalBox.plug_sp, smee.plug_sp);
  connect(constantSpeed.support, fixed.flange);
  connect(mechanicalPowerSensor.support, fixed.flange);
  connect(smee.support, fixed.flange);
  connect(rotorDisplacementAngle.support, smee.support);
  connect(smee.flange, rotorDisplacementAngle.flange);
  connect(smee.flange, mechanicalPowerSensor.flange_a);
end SMEE_Generator;</code></pre>
<hr />
<h1 id="image14-modelica.electrical.machines.examples.synchronousinductionmachines.smee_loaddump"><img src="Modelica.Electrical.Machines.Examples.SynchronousInductionMachines.SMR_InverterI.png" alt="image14" /> <a href="Modelica_Electrical_Machines_Examples_SynchronousInductionMachines.html#Modelica.Electrical.Machines.Examples.SynchronousInductionMachines">Modelica.Electrical.Machines.Examples.SynchronousInductionMachines</a>.SMEE_LoadDump</h1>
<p><strong>Test example: ElectricalExcitedSynchronousInductionMachine with voltage controller</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<dl>
<dt><strong>Test example: Electrical excited synchronous induction machine with voltage controller</strong></dt>
<dd><p>An electrically excited synchronous generator is started with a speed</p>
</dd>
</dl>
<p>ramp, then driven with constant speed. Voltage is controlled, the set point depends on speed. After start-up the generator is loaded, the load is rejected. Simulate for 10 seconds and plot:</p>
<ul>
<li>voltageQuasiRMSSensor.V</li>
<li>smee.tauElectrical</li>
<li>smee.ie</li>
</ul>
<p>Default machine parameters of model <em>SM_ElectricalExcited</em> are used. One could try to optimize the controller parameters.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="57%" />
<col width="6%" />
<col width="15%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity">AngularVelocity</a></td>
<td align="left">wNominal</td>
<td align="left">2*pi*smeeData.fsNominal/smee.p</td>
<td align="left">Nominal speed [rad/s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Impedance">Impedance</a></td>
<td align="left">ZNominal</td>
<td align="left">3*smeeData.VsNominal^2/smeeD...</td>
<td align="left">Nominal load impedance [Ohm]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">powerFactor</td>
<td align="left">0.8</td>
<td align="left">Load power factor</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistance">Resistance</a></td>
<td align="left">RLoad</td>
<td align="left">ZNominal*powerFactor</td>
<td align="left">Load resistance [Ohm]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">LLoad</td>
<td align="left">ZNominal*sqrt(1 - powerFacto...</td>
<td align="left">Load inductance [H]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">Ve0</td>
<td align="left">smee.IeOpenCircuit*Machines....</td>
<td align="left">No load excitation voltage [V]</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">k</td>
<td align="left">2*Ve0/smeeData.VsNominal</td>
<td align="left">Voltage controller: gain</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">Ti</td>
<td align="left">smeeData.Td0Transient/2</td>
<td align="left">Voltage controller: integral time constant [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Utilities.html#Modelica.Electrical.Machines.Utilities.SynchronousMachineData">SynchronousMachineData</a></td>
<td align="left">smeeData</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>model SMEE_LoadDump 
  &quot;Test example: ElectricalExcitedSynchronousInductionMachine with voltage controller&quot;
  extends Modelica.Icons.Example;
  import Modelica.Constants.pi;
  constant Integer m=3 &quot;Number of phases&quot;;
  parameter Modelica.SIunits.AngularVelocity wNominal=2*pi*smeeData.fsNominal/smee.p 
    &quot;Nominal speed&quot;;
  parameter Modelica.SIunits.Impedance ZNominal=3*smeeData.VsNominal^2/smeeData.SNominal 
    &quot;Nominal load impedance&quot;;
  parameter Real powerFactor(min=0, max=1)=0.8 &quot;Load power factor&quot;;
  parameter Modelica.SIunits.Resistance RLoad=ZNominal*powerFactor 
    &quot;Load resistance&quot;;
  parameter Modelica.SIunits.Inductance LLoad=ZNominal*sqrt(1-powerFactor^2)/(2*pi*smeeData.fsNominal) 
    &quot;Load inductance&quot;;
  parameter Modelica.SIunits.Voltage Ve0=smee.IeOpenCircuit*
    Machines.Thermal.convertResistance(smee.Re, smee.TeRef, smee.alpha20e, smee.TeOperational) 
    &quot;No load excitation voltage&quot;;
  parameter Real k=2*Ve0/smeeData.VsNominal &quot;Voltage controller: gain&quot;;
  parameter Modelica.SIunits.Time Ti=smeeData.Td0Transient/2 
    &quot;Voltage controller: integral time constant&quot;;
  output Real controlError=(setPointGain.y - voltageQuasiRMSSensor.V)/smeeData.VsNominal;
  Machines.BasicMachines.SynchronousInductionMachines.SM_ElectricalExcited
    smee(
    fsNominal=smeeData.fsNominal,
    Rs=smeeData.Rs,
    TsRef=smeeData.TsRef,
    Lssigma=smeeData.Lssigma,
    Lmd=smeeData.Lmd,
    Lmq=smeeData.Lmq,
    Lrsigmad=smeeData.Lrsigmad,
    Lrsigmaq=smeeData.Lrsigmaq,
    Rrd=smeeData.Rrd,
    Rrq=smeeData.Rrq,
    TrRef=smeeData.TrRef,
    VsNominal=smeeData.VsNominal,
    IeOpenCircuit=smeeData.IeOpenCircuit,
    Re=smeeData.Re,
    TeRef=smeeData.TeRef,
    sigmae=smeeData.sigmae,
    alpha20s=smeeData.alpha20s,
    useDamperCage=true,
    alpha20r=smeeData.alpha20r,
    alpha20e=smeeData.alpha20e);
  parameter Machines.Utilities.SynchronousMachineData smeeData;
  Machines.Utilities.TerminalBox terminalBox(terminalConnection=&quot;Y&quot;);
  Modelica.Electrical.Analog.Basic.Ground ground;
  Modelica.Mechanics.Rotational.Sources.Speed speed;
  Modelica.Blocks.Sources.Ramp speedRamp(height=wNominal, duration=1);
  Modelica.Mechanics.Rotational.Sensors.SpeedSensor speedSensor;
  Modelica.Blocks.Math.Gain setPointGain(k=smeeData.VsNominal/wNominal);
  Machines.Sensors.VoltageQuasiRMSSensor voltageQuasiRMSSensor(
      ToSpacePhasor1(y(each start=1E-3, each fixed=true)));
  Modelica.Blocks.Continuous.LimPID voltageController(
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    k=k,
    Ti=Ti,
    yMax=2.5*Ve0,
    yMin=0);
  Modelica.Electrical.Analog.Sources.SignalVoltage excitationVoltage;
  Modelica.Electrical.Analog.Basic.Ground groundExcitation;
  Machines.Sensors.CurrentQuasiRMSSensor currentQuasiRMSSensor;
  Modelica.Blocks.Sources.BooleanPulse loadControl(period=4, startTime=2);
  Modelica.Electrical.MultiPhase.Ideal.CloserWithArc switch(     m=m);
  Modelica.Electrical.MultiPhase.Basic.Resistor loadResistor(m=m, R=fill(RLoad, m));
  Modelica.Electrical.MultiPhase.Basic.Inductor loadInductor(m=m, L=fill(LLoad, m));
  Modelica.Electrical.MultiPhase.Basic.Star star(m=m);
equation 
  connect(terminalBox.plug_sn, smee.plug_sn);
  connect(terminalBox.plug_sp, smee.plug_sp);
  connect(excitationVoltage.p, smee.pin_ep);
  connect(excitationVoltage.n, smee.pin_en);
  connect(excitationVoltage.n, groundExcitation.p);
  connect(voltageQuasiRMSSensor.plug_n, smee.plug_sn);
  connect(voltageQuasiRMSSensor.plug_p, smee.plug_sp);
  connect(terminalBox.plugSupply, currentQuasiRMSSensor.plug_n);
  connect(smee.flange, speed.flange);
  connect(speed.flange, speedSensor.flange);
  connect(speedRamp.y, speed.w_ref);
  connect(setPointGain.y, voltageController.u_s);
  connect(speedSensor.w, setPointGain.u);
  connect(voltageQuasiRMSSensor.V, voltageController.u_m);

  connect(voltageController.y, excitationVoltage.v);
  connect(loadInductor.plug_p, loadResistor.plug_n);
  connect(loadResistor.plug_p, switch.plug_n);
  connect(switch.plug_p, currentQuasiRMSSensor.plug_p);
  connect(star.plug_p, loadInductor.plug_n);
  connect(loadControl.y, switch.control[1]);
  connect(loadControl.y, switch.control[2]);
  connect(loadControl.y, switch.control[3]);
  connect(star.pin_n, ground.p);
end SMEE_LoadDump;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:28:36 2010.</p>
</body>
</html>
