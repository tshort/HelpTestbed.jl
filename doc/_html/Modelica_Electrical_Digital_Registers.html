<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Electrical.Digital.Registers</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Electrical.Digital.Registers</h1>
</div>
<h1 id="modelica.electrical.digital.registers"><a href="Modelica_Electrical_Digital.html#Modelica.Electrical.Digital">Modelica.Electrical.Digital</a>.Registers</h1>
<p><strong>Registers with N-bit input data and output data</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>Registers is a collection of flipflops and latches. In the opposite to the Examples.Utilities models the Register models are a series of assignments in the algorithm part of the model. The model text is taken nearly identical from the standard logic text.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="71%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFRS.png" alt="image12" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFR">DFFR</a></td>
<td align="left">Edge triggered register bank with reset</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFREGS.png" alt="image13" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREG">DFFREG</a></td>
<td align="left">Edge triggered register bank with high active reset</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFREGLS.png" alt="image14" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREGL">DFFREGL</a></td>
<td align="left">Edge triggered register bank with low active reset</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFSRS.png" alt="image15" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFSR">DFFSR</a></td>
<td align="left">Edge triggered register bank with set and reset</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFREGSRHS.png" alt="image16" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREGSRH">DFFREGSRH</a></td>
<td align="left">Edge triggered register bank with high active set and reset</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DFFREGSRHS.png" alt="image17" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREGSRL">DFFREGSRL</a></td>
<td align="left">Edge triggered register bank with low active set and reset</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATRS.png" alt="image18" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATR">DLATR</a></td>
<td align="left">Level sensitive register bank with reset</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATREGS.png" alt="image19" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREG">DLATREG</a></td>
<td align="left">Level sensitive register bank with reset active high</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATREGLS.png" alt="image20" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREGL">DLATREGL</a></td>
<td align="left">Level sensitive register bank with reset active low</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATSRS.png" alt="image21" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATSR">DLATSR</a></td>
<td align="left">Level sensitive register bank with set and reset</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATREGSRHS.png" alt="image22" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREGSRH">DLATREGSRH</a></td>
<td align="left">Level sensitive register bank with set and reset, active high</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Digital.Registers.DLATREGSRLS.png" alt="image23" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREGSRL">DLATREGSRL</a></td>
<td align="left">Level sensitive register bank with set and reset, active low</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image24-modelica.electrical.digital.registers.dffr"><img src="Modelica.Electrical.Digital.Registers.DFFRI.png" alt="image24" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFR</h1>
<p><strong>Edge triggered register bank with reset</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities</p>
<p><strong>Truth Table for high active reset:</strong></p>
<table>
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="30%" />
<col width="10%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">0</td>
<td align="left">NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">0</td>
<td align="left">DataIn</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">4</td>
</tr>
</tbody>
</table>
<p><strong>Truth Table for low active reset:</strong></p>
<table>
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="30%" />
<col width="10%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">1</td>
<td align="left">NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">1</td>
<td align="left">DataIn</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">4</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="53%" />
<col width="7%" />
<col width="11%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">ResetMap[9]</td>
<td align="left">{1,4,3,2,4,4,3,2,4}</td>
<td align="left">function selection, defaults for high active reset</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>model DFFR &quot;Edge triggered register bank with reset&quot;
  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Integer ResetMap[9] = {1, 4, 3, 2, 4, 4, 3, 2, 4} 
    &quot;function selection, defaults for high active reset&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput clock;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];
protected 
          Integer clock_flag(start=0);
            // 0: 0-Transition
            // 1: rising edge
            // 2: X-Transition

           Integer reset_flag(start=1);
            // 1: output := U
            // 2: output := 0
            // 3: output := -dataInUX
            // 4: output := U-0X
protected 
          D.Interfaces.Logic nextstate[n](start=fill(L.&#39;U&#39;,n));
          D.Interfaces.Logic next_assign_val[n](start=fill(L.&#39;U&#39;,n));

algorithm 
if change(clock) or change(reset) then

  if change(clock) then
    if initial() then
      clock_flag := T.ClockMap[L.&#39;U&#39;,clock];
    else
      clock_flag := T.ClockMap[pre(clock),clock];
    end if;
  end if;

  reset_flag :=  ResetMap[reset];
  for i in 1:n loop
    if reset_flag == 1 then
      nextstate[i] := L.&#39;U&#39;;
    elseif reset_flag == 2 then
      nextstate[i] := T.StrengthMap[L.&#39;0&#39;, strength];
    elseif reset_flag == 3 then
      if clock_flag == 0 then
        break;
      elseif clock_flag == 1 then
        nextstate[i] := T.StrengthMap[dataIn[i], strength];
      else
        if (next_assign_val[i] == T.StrengthMap[dataIn[i], strength])
          or (next_assign_val[i] == L.&#39;U&#39;) then
            break;
        elseif dataIn[i] == L.&#39;U&#39; then
            nextstate[i] := L.&#39;U&#39;;
        else
            nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
        end if;
      end if;
    elseif reset_flag == 4 then
      if (next_assign_val[i] == T.StrengthMap[L.&#39;0&#39;, strength])
        and (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39; or clock_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39;) and (clock_flag == 1) then
          nextstate[i] := T.StrengthMap[L.&#39;0&#39;, strength];
      elseif ((next_assign_val[i] == L.&#39;U&#39;) and not (clock_flag == 1))
        or ((dataIn[i] == L.&#39;U&#39;) and not (clock_flag == 0)) then
          nextstate[i] := L.&#39;U&#39;;
      else
        nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    end if;
  end for;
end if;
next_assign_val := nextstate;
dataOut := nextstate;
end DFFR;</code></pre>
<hr />
<h1 id="image25-modelica.electrical.digital.registers.dffreg"><img src="Modelica.Electrical.Digital.Registers.DFFREGI.png" alt="image25" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFREG</h1>
<p><strong>Edge triggered register bank with high active reset</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="30%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">0</td>
<td align="left">NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">0</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>model DFFREG &quot;Edge triggered register bank with high active reset&quot;
  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Modelica.SIunits.Time tHL=0 &quot;High-&gt;Low delay&quot;;
  parameter Modelica.SIunits.Time tLH=0 &quot;Low-&gt;High delay&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;
protected 
  constant Integer ResetMap[9] = {1, 4, 3, 2, 4, 4, 3, 2, 4};
      // Function selection by [reset] reading
      // 1: output := U
      // 2: output := 0
      // 3: output := -dataInUX
      // 4: output := U-0X

public 
  Modelica.Electrical.Digital.Delay.InertialDelaySensitiveVector delay(
    tHL=tHL,
    tLH=tLH,
    n=n);
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput clock;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];

  D.Registers.DFFR dFFR(n=n,
    ResetMap=ResetMap,
    strength=strength);
equation 
  connect(dataOut, dataOut);
  connect(delay.y, dataOut);
  connect(dataIn, dFFR.dataIn);
  connect(dFFR.dataOut, delay.x);
  connect(clock, dFFR.clock);
  connect(reset, dFFR.reset);
end DFFREG;</code></pre>
<hr />
<h1 id="image26-modelica.electrical.digital.registers.dffregl"><img src="Modelica.Electrical.Digital.Registers.DFFREGI.png" alt="image26" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFREGL</h1>
<p><strong>Edge triggered register bank with low active reset</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="30%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">1</td>
<td align="left">NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">1</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREG">DFFREG</a> (Edge triggered register bank with high active reset).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>model DFFREGL &quot;Edge triggered register bank with low active reset&quot;
  extends DFFREG(final ResetMap = {1, 4, 2, 3, 4, 4, 2, 3, 4});
      // Function selection by [reset] reading
      // 1: output := U
      // 2: output := 0
      // 3: output := -dataInUX
      // 4: output := U-0X;
end DFFREGL;</code></pre>
<hr />
<h1 id="image27-modelica.electrical.digital.registers.dffsr"><img src="Modelica.Electrical.Digital.Registers.DFFSRI.png" alt="image27" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFSR</h1>
<p><strong>Edge triggered register bank with set and reset</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table for high active set and reset</strong></p>
<table>
<col width="17%" />
<col width="16%" />
<col width="16%" />
<col width="14%" />
<col width="25%" />
<col width="9%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
<td align="left">4</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
<td align="left">5</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">DataIn</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
<td align="left">8</td>
</tr>
</tbody>
</table>
<p><strong>Truth Table for low active set and reset</strong></p>
<table>
<col width="17%" />
<col width="16%" />
<col width="16%" />
<col width="14%" />
<col width="25%" />
<col width="9%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
<td align="left">4</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
<td align="left">5</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">NC</td>
<td align="left">8</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="51%" />
<col width="10%" />
<col width="16%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">ResetSetMap[9, 9]</td>
<td align="left">[1, 1, 1, 1, 1, 1, 1, 1, 1; ...</td>
<td align="left">function selection by [reset, set] reading</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>model DFFSR &quot;Edge triggered register bank with set and reset&quot;
  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Integer ResetSetMap[9, 9]=[
             1,  1,  1,  1,  1,  1,  1,  1,  1;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4] 
    &quot;function selection by [reset, set] reading&quot;;
    /* Defaults for set and reset are active high */
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

  D.Interfaces.DigitalInput set;
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput clock;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];

protected 
          Integer clock_flag(start=0);
            // 0: 0-Transition
            // 1: rising edge
            // 2: X-Transition

          Integer reset_set_flag(start=1);
            // 1: output := U
            // 2: output := 1
            // 3: output := 0
            // 4: output := UX
            // 5: output := -1UX
            // 6: output := X
            // 7: output := -0UX
            // 8: output := -dataInUX

          D.Interfaces.Logic nextstate[n](start=fill(L.&#39;U&#39;,n));
          D.Interfaces.Logic next_assign_val[n](start=fill(L.&#39;U&#39;,n));

algorithm 
if change(clock) or change(reset) or change(set) then

  if change(clock) then
    if initial() then
      clock_flag := T.ClockMap[L.&#39;U&#39;,clock];
    else
      clock_flag := T.ClockMap[pre(clock),clock];
    end if;
  end if;

  reset_set_flag := ResetSetMap[reset, set];
  for i in 1:n loop
    if reset_set_flag == 1 then
          nextstate[i] := L.&#39;U&#39;;
    elseif reset_set_flag == 2 then
          nextstate[i] := T.StrengthMap[L.&#39;1&#39;, strength];
    elseif reset_set_flag == 3 then
          nextstate[i] := T.StrengthMap[L.&#39;0&#39;, strength];
    elseif reset_set_flag == 4 then
      if (next_assign_val[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 5 then
      if next_assign_val[i] == T.StrengthMap[L.&#39;1&#39;, strength]
        and (dataIn[i] == L.&#39;1&#39; or dataIn[i] == L.&#39;H&#39; or clock_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;1&#39; or dataIn[i] == L.&#39;H&#39;)  and clock_flag == 1 then
          nextstate[i] := T.StrengthMap[L.&#39;1&#39;, strength];
      elseif (next_assign_val[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 6 then
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
    elseif reset_set_flag == 7 then
      if next_assign_val[i] == T.StrengthMap[L.&#39;0&#39;, strength]
        and (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39; or clock_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39;) and clock_flag == 1 then
          nextstate[i] :=  T.StrengthMap[L.&#39;0&#39;, strength];
      elseif (next_assign_val[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and clock_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 8 then
      if clock_flag == 0 then
          break;
      elseif clock_flag == 1 then
          nextstate[i] := T.StrengthMap[dataIn[i], strength];
      else
        if next_assign_val[i] == T.StrengthMap[dataIn[i],strength]
        or next_assign_val[i] == L.&#39;U&#39; then
            break;
        elseif (dataIn[i] == L.&#39;U&#39;) then
            nextstate[i] := L.&#39;U&#39;;
        else
            nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
        end if;
       end if;
      end if;
    end for;
  end if;

next_assign_val := nextstate;
dataOut := nextstate;
end DFFSR;</code></pre>
<hr />
<h1 id="image28-modelica.electrical.digital.registers.dffregsrh"><img src="Modelica.Electrical.Digital.Registers.DFFREGSRHI.png" alt="image28" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFREGSRH</h1>
<p><strong>Edge triggered register bank with high active set and reset</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="19%" />
<col width="18%" />
<col width="18%" />
<col width="15%" />
<col width="28%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">*</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or 0 or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>model DFFREGSRH 
  &quot;Edge triggered register bank with high active set and reset&quot;
  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Modelica.SIunits.Time tHL=0 &quot;High-&gt;Low delay&quot;;
  parameter Modelica.SIunits.Time tLH=0 &quot;Low-&gt;High delay&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

protected 
  constant Integer ResetSetMap[9, 9]=[
             1,  1,  1,  1,  1,  1,  1,  1,  1;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4];
            // Function selection by [reset, set] reading, active high;

protected 
  D.Delay.InertialDelaySensitiveVector delay(
    tHL=tHL,
    tLH=tLH,
    n=n);
  D.Registers.DFFSR dFFSR(
    strength=strength,
    n=n,
    ResetSetMap=ResetSetMap);
public 
  D.Interfaces.DigitalInput set;
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput clock;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];
equation 
  connect(dFFSR.dataOut, delay.x);
  connect(set, dFFSR.set);
  connect(reset, dFFSR.reset);
  connect(clock, dFFSR.clock);
  connect(dataIn, dFFSR.dataIn);
  connect(delay.y, dataOut);
end DFFREGSRH;</code></pre>
<hr />
<h1 id="image29-modelica.electrical.digital.registers.dffregsrl"><img src="Modelica.Electrical.Digital.Registers.DFFREGSRHI.png" alt="image29" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DFFREGSRL</h1>
<p><strong>Edge triggered register bank with low active set and reset</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="19%" />
<col width="18%" />
<col width="18%" />
<col width="15%" />
<col width="28%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Clock</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">*</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or 0 or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0-Trns</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<blockquote>
<dl>
<dt>Clock transition definitions:</dt>
<dd><p>1-Trns: 0 -&gt; 1 0-Trns: ~ -&gt; 0 or 1 -&gt; * or X -&gt; X|U or U -&gt; X|U X-Trns: 0 -&gt; X|U or X|U -&gt; 1</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DFFREGSRH">Digital.Registers.DFFREGSRH</a> (Edge triggered register bank with high active set and reset).</p>
<h2 id="parameters-5">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-5">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">clock</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>model DFFREGSRL 
  &quot;Edge triggered register bank with low active set and reset&quot;
  extends Digital.Registers.DFFREGSRH(final ResetSetMap=[1,1,1,1,1,1,1,1,1;
        1,4,2,7,4,4,2,7,4; 1,6,2,3,6,6,2,3,6; 1,5,2,8,5,5,2,8,5; 1,4,2,7,4,
        4,2,7,4; 1,4,2,7,4,4,2,7,4; 1,6,2,3,6,6,2,3,6; 1,5,2,8,5,5,2,8,5; 1,
        4,2,7,4,4,2,7,4]);
           // Function selection by [reset, set] reading;
end DFFREGSRL;</code></pre>
<hr />
<h1 id="image30-modelica.electrical.digital.registers.dlatr"><img src="Modelica.Electrical.Digital.Registers.DLATRI.png" alt="image30" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATR</h1>
<p><strong>Level sensitive register bank with reset</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table for high active reset:</strong></p>
<table>
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="29%" />
<col width="10%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">DataIn</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">U</td>
<td align="left">4</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">4</td>
</tr>
</tbody>
</table>
<p><strong>Truth Table for low active reset:</strong></p>
<table>
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="29%" />
<col width="10%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">U</td>
<td align="left">4</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">4</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<h2 id="parameters-6">Parameters</h2>
<table>
<col width="53%" />
<col width="7%" />
<col width="11%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">ResetMap[9]</td>
<td align="left">{1,4,3,2,4,4,3,2,4}</td>
<td align="left">function selection, defaults for high active reset</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-6">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>model DLATR &quot;Level sensitive register bank with reset&quot;

  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Integer ResetMap[9] = {1, 4, 3, 2, 4, 4, 3, 2, 4} 
    &quot;function selection, defaults for high active reset&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput enable;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];

protected 
           Integer enable_flag(start=0);
            // 0: low level
            // 1: high level
            // 2: unknown
            // 3: uninitialized

           Integer reset_flag(start=1);
            // 1: output := U
            // 2: output := 0
            // 3: output := -UdataIn
            // 4: output := U-0X

          D.Interfaces.Logic nextstate[n](start=fill(L.&#39;U&#39;,n));
          D.Interfaces.Logic next_assign_val[n](start=fill(L.&#39;U&#39;,n));
algorithm 
  if enable == L.&#39;1&#39; or enable == L.&#39;H&#39; then
    enable_flag := 1;
  elseif enable == L.&#39;0&#39; or enable == L.&#39;L&#39; then
    enable_flag := 0;
  elseif enable == L.&#39;U&#39; then
    enable_flag := 3;
  else
    enable_flag := 2;
  end if;

  reset_flag :=  ResetMap[reset];
  for i in 1:n loop
    if reset_flag == 1 then
          nextstate[i] := L.&#39;U&#39;;
    elseif reset_flag == 2 then
          nextstate[i] := T.StrengthMap[L.&#39;0&#39;, strength];
    elseif reset_flag == 3 then
      if enable_flag == 0 then
          break;
      elseif enable_flag == 3 then
          nextstate[i] := L.&#39;U&#39;;
      elseif enable_flag == 1 then
          nextstate[i] := T.StrengthMap[dataIn[i], strength];
      else
        if next_assign_val[i] == T.StrengthMap[dataIn[i],strength]
        or next_assign_val[i] == L.&#39;U&#39; then
            break;
        elseif dataIn[i] == L.&#39;U&#39; then
            nextstate[i] := L.&#39;U&#39;;
        else
            nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
        end if;
      end if;
    elseif reset_flag == 4 then
     if enable_flag == 3
        or (next_assign_val[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      elseif next_assign_val[i] == T.StrengthMap[L.&#39;0&#39;, strength]
        and (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39; or enable_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39;) and enable_flag == 1 then
          nextstate[i] :=  T.StrengthMap[L.&#39;0&#39;, strength];
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    end if;
  end for;
  next_assign_val := nextstate;
  dataOut := nextstate;
end DLATR;</code></pre>
<hr />
<h1 id="image31-modelica.electrical.digital.registers.dlatreg"><img src="Modelica.Electrical.Digital.Registers.DLATREGI.png" alt="image31" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATREG</h1>
<p><strong>Level sensitive register bank with reset active high</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="30%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<h2 id="parameters-7">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-7">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>model DLATREG &quot;Level sensitive register bank with reset active high&quot;

  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Modelica.SIunits.Time tHL=0 &quot;High-&gt;Low delay&quot;;
  parameter Modelica.SIunits.Time tLH=0 &quot;Low-&gt;High delay&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

protected 
  constant Integer ResetMap[9] = {1, 4, 3, 2, 4, 4, 3, 2, 4};
      // Function selection by [reset] reading
      // 1: output := U
      // 2: output := 0
      // 3: output := -UdataIn
      // 4: output := U-0X

public 
  D.Delay.InertialDelaySensitiveVector delay(
    tHL=tHL,
    tLH=tLH,
    n=n);
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput enable;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];
  D.Registers.DLATR dLATR(n=n,
    strength=strength,
    ResetMap=ResetMap);
equation 

  connect(dataOut, dataOut);
  connect(delay.y, dataOut);
  connect(dLATR.dataOut, delay.x);
  connect(dataIn, dLATR.dataIn);
  connect(enable, dLATR.enable);
  connect(reset, dLATR.reset);
end DLATREG;</code></pre>
<hr />
<h1 id="image32-modelica.electrical.digital.registers.dlatregl"><img src="Modelica.Electrical.Digital.Registers.DLATREGI.png" alt="image32" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATREGL</h1>
<p><strong>Level sensitive register bank with reset active low</strong></p>
<h2 id="information-9">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="30%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X or U or 0 or NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREG">DLATREG</a> (Level sensitive register bank with reset active high).</p>
<h2 id="parameters-8">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-8">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-8">Modelica definition</h2>
<pre><code>model DLATREGL &quot;Level sensitive register bank with reset active low&quot;

  extends DLATREG(final ResetMap = {1, 4, 2, 3, 4, 4, 2, 3, 4});
      // Function selection by [reset] reading
      // 1: output := U
      // 2: output := 0
      // 3: output := -UdataIn
      // 4: output := U-0X

end DLATREGL;</code></pre>
<hr />
<h1 id="image33-modelica.electrical.digital.registers.dlatsr"><img src="Modelica.Electrical.Digital.Registers.DLATSRI.png" alt="image33" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATSR</h1>
<p><strong>Level sensitive register bank with set and reset</strong></p>
<h2 id="information-10">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table for high active set and reset</strong></p>
<table>
<col width="16%" />
<col width="16%" />
<col width="15%" />
<col width="13%" />
<col width="24%" />
<col width="13%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">~1</td>
<td align="left">U</td>
<td align="left">4,5,7,8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">7</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">DataIn</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
<td align="left">8</td>
</tr>
</tbody>
</table>
<p><strong>Truth Table for low active set and reset</strong></p>
<table>
<col width="16%" />
<col width="16%" />
<col width="15%" />
<col width="13%" />
<col width="24%" />
<col width="13%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
<td align="left">Map</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">U</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">~0</td>
<td align="left">U</td>
<td align="left">4,5,7,8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or 0 or NC</td>
<td align="left">7</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
<td align="left">8</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">NC</td>
<td align="left">8</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<h2 id="parameters-9">Parameters</h2>
<table>
<col width="51%" />
<col width="10%" />
<col width="16%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">ResetSetMap[9, 9]</td>
<td align="left">[1, 1, 1, 1, 1, 1, 1, 1, 1; ...</td>
<td align="left">function selection by [reset, set] reading</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-9">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-9">Modelica definition</h2>
<pre><code>model DLATSR &quot;Level sensitive register bank with set and reset&quot;

  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Integer ResetSetMap[9, 9]=[
             1,  1,  1,  1,  1,  1,  1,  1,  1;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4] 
    &quot;function selection by [reset, set] reading&quot;;
    /* Defaults for set and reset are active high */
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

  D.Interfaces.DigitalInput set;
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput enable;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];

protected 
          Integer enable_flag(start=0);
            // 0: low level
            // 1: high level
            // 2: unknown
            // 3: uninitialized

          Integer reset_set_flag(start=1);
            // 1: output := U
            // 2: output := 1
            // 3: output := 0
            // 4: output := UX
            // 5: output := U-1X
            // 6: output := X
            // 7: output := U-0X
            // 8: output := -UdataInX

          D.Interfaces.Logic nextstate[n](start=fill(L.&#39;U&#39;,n));
          D.Interfaces.Logic next_assign_val[n](start=fill(L.&#39;U&#39;,n));

algorithm 
  if enable == L.&#39;1&#39; or enable == L.&#39;H&#39; then
    enable_flag := 1;
  elseif enable == L.&#39;0&#39; or enable == L.&#39;L&#39; then
    enable_flag := 0;
  elseif enable == L.&#39;U&#39; then
    enable_flag := 3;
  else
    enable_flag := 2;
  end if;

  reset_set_flag :=  ResetSetMap[reset, set];
  for i in 1:n loop
    if reset_set_flag == 1 then
          nextstate[i] := L.&#39;U&#39;;
    elseif reset_set_flag == 2 then
          nextstate[i] := T.StrengthMap[L.&#39;1&#39;, strength];
    elseif reset_set_flag == 3 then
          nextstate[i] := T.StrengthMap[L.&#39;0&#39;, strength];
    elseif reset_set_flag == 4 then
      if enable_flag == 3
        or (next_assign_val[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 5 then
      if enable_flag == 3
        or (next_assign_val[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      elseif next_assign_val[i] == T.StrengthMap[L.&#39;1&#39;, strength]
        and (dataIn[i] == L.&#39;1&#39; or dataIn[i] == L.&#39;H&#39; or enable_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;1&#39; or dataIn[i] == L.&#39;H&#39;)  and enable_flag == 1 then
          nextstate[i] := T.StrengthMap[L.&#39;1&#39;, strength];
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 6 then
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
    elseif reset_set_flag == 7 then
      if enable_flag == 3
        or (next_assign_val[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 1)
        or (dataIn[i] == L.&#39;U&#39; and enable_flag &lt;&gt; 0) then
          nextstate[i] := L.&#39;U&#39;;
      elseif next_assign_val[i] == T.StrengthMap[L.&#39;0&#39;, strength]
        and (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39; or enable_flag == 0) then
          break;
      elseif (dataIn[i] == L.&#39;0&#39; or dataIn[i] == L.&#39;L&#39;) and enable_flag == 1 then
          nextstate[i] :=  T.StrengthMap[L.&#39;0&#39;, strength];
      else
          nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
      end if;
    elseif reset_set_flag == 8 then
      if enable_flag == 0 then
          break;
      elseif enable_flag == 3 then
          nextstate[i] := L.&#39;U&#39;;
      elseif enable_flag == 1 then
          nextstate[i] := T.StrengthMap[dataIn[i], strength];
      else
        if next_assign_val[i] == T.StrengthMap[dataIn[i],strength]
        or next_assign_val[i] == L.&#39;U&#39; then
            break;
        elseif dataIn[i] == L.&#39;U&#39; then
            nextstate[i] := L.&#39;U&#39;;
        else
            nextstate[i] := T.StrengthMap[L.&#39;X&#39;, strength];
        end if;
      end if;
    end if;
  end for;
  next_assign_val := nextstate;
  dataOut := nextstate;
end DLATSR;</code></pre>
<hr />
<h1 id="image34-modelica.electrical.digital.registers.dlatregsrh"><img src="Modelica.Electrical.Digital.Registers.DLATREGSRHI.png" alt="image34" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATREGSRH</h1>
<p><strong>Level sensitive register bank with set and reset, active high</strong></p>
<h2 id="information-11">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table:</strong></p>
<table>
<col width="19%" />
<col width="19%" />
<col width="17%" />
<col width="15%" />
<col width="28%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~1</td>
<td align="left">~1</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">X or U or 0 or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">DataIn</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<h2 id="parameters-10">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-10">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-10">Modelica definition</h2>
<pre><code>model DLATREGSRH 
  &quot;Level sensitive register bank with set and reset, active high&quot;

  import D = Modelica.Electrical.Digital;
  import L = Modelica.Electrical.Digital.Interfaces.Logic;
  import S = Modelica.Electrical.Digital.Interfaces.Strength;
  import T = Modelica.Electrical.Digital.Tables;
  parameter Modelica.SIunits.Time tHL=0 &quot;High-&gt;Low delay&quot;;
  parameter Modelica.SIunits.Time tLH=0 &quot;Low-&gt;High delay&quot;;
  parameter D.Interfaces.Strength strength = S.&#39;S_X01&#39; &quot;output strength&quot;;
  parameter Integer n(min=1) = 1 &quot;data width&quot;;

protected 
  constant Integer ResetSetMap[9, 9]=[
             1,  1,  1,  1,  1,  1,  1,  1,  1;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  4,  7,  2,  4,  4,  7,  2,  4;
             1,  5,  8,  2,  5,  5,  8,  2,  5;
             1,  6,  3,  2,  6,  6,  3,  2,  6;
             1,  4,  7,  2,  4,  4,  7,  2,  4];
            // Function selection by [reset, set] reading, active high;

public 
  D.Delay.InertialDelaySensitiveVector delay(
    tHL=tHL,
    tLH=tLH,
    n=n);
  D.Interfaces.DigitalInput set;
  D.Interfaces.DigitalInput reset;
  D.Interfaces.DigitalInput enable;
  D.Interfaces.DigitalInput dataIn[n];
  D.Interfaces.DigitalOutput dataOut[n];
  D.Registers.DLATSR dLATSR(n=n,
    ResetSetMap=ResetSetMap,
    strength=strength);
equation 

  connect(dataOut, dataOut);
  connect(delay.y, dataOut);
  connect(set, dLATSR.set);
  connect(reset, dLATSR.reset);
  connect(enable, dLATSR.enable);
  connect(dataIn, dLATSR.dataIn);
  connect(dLATSR.dataOut, delay.x);
end DLATREGSRH;</code></pre>
<hr />
<h1 id="image35-modelica.electrical.digital.registers.dlatregsrl"><img src="Modelica.Electrical.Digital.Registers.DLATREGSRLI.png" alt="image35" /> <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers">Modelica.Electrical.Digital.Registers</a>.DLATREGSRL</h1>
<p><strong>Level sensitive register bank with set and reset, active low</strong></p>
<h2 id="information-12">Information</h2>
<p>::</p>
<p>Description in VHDL is given by http://www.cs.sfu.ca/~ggbaker/reference/std_logic/src/std_logic_entities.vhd</p>
<p><strong>Truth Table</strong></p>
<table>
<col width="19%" />
<col width="19%" />
<col width="17%" />
<col width="15%" />
<col width="28%" />
<tbody>
<tr class="odd">
<td align="left"><strong>DataIn</strong></td>
<td align="left"><strong>Enable</strong></td>
<td align="left"><strong>Reset</strong></td>
<td align="left"><strong>Set</strong></td>
<td align="left"><strong>DataOut</strong></td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">*</td>
<td align="left">0</td>
<td align="left">X</td>
<td align="left">X</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">U</td>
<td align="left">~0</td>
<td align="left">~0</td>
<td align="left">U</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">X</td>
<td align="left">X or U</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">1</td>
<td align="left">X</td>
<td align="left">X or U or 1 or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">~U</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">X or U or 0 or NC</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">X</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">X or U or NC</td>
</tr>
<tr class="even">
<td align="left">*</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">DataIn</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">NC</td>
</tr>
</tbody>
</table>
<pre><code>*  = don&#39;t care
~  = not equal
U  = L.&#39;U&#39;
0  = L.&#39;0&#39; or L.&#39;L&#39;
1  = L.&#39;1&#39; or L.&#39;H&#39;
X  = L.&#39;X&#39; or L.&#39;W&#39; or L.&#39;Z&#39; or L.&#39;-&#39;
NC = no change</code></pre>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Digital_Registers.html#Modelica.Electrical.Digital.Registers.DLATREGSRH">Digital.Registers.DLATREGSRH</a> (Level sensitive register bank with set and reset, active high).</p>
<h2 id="parameters-11">Parameters</h2>
<table>
<col width="67%" />
<col width="8%" />
<col width="9%" />
<col width="14%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tHL</td>
<td align="left">0</td>
<td align="left">High-&gt;Low delay [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">tLH</td>
<td align="left">0</td>
<td align="left">Low-&gt;High delay [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.Strength">Strength</a></td>
<td align="left">strength</td>
<td align="left">S.'S_X01'</td>
<td align="left">output strength</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">n</td>
<td align="left">1</td>
<td align="left">data width</td>
</tr>
</tbody>
</table>
<h2 id="connectors-11">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">set</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">reset</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">enable</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">input <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalInput">DigitalInput</a></td>
<td align="left">dataIn[n]</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">output <a href="Modelica_Electrical_Digital_Interfaces.html#Modelica.Electrical.Digital.Interfaces.DigitalOutput">DigitalOutput</a></td>
<td align="left">dataOut[n]</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-11">Modelica definition</h2>
<pre><code>model DLATREGSRL 
  &quot;Level sensitive register bank with set and reset, active low&quot;

  extends Digital.Registers.DLATREGSRH(final ResetSetMap=[1,1,1,1,1,1,1,1,1;
        1,4,2,7,4,4,2,7,4; 1,6,2,3,5,5,2,3,6; 1,5,2,8,6,6,2,8,5; 1,4,2,7,4,
        4,2,7,4; 1,4,2,7,4,4,2,7,4; 1,6,2,3,5,5,2,3,6; 1,5,2,8,6,6,2,8,5; 1,
        4,2,7,4,4,2,7,4]);
           // Function selection by [reset, set] reading;
end DLATREGSRL;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:28:32 2010.</p>
</body>
</html>
