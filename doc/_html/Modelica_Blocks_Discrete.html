<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Blocks.Discrete</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Blocks.Discrete</h1>
</div>
<h1 id="modelica.blocks.discrete"><a href="Modelica_Blocks.html#Modelica.Blocks">Modelica.Blocks</a>.Discrete</h1>
<p><strong>Library of discrete input/output blocks with fixed sample period</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains <strong>discrete control blocks</strong> with <strong>fixed sample period</strong>. Every component of this package is structured in the following way:</p>
<ol>
<li>A component has <strong>continuous real</strong> input and output signals.</li>
<li>The <strong>input</strong> signals are <strong>sampled</strong> by the given sample period defined via parameter <strong>samplePeriod</strong>. The first sample instant is defined by parameter <strong>startTime</strong>.</li>
<li>The <strong>output</strong> signals are computed from the sampled input signals.</li>
</ol>
<p>A <strong>sampled data system</strong> may consist of components of package <strong>Discrete</strong> and of every other purely <strong>algebraic</strong> input/output block, such as the components of packages <strong>Modelica.Blocks.Math</strong>, <strong>Modelica.Blocks.Nonlinear</strong> or <strong>Modelica.Blocks.Sources</strong>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="64%" />
<col width="35%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Blocks.Discrete.SamplerS.png" alt="image8" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.Sampler">Sampler</a></td>
<td align="left">Ideal sampling of continuous signals</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Blocks.Discrete.ZeroOrderHoldS.png" alt="image9" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.ZeroOrderHold">ZeroOrderHold</a></td>
<td align="left">Zero order hold of a sampled-data system</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Blocks.Discrete.FirstOrderHoldS.png" alt="image10" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.FirstOrderHold">FirstOrderHold</a></td>
<td align="left">First order hold of a sampled-data system</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Blocks.Discrete.UnitDelayS.png" alt="image11" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay">UnitDelay</a></td>
<td align="left">Unit Delay Block</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Blocks.Discrete.TransferFunctionS.png" alt="image12" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.TransferFunction">TransferFunction</a></td>
<td align="left">Discrete Transfer Function block</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Blocks.Discrete.StateSpaceS.png" alt="image13" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.StateSpace">StateSpace</a></td>
<td align="left">Discrete State Space block</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Blocks.Discrete.TriggeredSamplerS.png" alt="image14" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.TriggeredSampler">TriggeredSampler</a></td>
<td align="left">Triggered sampling of continuous signals</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Blocks.Discrete.TriggeredSamplerS.png" alt="image15" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.TriggeredMax">TriggeredMax</a></td>
<td align="left">Compute maximum, absolute value of continuous signal at trigger instants</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image16-modelica.blocks.discrete.sampler"><img src="Modelica.Blocks.Discrete.SamplerI.png" alt="image16" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.Sampler</h1>
<p><strong>Ideal sampling of continuous signals</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Samples the continues input signal with a sampling rate defined via parameter <strong>samplePeriod</strong>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO">Interfaces.DiscreteSISO</a> (Single Input Single Output discrete control block).</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="47%" />
<col width="13%" />
<col width="9%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="71%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Continuous input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Continuous output signal</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>block Sampler &quot;Ideal sampling of continuous signals&quot;
  extends Interfaces.DiscreteSISO;

equation 
  when {sampleTrigger, initial()} then
    y = u;
  end when;
end Sampler;</code></pre>
<hr />
<h1 id="image17-modelica.blocks.discrete.zeroorderhold"><img src="Modelica.Blocks.Discrete.ZeroOrderHoldI.png" alt="image17" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.ZeroOrderHold</h1>
<p><strong>Zero order hold of a sampled-data system</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>The output is identical to the sampled input signal at sample time instants and holds the output at the value of the last sample instant during the sample points.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO">Interfaces.DiscreteSISO</a> (Single Input Single Output discrete control block).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="47%" />
<col width="13%" />
<col width="9%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="71%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Continuous input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Continuous output signal</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>block ZeroOrderHold &quot;Zero order hold of a sampled-data system&quot;
  extends Interfaces.DiscreteSISO;
  output Real ySample(start=0, fixed=true);

equation 
  when {sampleTrigger, initial()} then
    ySample = u;
  end when;
  /* Define y=ySample with an infinitesimal delay to break potential
       algebraic loops if both the continuous and the discrete part have
       direct feedthrough
    */
  y = pre(ySample);
end ZeroOrderHold;</code></pre>
<hr />
<h1 id="image18-modelica.blocks.discrete.firstorderhold"><img src="Modelica.Blocks.Discrete.FirstOrderHoldI.png" alt="image18" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.FirstOrderHold</h1>
<p><strong>First order hold of a sampled-data system</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>The output signal is the extrapolation through the values of the last two sampled input signals.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO">Interfaces.DiscreteSISO</a> (Single Input Single Output discrete control block).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="47%" />
<col width="13%" />
<col width="9%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="71%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Continuous input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Continuous output signal</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>block FirstOrderHold &quot;First order hold of a sampled-data system&quot;
  extends Interfaces.DiscreteSISO;
protected 
  Real ySample;
  Modelica.SIunits.Time tSample;
  Real c;

equation 
  when sampleTrigger then
    ySample = u;
    tSample = time;
    c = if firstTrigger then 0 else (ySample - pre(ySample))/samplePeriod;
  end when;
  /* Use pre(ySample) and pre(c) to break potential algebraic loops by an
       infinitesimal delay if both the continuous and the discrete part
       have direct feedthrough.
    */
  y = pre(ySample) + pre(c)*(time - tSample);
end FirstOrderHold;</code></pre>
<hr />
<h1 id="image19-modelica.blocks.discrete.unitdelay"><img src="Modelica.Blocks.Discrete.UnitDelayI.png" alt="image19" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.UnitDelay</h1>
<p><strong>Unit Delay Block</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>This block describes a unit delay:</p>
<pre><code>1</code></pre>
<blockquote>
<dl>
<dt>y = --- * u</dt>
<dd><p>z</p>
</dd>
</dl>
</blockquote>
<p>that is, the output signal y is the input signal u of the previous sample instant. Before the second sample instant, the output y is identical to parameter yStart.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO">Interfaces.DiscreteSISO</a> (Single Input Single Output discrete control block).</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="47%" />
<col width="13%" />
<col width="9%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">y_start</td>
<td align="left">0</td>
<td align="left">Initial value of output signal</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="71%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Continuous input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Continuous output signal</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>block UnitDelay &quot;Unit Delay Block&quot;
  parameter Real y_start=0 &quot;Initial value of output signal&quot;;
  extends Interfaces.DiscreteSISO;

equation 
  when sampleTrigger then
    y = pre(u);
  end when;

initial equation 
    y = y_start;
end UnitDelay;</code></pre>
<hr />
<h1 id="image20-modelica.blocks.discrete.transferfunction"><img src="Modelica.Blocks.Discrete.TransferFunctionI.png" alt="image20" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.TransferFunction</h1>
<p><strong>Discrete Transfer Function block</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>The <strong>discrete transfer function</strong> block defines the transfer function between the input signal u and the output signal y. The numerator has the order nb-1, the denominator has the order na-1.</p>
<pre><code>b(1)*z^(nb-1) + b(2)*z^(nb-2) + ... + b(nb)</code></pre>
<blockquote>
<dl>
<dt>y(z) = -------------------------------------------- * u(z)</dt>
<dd><p>a(1)<em>z^(na-1) + a(2)</em>z^(na-2) + ... + a(na)</p>
</dd>
</dl>
</blockquote>
<p>State variables <strong>x</strong> are defined according to <strong>controller canonical</strong> form. Initial values of the states can be set as start values of <strong>x</strong>.</p>
<p>Example:</p>
<pre><code>Blocks.Discrete.TransferFunction g(b = {2,4}, a = {1,3});</code></pre>
<p>results in the following transfer function:</p>
<pre><code>2*z + 4</code></pre>
<blockquote>
<dl>
<dt>y = --------- * u</dt>
<dd><p>z + 3</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteSISO">Interfaces.DiscreteSISO</a> (Single Input Single Output discrete control block).</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="42%" />
<col width="12%" />
<col width="8%" />
<col width="36%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">b[:]</td>
<td align="left">{1}</td>
<td align="left">Numerator coefficients of transfer function.</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">a[:]</td>
<td align="left">
</td>
<td align="left">Denominator coefficients of transfer function.</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="71%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Continuous input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Continuous output signal</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>block TransferFunction &quot;Discrete Transfer Function block&quot;
  parameter Real b[:]={1} &quot;Numerator coefficients of transfer function.&quot;;
  parameter Real a[:] &quot;Denominator coefficients of transfer function.&quot;;
  extends Interfaces.DiscreteSISO;
  output Real x[size(a, 1) - 1](each start=0, each fixed=true) 
    &quot;State of transfer function from controller canonical form&quot;;
protected 
  parameter Integer nb=size(b, 1) &quot;Size of Numerator of transfer function&quot;;
  parameter Integer na=size(a, 1) &quot;Size of Denominator of transfer function&quot;;
  Real x1;
  Real xext[size(a, 1)];

equation 
  when sampleTrigger then
    /* State variables x are defined according to
       controller canonical form. */
    x1 = (u - a[2:size(a, 1)]*pre(x))/a[1];
    xext = vector([x1; pre(x)]);
    x = xext[1:size(x, 1)];
    y = vector([zeros(na - nb, 1); b])*xext;
  end when;
  /* This is a non-sampled equation and above there are two separate
       when-clauses. This breaks feeback loops without direct terms,
       since in that case y will be independent of x1 (and only dependent
       on pre(x)).
    */
  /* Corresponding (simpler) version using when-semantics of Modelica 1.3:
   equation
     when sampleTrigger then
      [x; xn] = [x1; pre(x)];
      [u] = transpose([a])*[x1; pre(x)];
      [y] = transpose([zeros(na - nb, 1); b])*[x1; pre(x)];
     end when;
*/
end TransferFunction;</code></pre>
<hr />
<h1 id="image21-modelica.blocks.discrete.statespace"><img src="Modelica.Blocks.Discrete.StateSpaceI.png" alt="image21" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.StateSpace</h1>
<p><strong>Discrete State Space block</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>The <strong>discrete state space</strong> block defines the relation between the input u=inPort.signal and the output y=outPort.signal in state space form:</p>
<pre><code>x = A * pre(x) + B * u
y = C * pre(x) + D * u</code></pre>
<p>where pre(x) is the value of the discrete state x at the previous sample time instant. The input is a vector of length nu, the output is a vector of length ny and nx is the number of states. Accordingly</p>
<pre><code>A has the dimension: A(nx,nx),
B has the dimension: B(nx,nu),
C has the dimension: C(ny,nx),
D has the dimension: D(ny,nu)</code></pre>
<p>Example:</p>
<pre><code>parameter: A = [0.12, 2;3, 1.5]
parameter: B = [2, 7;3, 1]
parameter: C = [0.1, 2]
parameter: D = zeros(ny,nu)</code></pre>
<blockquote>
<dl>
<dt>results in the following equations:</dt>
<dd><p>[x[1]] [0.12 2.00] [pre(x[1])] [2.0 7.0] [u[1]] [ ] = [ ]<em>[ ] + [ ]</em>[ ] [x[2]] [3.00 1.50] [pre(x[2])] [0.1 2.0] [u[2]] [pre(x[1])] [u[1]] y[1] = [0.1 2.0] * [ ] + [0 0] * [ ] [pre(x[2])] [u[2]]</p>
</dd>
</dl>
</blockquote>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteMIMO">Interfaces.DiscreteMIMO</a> (Multiple Input Multiple Output discrete control block).</p>
<h2 id="parameters-5">Parameters</h2>
<table>
<col width="36%" />
<col width="19%" />
<col width="21%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">A[:, size(A, 1)]</td>
<td align="left">
</td>
<td align="left">Matrix A of state space model</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">B[size(A, 1), :]</td>
<td align="left">
</td>
<td align="left">Matrix B of state space model</td>
</tr>
<tr class="odd">
<td align="left">Real</td>
<td align="left">C[:, size(A, 1)]</td>
<td align="left">
</td>
<td align="left">Matrix C of state space model</td>
</tr>
<tr class="even">
<td align="left">Real</td>
<td align="left">D[size(C, 1), size(B, 2)]</td>
<td align="left">zeros(size(C, 1), size(B, 2))</td>
<td align="left">Matrix D of state space model</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">samplePeriod</td>
<td align="left">
</td>
<td align="left">Sample period of component [s]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Time">Time</a></td>
<td align="left">startTime</td>
<td align="left">0</td>
<td align="left">First sample time instant [s]</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">nin</td>
<td align="left">size(B, 2)</td>
<td align="left">Number of inputs</td>
</tr>
<tr class="even">
<td align="left">Integer</td>
<td align="left">nout</td>
<td align="left">size(C, 1)</td>
<td align="left">Number of outputs</td>
</tr>
</tbody>
</table>
<h2 id="connectors-5">Connectors</h2>
<table>
<col width="69%" />
<col width="8%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u[nin]</td>
<td align="left">Continuous input signals</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y[nout]</td>
<td align="left">Continuous output signals</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>block StateSpace &quot;Discrete State Space block&quot;
  parameter Real A[:, size(A, 1)] &quot;Matrix A of state space model&quot;;
  parameter Real B[size(A, 1), :] &quot;Matrix B of state space model&quot;;
  parameter Real C[:, size(A, 1)] &quot;Matrix C of state space model&quot;;
  parameter Real D[size(C, 1), size(B, 2)]=zeros(size(C, 1), size(B, 2)) 
    &quot;Matrix D of state space model&quot;;

  extends Interfaces.DiscreteMIMO(final nin=size(B, 2), final nout=size(C, 1));
  output Real x[size(A, 1)] &quot;State vector&quot;;

equation 
  when sampleTrigger then
    x = A*pre(x) + B*u;
    y = C*pre(x) + D*u;
  end when;
end StateSpace;</code></pre>
<hr />
<h1 id="image22-modelica.blocks.discrete.triggeredsampler"><img src="Modelica.Blocks.Discrete.TriggeredSamplerI.png" alt="image22" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.TriggeredSampler</h1>
<p><strong>Triggered sampling of continuous signals</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>Samples the continuous input signal whenever the trigger input signal is rising (i.e., trigger changes from <strong>false</strong> to <strong>true</strong>) and provides the sampled input signal as output. Before the first sampling, the output signal is equal to the initial value defined via parameter <strong>y0</strong>.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteBlockIcon">Interfaces.DiscreteBlockIcon</a> (Graphical layout of discrete block component icon).</p>
<h2 id="parameters-6">Parameters</h2>
<table>
<col width="12%" />
<col width="18%" />
<col width="16%" />
<col width="48%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">y_start</td>
<td align="left">0</td>
<td align="left">initial value of output signal</td>
</tr>
</tbody>
</table>
<h2 id="connectors-6">Connectors</h2>
<table>
<col width="65%" />
<col width="7%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Connector with a Real input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Connector with a Real output signal</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">trigger</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>block TriggeredSampler &quot;Triggered sampling of continuous signals&quot;
  extends Interfaces.DiscreteBlockIcon;
  parameter Real y_start=0 &quot;initial value of output signal&quot;;

  Modelica.Blocks.Interfaces.RealInput u &quot;Connector with a Real input signal&quot;;
  Modelica.Blocks.Interfaces.RealOutput y &quot;Connector with a Real output signal&quot;;
  Modelica.Blocks.Interfaces.BooleanInput trigger;
equation 
  when trigger then
    y = u;
  end when;
initial equation 
  y = y_start;
end TriggeredSampler;</code></pre>
<hr />
<h1 id="image23-modelica.blocks.discrete.triggeredmax"><img src="Modelica.Blocks.Discrete.TriggeredMaxI.png" alt="image23" /> <a href="Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete">Modelica.Blocks.Discrete</a>.TriggeredMax</h1>
<p><strong>Compute maximum, absolute value of continuous signal at trigger instants</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>Samples the continuous input signal whenever the trigger input signal is rising (i.e., trigger changes from <strong>false</strong> to <strong>true</strong>). The maximum, absolute value of the input signal at the sampling point is provided as output signal.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteBlockIcon">Interfaces.DiscreteBlockIcon</a> (Graphical layout of discrete block component icon).</p>
<h2 id="connectors-7">Connectors</h2>
<table>
<col width="65%" />
<col width="7%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput">RealInput</a></td>
<td align="left">u</td>
<td align="left">Connector with a Real input signal</td>
</tr>
<tr class="even">
<td align="left">output <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput">RealOutput</a></td>
<td align="left">y</td>
<td align="left">Connector with a Real output signal</td>
</tr>
<tr class="odd">
<td align="left">input <a href="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput">BooleanInput</a></td>
<td align="left">trigger</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>block TriggeredMax 
  &quot;Compute maximum, absolute value of continuous signal at trigger instants&quot;

  extends Interfaces.DiscreteBlockIcon;
  Modelica.Blocks.Interfaces.RealInput u &quot;Connector with a Real input signal&quot;;
  Modelica.Blocks.Interfaces.RealOutput y &quot;Connector with a Real output signal&quot;;
  Modelica.Blocks.Interfaces.BooleanInput trigger;
equation 
  when trigger then
     y = max(pre(y), abs(u));
  end when;
initial equation 
  y = 0;
end TriggeredMax;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:27:36 2010.</p>
</body>
</html>
