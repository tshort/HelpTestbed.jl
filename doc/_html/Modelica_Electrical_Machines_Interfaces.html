<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Modelica.Electrical.Machines.Interfaces</title>
</head>
<body>
<div id="header">
<h1 class="title">Modelica.Electrical.Machines.Interfaces</h1>
</div>
<h1 id="modelica.electrical.machines.interfaces"><a href="Modelica_Electrical_Machines.html#Modelica.Electrical.Machines">Modelica.Electrical.Machines</a>.Interfaces</h1>
<p><strong>SpacePhasor connector and PartialMachines</strong></p>
<h2 id="information">Information</h2>
<p>::</p>
<p>This package contains the space phasor connector and partial models for machine models.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons_InterfacesPackage.html#Modelica.Icons.InterfacesPackage">Modelica.Icons.InterfacesPackage</a> (Icon for packages containing interfaces).</p>
<h2 id="package-content">Package Content</h2>
<table>
<col width="79%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.SpacePhasorS.png" alt="image10" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.SpacePhasor">SpacePhasor</a></td>
<td align="left">Connector for Space Phasors</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicMachineS.png" alt="image11" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicMachine">PartialBasicMachine</a></td>
<td align="left">Partial model for all machines</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicInductionMachineS.png" alt="image12" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicInductionMachine">PartialBasicInductionMachine</a></td>
<td align="left">Partial model for induction machine</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.InductionMachinesS.png" alt="image13" /> <a href="Modelica_Electrical_Machines_Interfaces_InductionMachines.html#Modelica.Electrical.Machines.Interfaces.InductionMachines">InductionMachines</a></td>
<td align="left">Interfaces and partial models for induction machines</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicDCMachineS.png" alt="image14" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicDCMachine">PartialBasicDCMachine</a></td>
<td align="left">Partial model for DC machine</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.DCMachinesS.png" alt="image15" /> <a href="Modelica_Electrical_Machines_Interfaces_DCMachines.html#Modelica.Electrical.Machines.Interfaces.DCMachines">DCMachines</a></td>
<td align="left">Thermal ports of DC machines</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicTransformerS.png" alt="image16" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicTransformer">PartialBasicTransformer</a></td>
<td align="left">Partial model of threephase transformer</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.ThermalPortTransformerS.png" alt="image17" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.ThermalPortTransformer">ThermalPortTransformer</a></td>
<td align="left">Thermal port of transformers</td>
</tr>
<tr class="odd">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.PowerBalanceTransformerS.png" alt="image18" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PowerBalanceTransformer">PowerBalanceTransformer</a></td>
<td align="left">Power balance of transformers</td>
</tr>
<tr class="even">
<td align="left"><img src="Modelica.Electrical.Machines.Interfaces.FlangeSupportS.png" alt="image19" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.FlangeSupport">FlangeSupport</a></td>
<td align="left">Shaft and support</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="image20-modelica.electrical.machines.interfaces.spacephasor"><img src="Modelica.Electrical.Machines.Interfaces.SpacePhasorI.png" alt="image20" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.SpacePhasor</h1>
<p><strong>Connector for Space Phasors</strong></p>
<h2 id="information-1">Information</h2>
<p>::</p>
<p>Connector for Space Phasors:</p>
<ul>
<li>Voltage v_[2] ... Real and Imaginary part of voltage space phasor</li>
<li>Current i_[2] ... Real and Imaginary part of current space phasor</li>
</ul>
<p>::</p>
<h2 id="contents">Contents</h2>
<table>
<col width="61%" />
<col width="9%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">v_[2]</td>
<td align="left">1=real, 2=imaginary part [V]</td>
</tr>
<tr class="even">
<td align="left">flow <a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">i_[2]</td>
<td align="left">1=real, 2=imaginary part [A]</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition">Modelica definition</h2>
<pre><code>connector SpacePhasor &quot;Connector for Space Phasors&quot;
  Modelica.SIunits.Voltage v_[2] &quot;1=real, 2=imaginary part&quot;;
  flow Modelica.SIunits.Current i_[2] &quot;1=real, 2=imaginary part&quot;;
end SpacePhasor;</code></pre>
<hr />
<h1 id="image21-modelica.electrical.machines.interfaces.partialbasicmachine"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicMachineI.png" alt="image21" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.PartialBasicMachine</h1>
<p><strong>Partial model for all machines</strong></p>
<h2 id="information-2">Information</h2>
<p>::</p>
<p>Base partial model DC machines:</p>
<ul>
<li>main parts of the icon</li>
<li>mechanical shaft</li>
<li>mechanical support</li>
</ul>
<p>Besides the mechanical connector <em>flange</em> (i.e., the shaft) the machines have a second mechanical connector <em>support</em>. If <em>useSupport</em> = false, it is assumed that the stator is fixed. Otherwise reaction torque (i.e., airGap torque, minus acceleration torque for stator's moment of inertia) can be measured at <em>support</em>. One may also fix the the shaft and let rotate the stator; parameter Js is only of importance when the stator is rotating.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Machines_Icons.html#Modelica.Electrical.Machines.Icons.TransientMachine">Machines.Icons.TransientMachine</a>.</p>
<h2 id="parameters">Parameters</h2>
<table>
<col width="57%" />
<col width="10%" />
<col width="5%" />
<col width="26%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">Jr</td>
<td align="left">
</td>
<td align="left">Rotor's moment of inertia [kg.m2]</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">useSupport</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed stator) support</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">Js</td>
<td align="left">
</td>
<td align="left">Stator's moment of inertia [kg.m2]</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">useThermalPort</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed temperatures) thermal port</td>
</tr>
<tr class="odd">
<td align="left"><strong>Losses</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.FrictionParameters">FrictionParameters</a></td>
<td align="left">frictionParameters</td>
<td align="left">
</td>
<td align="left">Friction losses</td>
</tr>
</tbody>
</table>
<h2 id="connectors">Connectors</h2>
<table>
<col width="64%" />
<col width="6%" />
<col width="28%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">flange</td>
<td align="left">Shaft</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">support</td>
<td align="left">Support at which the reaction torque is acting</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-1">Modelica definition</h2>
<pre><code>partial model PartialBasicMachine &quot;Partial model for all machines&quot;
  extends Machines.Icons.TransientMachine;
  constant Modelica.SIunits.Angle pi=Modelica.Constants.pi;
  parameter Modelica.SIunits.Inertia Jr &quot;Rotor&#39;s moment of inertia&quot;;
  parameter Boolean useSupport=false &quot;Enable / disable (=fixed stator) support&quot;;
  parameter Modelica.SIunits.Inertia Js(start=Jr) &quot;Stator&#39;s moment of inertia&quot;;
  parameter Boolean useThermalPort=false 
    &quot;Enable / disable (=fixed temperatures) thermal port&quot;;
  parameter Machines.Losses.FrictionParameters frictionParameters 
    &quot;Friction losses&quot;;
  output Modelica.SIunits.Angle phiMechanical = flange.phi-internalSupport.phi 
    &quot;Mechanical angle of rotor against stator&quot;;
  output Modelica.SIunits.AngularVelocity wMechanical(displayUnit=&quot;1/min&quot;) = der(phiMechanical) 
    &quot;Mechanical angular velocity of rotor against stator&quot;;
  output Modelica.SIunits.Torque tauElectrical = inertiaRotor.flange_a.tau 
    &quot;Electromagnetic torque&quot;;
  output Modelica.SIunits.Torque tauShaft = -flange.tau &quot;Shaft torque&quot;;
  Modelica.Mechanics.Rotational.Interfaces.Flange_a flange &quot;Shaft&quot;;
  Modelica.Mechanics.Rotational.Components.Inertia inertiaRotor(final J=Jr);
  Modelica.Mechanics.Rotational.Interfaces.Flange_a support if useSupport 
    &quot;Support at which the reaction torque is acting&quot;;
  Modelica.Mechanics.Rotational.Components.Inertia inertiaStator(final J=Js);
  Modelica.Mechanics.Rotational.Components.Fixed fixed if  (not useSupport);
  Machines.Losses.Friction friction(final frictionParameters=frictionParameters);
protected 
  Modelica.Mechanics.Rotational.Interfaces.Support internalSupport;
equation 
  connect(inertiaRotor.flange_b, flange);
  connect(inertiaStator.flange_b, support);
  connect(internalSupport, fixed.flange);
  connect(internalSupport, inertiaStator.flange_a);
  connect(inertiaRotor.flange_b, friction.flange);
  connect(friction.support, internalSupport);
end PartialBasicMachine;</code></pre>
<hr />
<h1 id="image22-modelica.electrical.machines.interfaces.partialbasicinductionmachine"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicInductionMachineI.png" alt="image22" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.PartialBasicInductionMachine</h1>
<p><strong>Partial model for induction machine</strong></p>
<h2 id="information-3">Information</h2>
<p>::</p>
<p>Partial model for induction machine models</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicMachine">PartialBasicMachine</a> (Partial model for all machines).</p>
<h2 id="parameters-1">Parameters</h2>
<table>
<col width="62%" />
<col width="7%" />
<col width="10%" />
<col width="19%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">p</td>
<td align="left">
</td>
<td align="left">Number of pole pairs (Integer)</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Frequency">Frequency</a></td>
<td align="left">fsNominal</td>
<td align="left">
</td>
<td align="left">Nominal frequency [Hz]</td>
</tr>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">useSupport</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed stator) support</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">Js</td>
<td align="left">
</td>
<td align="left">Stator's moment of inertia [kg.m2]</td>
</tr>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">useThermalPort</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed temperatures) thermal port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_InductionMachines.html#Modelica.Electrical.Machines.Interfaces.InductionMachines.PartialPowerBalanceInductionMachines">PartialPowerBalanceInductionMachines</a></td>
<td align="left">powerBalance</td>
<td align="left">redeclare output Machines.In...</td>
<td align="left">Power balance</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_InductionMachines.html#Modelica.Electrical.Machines.Interfaces.InductionMachines.PartialThermalPortInductionMachines">PartialThermalPortInductionMachines</a></td>
<td align="left">thermalPort</td>
<td align="left">redeclare Machines.Interface...</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_InductionMachines.html#Modelica.Electrical.Machines.Interfaces.InductionMachines.PartialThermalAmbientInductionMachines">PartialThermalAmbientInductionMachines</a></td>
<td align="left">thermalAmbient</td>
<td align="left">redeclare Machines.Interface...</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">Operational temperatures</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">TsOperational</td>
<td align="left">
</td>
<td align="left">Operational temperature of stator resistance [K]</td>
</tr>
<tr class="odd">
<td align="left"><strong>Nominal resistances and inductances</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistance">Resistance</a></td>
<td align="left">Rs</td>
<td align="left">
</td>
<td align="left">Stator resistance per phase at TRef [Ohm]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">TsRef</td>
<td align="left">
</td>
<td align="left">Reference temperature of stator resistance [K]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Thermal.html#Modelica.Electrical.Machines.Thermal.LinearTemperatureCoefficient20">LinearTemperatureCoefficient20</a></td>
<td align="left">alpha20s</td>
<td align="left">
</td>
<td align="left">Temperature coefficient of stator resistance at 20 degC [1/K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">Lszero</td>
<td align="left">Lssigma</td>
<td align="left">Stator zero sequence inductance [H]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">Lssigma</td>
<td align="left">
</td>
<td align="left">Stator stray inductance per phase [H]</td>
</tr>
<tr class="odd">
<td align="left"><strong>Losses</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.CoreParameters">CoreParameters</a></td>
<td align="left">statorCoreParameters</td>
<td align="left">
</td>
<td align="left">Stator core losses</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.StrayLoadParameters">StrayLoadParameters</a></td>
<td align="left">strayLoadParameters</td>
<td align="left">
</td>
<td align="left">Stray load losses</td>
</tr>
</tbody>
</table>
<h2 id="connectors-1">Connectors</h2>
<table>
<col width="75%" />
<col width="5%" />
<col width="18%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">flange</td>
<td align="left">Shaft</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">support</td>
<td align="left">Support at which the reaction torque is acting</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_MultiPhase_Interfaces.html#Modelica.Electrical.MultiPhase.Interfaces.PositivePlug">PositivePlug</a></td>
<td align="left">plug_sp</td>
<td align="left">Positive stator plug</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_MultiPhase_Interfaces.html#Modelica.Electrical.MultiPhase.Interfaces.NegativePlug">NegativePlug</a></td>
<td align="left">plug_sn</td>
<td align="left">Negative stator plug</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_InductionMachines.html#Modelica.Electrical.Machines.Interfaces.InductionMachines.PartialThermalPortInductionMachines">PartialThermalPortInductionMachines</a></td>
<td align="left">thermalPort</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-2">Modelica definition</h2>
<pre><code>partial model PartialBasicInductionMachine 
  &quot;Partial model for induction machine&quot;
  final parameter Integer m=3 &quot;Number of phases&quot;;
  parameter Integer p(min=1, start=2) &quot;Number of pole pairs (Integer)&quot;;
  parameter Modelica.SIunits.Frequency fsNominal(start=50) &quot;Nominal frequency&quot;;
  parameter Modelica.SIunits.Temperature TsOperational(start=293.15) 
    &quot;Operational temperature of stator resistance&quot;;
  parameter Modelica.SIunits.Resistance Rs(start=0.03) 
    &quot;Stator resistance per phase at TRef&quot;;
  parameter Modelica.SIunits.Temperature TsRef(start=293.15) 
    &quot;Reference temperature of stator resistance&quot;;
  parameter Machines.Thermal.LinearTemperatureCoefficient20 alpha20s(
    start=0) &quot;Temperature coefficient of stator resistance at 20 degC&quot;;
  parameter Modelica.SIunits.Inductance Lszero=Lssigma 
    &quot;Stator zero sequence inductance&quot;;
  parameter Modelica.SIunits.Inductance Lssigma(start=3*(1 - sqrt(1 - 0.0667))/(2*pi*fsNominal)) 
    &quot;Stator stray inductance per phase&quot;;
  extends PartialBasicMachine(Jr(start=0.29),
    frictionParameters(wRef(start=2*pi*fsNominal/p)));
  parameter Machines.Losses.CoreParameters statorCoreParameters(
    final m=3,
    VRef(start=100),
    wRef=2*pi*fsNominal) &quot;Stator core losses&quot;;
  parameter Machines.Losses.StrayLoadParameters strayLoadParameters(
    IRef(start=100), wRef(start=2*pi*fsNominal/p)) &quot;Stray load losses&quot;;
  replaceable output Machines.Interfaces.InductionMachines.PartialPowerBalanceInductionMachines
    powerBalance(
    final powerStator = Machines.SpacePhasors.Functions.activePower(vs, is),
    final powerMechanical = wMechanical*tauShaft,
    final powerInertiaStator = inertiaStator.J*inertiaStator.a*inertiaStator.w,
    final powerInertiaRotor = inertiaRotor.J*inertiaRotor.a*inertiaRotor.w,
    final lossPowerStatorWinding = -sum(rs.heatPort.Q_flow),
    final lossPowerStatorCore = -statorCore.heatPort.Q_flow,
    final lossPowerStrayLoad = -strayLoad.heatPort.Q_flow,
    final lossPowerFriction = -friction.heatPort.Q_flow) &quot;Power balance&quot;;
  output Modelica.SIunits.Voltage vs[m] = plug_sp.pin.v - plug_sn.pin.v 
    &quot;Stator instantaneous voltages&quot;;
  output Modelica.SIunits.Current is[m] = plug_sp.pin.i 
    &quot;Stator instantaneous currents&quot;;
  output Modelica.SIunits.Current i_0_s( stateSelect=StateSelect.prefer) = spacePhasorS.zero.i 
    &quot;Stator zero-sequence current&quot;;
// to be defined in model that extends from this partial (since airgap isn&#39;t included here)
  input Modelica.SIunits.Current idq_ss[2] 
    &quot;Stator space phasor current / stator fixed frame&quot;;
  input Modelica.SIunits.Current idq_sr[2](each stateSelect=StateSelect.prefer) 
    &quot;Stator space phasor current / rotor fixed frame&quot;;
  input Modelica.SIunits.Current idq_rs[2] 
    &quot;Rotor space phasor current / stator fixed frame&quot;;
  input Modelica.SIunits.Current idq_rr[2](each stateSelect=StateSelect.prefer) 
    &quot;Rotor space phasor current / rotor fixed frame&quot;;
  Modelica.Electrical.MultiPhase.Interfaces.PositivePlug plug_sp(final m=m) 
    &quot;Positive stator plug&quot;;
  Modelica.Electrical.MultiPhase.Interfaces.NegativePlug plug_sn(final m=m) 
    &quot;Negative stator plug&quot;;
  Modelica.Electrical.MultiPhase.Basic.Resistor rs(
    final m=m,
    final R=fill(Rs, m),
    final T_ref=fill(TsRef, m),
    final alpha=fill(Machines.Thermal.convertAlpha(alpha20s, TsRef), m),
    final useHeatPort=true,
    final T=fill(TsRef,m));
  Machines.BasicMachines.Components.Inductor lssigma(final L=fill(Lssigma, 2));
  Modelica.Electrical.Analog.Basic.Inductor lszero(final L=Lszero);
  Machines.Losses.InductionMachines.Core statorCore(final coreParameters=statorCoreParameters);
  Machines.SpacePhasors.Components.SpacePhasor spacePhasorS(final turnsRatio=1);
  Machines.Losses.InductionMachines.StrayLoad strayLoad(final strayLoadParameters=
        strayLoadParameters);
  replaceable Machines.Interfaces.InductionMachines.PartialThermalPortInductionMachines
    thermalPort(final m=m) if useThermalPort;
  replaceable Machines.Interfaces.InductionMachines.PartialThermalAmbientInductionMachines
    thermalAmbient(
    final useTemperatureInputs=false, final Ts=TsOperational,
    final m=m) if not useThermalPort;
protected 
  replaceable Machines.Interfaces.InductionMachines.PartialThermalPortInductionMachines
    internalThermalPort(final m=m);
equation 
  connect(spacePhasorS.plug_n, plug_sn);
  connect(thermalPort, internalThermalPort);
  connect(thermalAmbient.thermalPort, internalThermalPort);
  connect(strayLoad.plug_n, rs.plug_p);
  connect(strayLoad.plug_p, plug_sp);
  connect(strayLoad.flange, inertiaRotor.flange_b);
  connect(strayLoad.support, internalSupport);
  connect(spacePhasorS.plug_p, rs.plug_n);
  connect(spacePhasorS.zero,lszero. p);
  connect(lszero.n, spacePhasorS.ground);
  connect(spacePhasorS.spacePhasor, lssigma.spacePhasor_a);
  connect(statorCore.spacePhasor, lssigma.spacePhasor_a);
  connect(statorCore.heatPort, internalThermalPort.heatPortStatorCore);
  connect(strayLoad.heatPort, internalThermalPort.heatPortStrayLoad);
  connect(rs.heatPort, internalThermalPort.heatPortStatorWinding);
  connect(friction.heatPort, internalThermalPort.heatPortFriction);
end PartialBasicInductionMachine;</code></pre>
<hr />
<h1 id="image23-modelica.electrical.machines.interfaces.partialbasicdcmachine"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicDCMachineI.png" alt="image23" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.PartialBasicDCMachine</h1>
<p><strong>Partial model for DC machine</strong></p>
<h2 id="information-4">Information</h2>
<p>::</p>
<p>Partial model for DC machine models.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.PartialBasicMachine">PartialBasicMachine</a> (Partial model for all machines).</p>
<h2 id="parameters-2">Parameters</h2>
<table>
<col width="60%" />
<col width="8%" />
<col width="12%" />
<col width="20%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">useSupport</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed stator) support</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inertia">Inertia</a></td>
<td align="left">Js</td>
<td align="left">
</td>
<td align="left">Stator's moment of inertia [kg.m2]</td>
</tr>
<tr class="odd">
<td align="left">Boolean</td>
<td align="left">useThermalPort</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed temperatures) thermal port</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_DCMachines.html#Modelica.Electrical.Machines.Interfaces.DCMachines.PartialPowerBalanceDCMachines">PartialPowerBalanceDCMachines</a></td>
<td align="left">powerBalance</td>
<td align="left">redeclare output Machines.In...</td>
<td align="left">Power balance</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_DCMachines.html#Modelica.Electrical.Machines.Interfaces.DCMachines.PartialThermalPortDCMachines">PartialThermalPortDCMachines</a></td>
<td align="left">thermalPort</td>
<td align="left">redeclare Machines.Interface...</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_DCMachines.html#Modelica.Electrical.Machines.Interfaces.DCMachines.PartialThermalAmbientDCMachines">PartialThermalAmbientDCMachines</a></td>
<td align="left">thermalAmbient</td>
<td align="left">redeclare Machines.Interface...</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">Operational temperatures</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">TaOperational</td>
<td align="left">
</td>
<td align="left">Operational armature temperature [K]</td>
</tr>
<tr class="odd">
<td align="left"><strong>Nominal parameters</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Voltage">Voltage</a></td>
<td align="left">VaNominal</td>
<td align="left">
</td>
<td align="left">Nominal armature voltage [V]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Current">Current</a></td>
<td align="left">IaNominal</td>
<td align="left">
</td>
<td align="left">Nominal armature current (&gt;0..Motor, &lt;0..Generator) [A]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity">AngularVelocity</a></td>
<td align="left">wNominal</td>
<td align="left">
</td>
<td align="left">Nominal speed [rad/s]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">TaNominal</td>
<td align="left">
</td>
<td align="left">Nominal armature temperature [K]</td>
</tr>
<tr class="even">
<td align="left"><strong>Nominal resistances and inductances</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistance">Resistance</a></td>
<td align="left">Ra</td>
<td align="left">
</td>
<td align="left">Armature resistance at TRef [Ohm]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">TaRef</td>
<td align="left">
</td>
<td align="left">Reference temperature of armature resistance [K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Thermal.html#Modelica.Electrical.Machines.Thermal.LinearTemperatureCoefficient20">LinearTemperatureCoefficient20</a></td>
<td align="left">alpha20a</td>
<td align="left">
</td>
<td align="left">Temperature coefficient of armature resistance [1/K]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">La</td>
<td align="left">
</td>
<td align="left">Armature inductance [H]</td>
</tr>
<tr class="odd">
<td align="left"><strong>Losses</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.CoreParameters">CoreParameters</a></td>
<td align="left">coreParameters</td>
<td align="left">
</td>
<td align="left">Armature core losses</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.StrayLoadParameters">StrayLoadParameters</a></td>
<td align="left">strayLoadParameters</td>
<td align="left">
</td>
<td align="left">Stray load losses</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Machines_Losses.html#Modelica.Electrical.Machines.Losses.BrushParameters">BrushParameters</a></td>
<td align="left">brushParameters</td>
<td align="left">
</td>
<td align="left">Brush losses</td>
</tr>
</tbody>
</table>
<h2 id="connectors-2">Connectors</h2>
<table>
<col width="72%" />
<col width="6%" />
<col width="21%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">flange</td>
<td align="left">Shaft</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">support</td>
<td align="left">Support at which the reaction torque is acting</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin">PositivePin</a></td>
<td align="left">pin_ap</td>
<td align="left">Positive armature pin</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin">NegativePin</a></td>
<td align="left">pin_an</td>
<td align="left">Negative armature pin</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces_DCMachines.html#Modelica.Electrical.Machines.Interfaces.DCMachines.PartialThermalPortDCMachines">PartialThermalPortDCMachines</a></td>
<td align="left">thermalPort</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-3">Modelica definition</h2>
<pre><code>partial model PartialBasicDCMachine &quot;Partial model for DC machine&quot;
  parameter Modelica.SIunits.Temperature TaOperational(start=293.15) 
    &quot;Operational armature temperature&quot;;
  parameter Modelica.SIunits.Voltage VaNominal(start=100) 
    &quot;Nominal armature voltage&quot;;
  parameter Modelica.SIunits.Current IaNominal(start=100) 
    &quot;Nominal armature current (&gt;0..Motor, &lt;0..Generator)&quot;;
  parameter Modelica.SIunits.AngularVelocity wNominal(displayUnit=&quot;1/min&quot;, start=1425*2*pi/60) 
    &quot;Nominal speed&quot;;
  parameter Modelica.SIunits.Temperature TaNominal(start=293.15) 
    &quot;Nominal armature temperature&quot;;
  parameter Modelica.SIunits.Resistance Ra(start=0.05) 
    &quot;Armature resistance at TRef&quot;;
  parameter Modelica.SIunits.Temperature TaRef(start=293.15) 
    &quot;Reference temperature of armature resistance&quot;;
  parameter Machines.Thermal.LinearTemperatureCoefficient20 alpha20a(
     start=0) &quot;Temperature coefficient of armature resistance&quot;;
  parameter Modelica.SIunits.Inductance La(start=0.0015) &quot;Armature inductance&quot;;
  extends PartialBasicMachine(Jr(start=0.15),
    frictionParameters(wRef=wNominal));
  parameter Machines.Losses.CoreParameters coreParameters(final m=1,
    VRef=ViNominal, wRef=wNominal) &quot;Armature core losses&quot;;
  parameter Machines.Losses.StrayLoadParameters strayLoadParameters(
    IRef=IaNominal, wRef=wNominal) &quot;Stray load losses&quot;;
  parameter Machines.Losses.BrushParameters brushParameters(
    ILinear=0.01*IaNominal) &quot;Brush losses&quot;;
  replaceable output Machines.Interfaces.DCMachines.PartialPowerBalanceDCMachines
    powerBalance(
    final powerArmature = va*ia,
    final powerMechanical = wMechanical*tauShaft,
    final powerInertiaStator = inertiaStator.J*inertiaStator.a*inertiaStator.w,
    final powerInertiaRotor = inertiaRotor.J*inertiaRotor.a*inertiaRotor.w,
    final lossPowerArmature = -ra.heatPort.Q_flow,
    final lossPowerCore = -core.heatPort.Q_flow,
    final lossPowerStrayLoad = -strayLoad.heatPort.Q_flow,
    final lossPowerFriction = -friction.heatPort.Q_flow,
    final lossPowerBrush = -brush.heatPort.Q_flow) &quot;Power balance&quot;;
  output Modelica.SIunits.Voltage va = pin_ap.v-pin_an.v &quot;Armature voltage&quot;;
  output Modelica.SIunits.Current ia = pin_ap.i &quot;Armature current&quot;;
  Modelica.Electrical.Analog.Interfaces.PositivePin pin_ap 
    &quot;Positive armature pin&quot;;
  Modelica.Electrical.Analog.Interfaces.NegativePin pin_an 
    &quot;Negative armature pin&quot;;
  Modelica.Electrical.Analog.Basic.Resistor ra(
    final R=Ra,
    final T_ref=TaRef,
    final alpha=Machines.Thermal.convertAlpha(alpha20a, TaRef),
    final useHeatPort=true,
    final T=TaRef);
  Machines.BasicMachines.Components.InductorDC la(final L=La,
    final quasiStationary = quasiStationary);
  Machines.Losses.DCMachines.Brush brush(final brushParameters=brushParameters);
  Machines.Losses.DCMachines.Core core(final coreParameters=coreParameters);
  Machines.Losses.DCMachines.StrayLoad strayLoad(final strayLoadParameters=strayLoadParameters);
  replaceable Machines.Interfaces.DCMachines.PartialThermalPortDCMachines
    thermalPort if useThermalPort;
  replaceable Machines.Interfaces.DCMachines.PartialThermalAmbientDCMachines
    thermalAmbient(
    final useTemperatureInputs=false, final Ta=TaOperational) if not useThermalPort;
protected 
  constant Boolean quasiStationary=false &quot;No electrical transients if true&quot;;
  parameter Modelica.SIunits.Voltage ViNominal &quot;Nominal induced Voltage&quot;;
  parameter Modelica.SIunits.MagneticFlux psi_eNominal &quot;Nominal magnetic flux&quot;;
  parameter Real turnsRatio = ViNominal/(wNominal*psi_eNominal) 
    &quot;Ratio of armature turns over number of turns of the excitation winding&quot;;
  replaceable Machines.Interfaces.DCMachines.PartialThermalPortDCMachines
    internalThermalPort;
equation 
  assert(ViNominal &gt; Modelica.Constants.eps, &quot;VaNominal has to be &gt; (Ra[+Rse])*IaNominal&quot;);
  connect(la.p,ra. n);
  connect(thermalPort, internalThermalPort);
  connect(thermalAmbient.thermalPort, internalThermalPort);
  connect(brush.n, pin_an);
  connect(pin_ap, strayLoad.p);
  connect(strayLoad.n, ra.p);
  connect(strayLoad.flange, inertiaRotor.flange_b);
  connect(strayLoad.support, internalSupport);
  connect(la.p, core.p);
  connect(core.n, brush.p);
  connect(core.heatPort, internalThermalPort.heatPortCore);
  connect(brush.heatPort, internalThermalPort.heatPortBrush);
  connect(strayLoad.heatPort, internalThermalPort.heatPortStrayLoad);
  connect(friction.heatPort, internalThermalPort.heatPortFriction);
  connect(ra.heatPort, internalThermalPort.heatPortArmature);
end PartialBasicDCMachine;</code></pre>
<hr />
<h1 id="image24-modelica.electrical.machines.interfaces.partialbasictransformer"><img src="Modelica.Electrical.Machines.Interfaces.PartialBasicTransformerI.png" alt="image24" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.PartialBasicTransformer</h1>
<p><strong>Partial model of threephase transformer</strong></p>
<h2 id="information-5">Information</h2>
<p>::</p>
<p>Partialmodel of a threephase transformer, containing primary and secondary resistances and stray inductances, as well as the iron core. Circuit layout (vector group) of primary and secondary windings have to be defined. <strong>Default values for transformer's parameters (a realistic example) are:</strong></p>
<table>
<col width="48%" />
<col width="9%" />
<col width="41%" />
<tbody>
<tr class="odd">
<td align="left">turns ratio n</td>
<td align="left">1</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left">nominal frequency fNominal</td>
<td align="left">50</td>
<td align="left">Hz</td>
</tr>
<tr class="odd">
<td align="left">nominal voltage per phase</td>
<td align="left">100</td>
<td align="left">V RMS</td>
</tr>
<tr class="even">
<td align="left">nominal current per phase</td>
<td align="left">100</td>
<td align="left">A RMS</td>
</tr>
<tr class="odd">
<td align="left">nominal apparent power</td>
<td align="left">30</td>
<td align="left">kVA</td>
</tr>
<tr class="even">
<td align="left">primary resistance R1</td>
<td align="left">0.005</td>
<td align="left">Ohm per phase at reference temperature</td>
</tr>
<tr class="odd">
<td align="left">reference temperature T1Ref</td>
<td align="left">20</td>
<td align="left">°C</td>
</tr>
<tr class="even">
<td align="left">temperature coefficient alpha20_1</td>
<td align="left">0</td>
<td align="left">1/K</td>
</tr>
<tr class="odd">
<td align="left">primary stray inductance L1sigma</td>
<td align="left">78E-6</td>
<td align="left">H per phase</td>
</tr>
<tr class="even">
<td align="left">secondary resistance R2</td>
<td align="left">0.005</td>
<td align="left">Ohm per phase at reference temperature</td>
</tr>
<tr class="odd">
<td align="left">reference temperature T2Ref</td>
<td align="left">20</td>
<td align="left">°C</td>
</tr>
<tr class="even">
<td align="left">temperature coefficient alpha20_2</td>
<td align="left">0</td>
<td align="left">1/K</td>
</tr>
<tr class="odd">
<td align="left">secondary stray inductance L2sigma</td>
<td align="left">78E-6</td>
<td align="left">H per phase</td>
</tr>
<tr class="even">
<td align="left">operational temperature T1Operational</td>
<td align="left">20</td>
<td align="left">°C</td>
</tr>
<tr class="odd">
<td align="left">operational temperature T2Operational</td>
<td align="left">20</td>
<td align="left">°C</td>
</tr>
<tr class="even">
<td align="left">These values give the operational parameters:</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left">nominal voltage drop</td>
<td align="left">0.05</td>
<td align="left">p.u.</td>
</tr>
<tr class="even">
<td align="left">nominal copper losses</td>
<td align="left">300</td>
<td align="left">W</td>
</tr>
</tbody>
</table>
<p>::</p>
<p>Extends from <a href="Modelica_Electrical_Machines_Icons.html#Modelica.Electrical.Machines.Icons.TransientTransformer">Machines.Icons.TransientTransformer</a>.</p>
<h2 id="parameters-3">Parameters</h2>
<table>
<col width="58%" />
<col width="7%" />
<col width="4%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Real</td>
<td align="left">n</td>
<td align="left">
</td>
<td align="left">Ratio primary voltage (line-to-line) / secondary voltage (line-to-line)</td>
</tr>
<tr class="even">
<td align="left">Boolean</td>
<td align="left">useThermalPort</td>
<td align="left">false</td>
<td align="left">Enable / disable (=fixed temperatures) thermal port</td>
</tr>
<tr class="odd">
<td align="left">Operational temperatures</td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T1Operational</td>
<td align="left">
</td>
<td align="left">Operational temperature of primary resistance [K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T2Operational</td>
<td align="left">
</td>
<td align="left">Operational temperature of secondary resistance [K]</td>
</tr>
<tr class="even">
<td align="left"><strong>Nominal resistances and inductances</strong></td>
<td align="left">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistance">Resistance</a></td>
<td align="left">R1</td>
<td align="left">
</td>
<td align="left">Primary resistance per phase at TRef [Ohm]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T1Ref</td>
<td align="left">
</td>
<td align="left">Reference temperature of primary resistance [K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Thermal.html#Modelica.Electrical.Machines.Thermal.LinearTemperatureCoefficient20">LinearTemperatureCoefficient20</a></td>
<td align="left">alpha20_1</td>
<td align="left">
</td>
<td align="left">Temperature coefficient of primary resistance at 20 degC [1/K]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">L1sigma</td>
<td align="left">
</td>
<td align="left">Primary stray inductance per phase [H]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Resistance">Resistance</a></td>
<td align="left">R2</td>
<td align="left">
</td>
<td align="left">Secondary resistance per phase at TRef [Ohm]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Temperature">Temperature</a></td>
<td align="left">T2Ref</td>
<td align="left">
</td>
<td align="left">Reference temperature of secondary resistance [K]</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Thermal.html#Modelica.Electrical.Machines.Thermal.LinearTemperatureCoefficient20">LinearTemperatureCoefficient20</a></td>
<td align="left">alpha20_2</td>
<td align="left">
</td>
<td align="left">Temperature coefficient of secondary resistance at 20 degC [1/K]</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_SIunits.html#Modelica.SIunits.Inductance">Inductance</a></td>
<td align="left">L2sigma</td>
<td align="left">
</td>
<td align="left">Secondary stray inductance per phase [H]</td>
</tr>
</tbody>
</table>
<h2 id="connectors-3">Connectors</h2>
<table>
<col width="80%" />
<col width="9%" />
<col width="10%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_MultiPhase_Interfaces.html#Modelica.Electrical.MultiPhase.Interfaces.PositivePlug">PositivePlug</a></td>
<td align="left">plug1</td>
<td align="left">Primary plug</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Electrical_MultiPhase_Interfaces.html#Modelica.Electrical.MultiPhase.Interfaces.NegativePlug">NegativePlug</a></td>
<td align="left">plug2</td>
<td align="left">Secondary plug</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces.ThermalPortTransformer">ThermalPortTransformer</a></td>
<td align="left">thermalPort</td>
<td align="left">
</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-4">Modelica definition</h2>
<pre><code>partial model PartialBasicTransformer 
  &quot;Partial model of threephase transformer&quot;
  extends Machines.Icons.TransientTransformer;
  final parameter Integer m(min=1) = 3 &quot;Number of phases&quot;;
  constant String VectorGroup=&quot;Yy00&quot;;
  parameter Real n(start=1) 
    &quot;Ratio primary voltage (line-to-line) / secondary voltage (line-to-line)&quot;;
  parameter Modelica.SIunits.Resistance R1(start=5E-3/(if C1==&quot;D&quot; then 1 else 3)) 
    &quot;Primary resistance per phase at TRef&quot;;
  parameter Modelica.SIunits.Temperature T1Ref(start=293.15) 
    &quot;Reference temperature of primary resistance&quot;;
  parameter Machines.Thermal.LinearTemperatureCoefficient20 alpha20_1(
              start=0) 
    &quot;Temperature coefficient of primary resistance at 20 degC&quot;;
  parameter Modelica.SIunits.Inductance L1sigma(start=78E-6/(if C1==&quot;D&quot; then 1 else 3)) 
    &quot;Primary stray inductance per phase&quot;;
  parameter Modelica.SIunits.Resistance R2(start=5E-3/(if C2==&quot;d&quot; then 1 else 3)) 
    &quot;Secondary resistance per phase at TRef&quot;;
  parameter Modelica.SIunits.Temperature T2Ref(start=293.15) 
    &quot;Reference temperature of secondary resistance&quot;;
  parameter Machines.Thermal.LinearTemperatureCoefficient20 alpha20_2(start=0) 
    &quot;Temperature coefficient of secondary resistance at 20 degC&quot;;
  parameter Modelica.SIunits.Inductance L2sigma(start=78E-6/(if C2==&quot;d&quot; then 1 else 3)) 
    &quot;Secondary stray inductance per phase&quot;;
  parameter Boolean useThermalPort=false 
    &quot;Enable / disable (=fixed temperatures) thermal port&quot;;
  parameter Modelica.SIunits.Temperature T1Operational(start=293.15) 
    &quot;Operational temperature of primary resistance&quot;;
  parameter Modelica.SIunits.Temperature T2Operational(start=293.15) 
    &quot;Operational temperature of secondary resistance&quot;;
  output Machines.Interfaces.PowerBalanceTransformer powerBalance(
    final power1 = Machines.SpacePhasors.Functions.activePower(v1, +i1),
    final power2 = Machines.SpacePhasors.Functions.activePower(v2, -i2),
    final lossPower1 = -sum(r1.heatPort.Q_flow),
    final lossPower2 = -sum(r2.heatPort.Q_flow),
    final lossPowerCore = 0) &quot;Power balance&quot;;
  output Modelica.SIunits.Voltage v1[m]=plug1.pin.v &quot;Primary voltage&quot;;
  output Modelica.SIunits.Current i1[m]=plug1.pin.i &quot;Primary current&quot;;
  output Modelica.SIunits.Voltage v2[m]=plug2.pin.v &quot;Secondary voltage&quot;;
  output Modelica.SIunits.Current i2[m]=plug2.pin.i &quot;Secondary current&quot;;
protected 
  constant String C1 = Modelica.Utilities.Strings.substring(VectorGroup,1,1);
  constant String C2 = Modelica.Utilities.Strings.substring(VectorGroup,2,2);
  parameter Real ni=n*(if C2==&quot;z&quot; then sqrt(3) else 2)*(if C2==&quot;d&quot; then 1 else sqrt(3))/(if C1==&quot;D&quot; then 1 else sqrt(3));
public 
  Modelica.Electrical.MultiPhase.Interfaces.PositivePlug plug1(final m=m) 
    &quot;Primary plug&quot;;
  Modelica.Electrical.MultiPhase.Interfaces.NegativePlug plug2(final m=m) 
    &quot;Secondary plug&quot;;
  Modelica.Electrical.MultiPhase.Basic.Resistor r1(
    final m=m,
    final R=fill(R1,m),
    final T_ref=fill(T1Ref,m),
    final alpha=fill(Machines.Thermal.convertAlpha(alpha20_1, T1Ref), m),
    final useHeatPort=true,
    final T=fill(T1Ref,m));
  Modelica.Electrical.MultiPhase.Basic.Inductor l1sigma(final m=m, final L=fill(L1sigma, m));
  Modelica.Electrical.MultiPhase.Basic.Resistor r2(
    final m=m,
    final R=fill(R2,m),
    final T_ref=fill(T2Ref,m),
    final alpha=fill(Machines.Thermal.convertAlpha(alpha20_2, T2Ref), m),
    final useHeatPort=true,
    final T=fill(T2Ref,m));
  Modelica.Electrical.MultiPhase.Basic.Inductor l2sigma(final m=m, final L=fill(L2sigma, m));
  Machines.BasicMachines.Components.IdealCore core(
    final m=m,
    final n12=ni,
    final n13=ni);
  Machines.Interfaces.ThermalPortTransformer thermalPort(final m=m) if useThermalPort;
 Machines.Thermal.ThermalAmbientTransformer thermalAmbient(final useTemperatureInputs=false,
    final T1=T1Operational,
    final T2=T2Operational,
    final m=m) if not useThermalPort;
protected 
  Machines.Interfaces.ThermalPortTransformer internalThermalPort(final m=m);
equation 
  connect(r1.plug_n,l1sigma.plug_p);
  connect(l2sigma.plug_n,r2.plug_p);
  connect(plug1, r1.plug_p);
  connect(r2.plug_n, plug2);
  connect(thermalPort, internalThermalPort);
  connect(thermalAmbient.thermalPort, internalThermalPort);
  connect(r1.heatPort, internalThermalPort.heatPort1);
  connect(r2.heatPort, internalThermalPort.heatPort2);
end PartialBasicTransformer;</code></pre>
<hr />
<h1 id="image25-modelica.electrical.machines.interfaces.thermalporttransformer"><img src="Modelica.Electrical.Machines.Interfaces.ThermalPortTransformerI.png" alt="image25" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.ThermalPortTransformer</h1>
<p><strong>Thermal port of transformers</strong></p>
<h2 id="information-6">Information</h2>
<p>::</p>
<p>Thermal port for transformers</p>
<p>::</p>
<h2 id="parameters-4">Parameters</h2>
<table>
<col width="16%" />
<col width="12%" />
<col width="16%" />
<col width="29%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">m</td>
<td align="left">3</td>
<td align="left">number of phases</td>
</tr>
</tbody>
</table>
<h2 id="contents-1">Contents</h2>
<table>
<col width="67%" />
<col width="9%" />
<col width="22%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">m</td>
<td align="left">number of phases</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort1[m]</td>
<td align="left">Heat port of primary windings</td>
</tr>
<tr class="odd">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPort2[m]</td>
<td align="left">Heat port of secondary windings</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a">HeatPort_a</a></td>
<td align="left">heatPortCore</td>
<td align="left">Heat port of (optional) core losses</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-5">Modelica definition</h2>
<pre><code>connector ThermalPortTransformer &quot;Thermal port of transformers&quot;
  parameter Integer m=3 &quot;number of phases&quot;;

  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort1[m] 
    &quot;Heat port of primary windings&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPort2[m] 
    &quot;Heat port of secondary windings&quot;;
  Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a heatPortCore 
    &quot;Heat port of (optional) core losses&quot;;
end ThermalPortTransformer;</code></pre>
<hr />
<h1 id="image26-modelica.electrical.machines.interfaces.powerbalancetransformer"><img src="Modelica.Electrical.Machines.Interfaces.PowerBalanceTransformerI.png" alt="image26" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.PowerBalanceTransformer</h1>
<p><strong>Power balance of transformers</strong></p>
<h2 id="information-7">Information</h2>
<p>::</p>
<p>Power balance of transformers.</p>
<p>::</p>
<p>Extends from <a href="Modelica_Icons.html#Modelica.Icons.Record">Modelica.Icons.Record</a> (Icon for records).</p>
<h2 id="modelica-definition-6">Modelica definition</h2>
<pre><code>record PowerBalanceTransformer &quot;Power balance of transformers&quot;
  extends Modelica.Icons.Record;
  Modelica.SIunits.Power power1 &quot;Primary power&quot;;
  Modelica.SIunits.Power power2 &quot;Secondary power&quot;;
  Modelica.SIunits.Power lossPowerTotal = lossPower1 + lossPower2 + lossPowerCore 
    &quot;Total loss power&quot;;
  Modelica.SIunits.Power lossPower1 &quot;Primary copper losses&quot;;
  Modelica.SIunits.Power lossPower2 &quot;Secondary copper losses&quot;;
  Modelica.SIunits.Power lossPowerCore &quot;Core losses&quot;;
end PowerBalanceTransformer;</code></pre>
<hr />
<h1 id="image27-modelica.electrical.machines.interfaces.flangesupport"><img src="Modelica.Electrical.Machines.Interfaces.FlangeSupportI.png" alt="image27" /> <a href="Modelica_Electrical_Machines_Interfaces.html#Modelica.Electrical.Machines.Interfaces">Modelica.Electrical.Machines.Interfaces</a>.FlangeSupport</h1>
<p><strong>Shaft and support</strong></p>
<h2 id="information-8">Information</h2>
<p>::</p>
<p>This partial model defines shaft and housing connector for loss models. Positive torque <code>tau</code> acts as braking torque.</p>
<p>::</p>
<h2 id="connectors-4">Connectors</h2>
<table>
<col width="76%" />
<col width="7%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">flange</td>
<td align="left">Shaft end</td>
</tr>
<tr class="even">
<td align="left"><a href="Modelica_Mechanics_Rotational_Interfaces.html#Modelica.Mechanics.Rotational.Interfaces.Flange_a">Flange_a</a></td>
<td align="left">support</td>
<td align="left">Housing and support</td>
</tr>
</tbody>
</table>
<h2 id="modelica-definition-7">Modelica definition</h2>
<pre><code>partial model FlangeSupport &quot;Shaft and support&quot;

  Modelica.Mechanics.Rotational.Interfaces.Flange_a flange &quot;Shaft end&quot;;
  Modelica.Mechanics.Rotational.Interfaces.Flange_a support 
    &quot;Housing and support&quot;;

  Modelica.SIunits.Angle phi &quot;Angle between shaft and support&quot;;
  Modelica.SIunits.Torque tau &quot;Torque&quot;;
  Modelica.SIunits.AngularVelocity w 
    &quot;Relative angular velocity of flange and support&quot;;
equation 
  phi = flange.phi - support.phi;
  w = der(phi);
  tau = -flange.tau;
  tau = support.tau;
end FlangeSupport;</code></pre>
<hr />
<p><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:29:13 2010.</p>
</body>
</html>
